/*
 * vdiff.js Acknowledgements
 *

 * OpenCV.js
 * Apache License 2.0
 * https://github.com/opencv/opencv/blob/master/LICENSE
 
 * jQuery / jQuery UI
 * MIT License
 * Copyright OpenJS Foundation and other contributors, https://openjsf.org/
 * https://github.com/jquery/jquery/blob/main/LICENSE.txt

 * jQuery Images Compare
 * MIT License
 * Copyright (c) 2016 Sylvain Combes
 * https://github.com/sylvaincombes/jquery-images-compare/blob/master/LICENSE.md

 * jQuery Halo Context Menu
 * Dual licensed under the MIT and GPL licenses
 * Author: Josh Hundley
 * http://joshhundley.com/halo/jquery.halocontext.js
 * https://web.archive.org/web/20090412074555/http://www.joshhundley.com:80/halo/

 * Hammer.js
 * MIT License
 * Copyright (C) 2011-2017 by Jorik Tangelder (Eight Media)
 * https://github.com/hammerjs/hammer.js/blob/master/LICENSE.md

 * Font Awesome
 * Font Awesome Free License (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License)
 * https://fontawesome.com/license/free
 * https://github.com/FortAwesome/Font-Awesome/blob/master/LICENSE.txt
 
 * Annotorious
 * BSD 3-Clause License
 * Copyright (c) 2020, Pelagios Network
 * https://github.com/recogito/annotorious/blob/main/LICENSE
 */
/*
 * vdiff.js editor Acknowledgements
 * 

 * OpenCV.js
 * Apache License 2.0
 * https://github.com/opencv/opencv/blob/master/LICENSE

 * jQuery
 * MIT License
 * Copyright OpenJS Foundation and other contributors, https://openjsf.org/
 * https://github.com/jquery/jquery/blob/main/LICENSE.txt

 * Leaflet
 * BSD 2-Clause "Simplified" License
 * Copyright (c) 2010-2022, Vladimir Agafonkin
 * Copyright (c) 2010-2011, CloudMade
 * https://github.com/Leaflet/Leaflet/blob/master/LICENSE
 */
/*! Hammer.JS - v2.0.8 - 2016-04-23
 * http://hammerjs.github.io/
 *
 * Copyright (c) 2016 Jorik Tangelder;
 * Licensed under the MIT license */
!function(o,j,_){"use strict";function I(t,e,n){return setTimeout(B(t,n),e)}function n(t,e,n){return Array.isArray(t)&&(s(t,n[e],n),1)}function s(t,e,n){if(t)if(t.forEach)t.forEach(e,n);else if(t.length!==_)for(i=0;i<t.length;)e.call(n,t[i],i,t),i++;else for(var i in t)t.hasOwnProperty(i)&&e.call(n,t[i],i,t)}function R(n,t,e){var i="DEPRECATED METHOD: "+t+"\n"+e+" AT \n";return function(){var t=new Error("get-stack-trace"),t=t&&t.stack?t.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",e=o.console&&(o.console.warn||o.console.log);return e&&e.call(o.console,i,t),n.apply(this,arguments)}}function t(t,e,n){var e=e.prototype,i=t.prototype=Object.create(e);i.constructor=t,i._super=e,n&&x(i,n)}function B(t,e){return function(){return t.apply(e,arguments)}}function H(t,e){return typeof t==gt?t.apply(e&&e[0]||_,e):t}function F(t,e){return t===_?e:t}function e(e,t,n){s(r(t),function(t){e.addEventListener(t,n,!1)})}function i(e,t,n){s(r(t),function(t){e.removeEventListener(t,n,!1)})}function W(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function l(t,e){return-1<t.indexOf(e)}function r(t){return t.trim().split(/\s+/g)}function a(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var i=0;i<t.length;){if(n&&t[i][n]==e||!n&&t[i]===e)return i;i++}return-1}function u(t){return Array.prototype.slice.call(t,0)}function V(t,n,e){for(var i=[],o=[],r=0;r<t.length;){var s=n?t[r][n]:t[r];a(o,s)<0&&i.push(t[r]),o[r]=s,r++}return i=e?n?i.sort(function(t,e){return t[n]>e[n]}):i.sort():i}function c(t,e){for(var n,i=e[0].toUpperCase()+e.slice(1),o=0;o<ft.length;){if((n=(n=ft[o])?n+i:e)in t)return n;o++}return _}function U(t){t=t.ownerDocument||t;return t.defaultView||t.parentWindow||o}function h(e,t){var n=this;this.manager=e,this.callback=t,this.element=e.element,this.target=e.options.inputTarget,this.domHandler=function(t){H(e.options.enable,[e])&&n.handler(t)},this.init()}function Z(t,e,n){var i,o,r,s,a,l,u,c=n.pointers.length,h=n.changedPointers.length,d=e&C&&c-h==0,c=e&(E|A)&&c-h==0,p=(n.isFirst=!!d,n.isFinal=!!c,d&&(t.session={}),n.eventType=e,h=n,d=(c=t).session,e=h.pointers,o=e.length,d.firstInput||(d.firstInput=q(h)),1<o&&!d.firstMultiple?d.firstMultiple=q(h):1===o&&(d.firstMultiple=!1),o=d.firstInput,r=d.firstMultiple,s=(r||o).center,p=h.center=$(e),h.timeStamp=vt(),h.deltaTime=h.timeStamp-o.timeStamp,h.angle=X(s,p),h.distance=b(s,p),d),f=h,m=f.center,g=p.offsetDelta||{},v=p.prevDelta||{},y=p.prevInput||{},y=(f.eventType!==C&&y.eventType!==E||(v=p.prevDelta={x:y.deltaX||0,y:y.deltaY||0},g=p.offsetDelta={x:m.x,y:m.y}),f.deltaX=v.x+(m.x-g.x),f.deltaY=v.y+(m.y-g.y),h.offsetDirection=Y(h.deltaX,h.deltaY),o=G(h.deltaTime,h.deltaX,h.deltaY),h.overallVelocityX=o.x,h.overallVelocityY=o.y,h.overallVelocity=w(o.x)>w(o.y)?o.x:o.y,h.scale=r?function(t,e){return b(e[0],e[1],Ot)/b(t[0],t[1],Ot)}(r.pointers,e):1,h.rotation=r?function(t,e){return X(e[1],e[0],Ot)+X(t[1],t[0],Ot)}(r.pointers,e):0,h.maxPointers=!d.prevInput||h.pointers.length>d.prevInput.maxPointers?h.pointers.length:d.prevInput.maxPointers,d),p=h,f=y.lastInterval||p,v=p.timeStamp-f.timeStamp;p.eventType!=A&&(Et<v||f.velocity===_)?(i=p.deltaX-f.deltaX,m=p.deltaY-f.deltaY,v=G(v,i,m),l=v.x,u=v.y,a=w(v.x)>w(v.y)?v.x:v.y,i=Y(i,m),y.lastInterval=p):(a=f.velocity,l=f.velocityX,u=f.velocityY,i=f.direction),p.velocity=a,p.velocityX=l,p.velocityY=u,p.direction=i,s=c.element,W(h.srcEvent.target,s)&&(s=h.srcEvent.target),h.target=s,t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function q(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:y(t.pointers[n].clientX),clientY:y(t.pointers[n].clientY)},n++;return{timeStamp:vt(),pointers:e,center:$(e),deltaX:t.deltaX,deltaY:t.deltaY}}function $(t){var e=t.length;if(1===e)return{x:y(t[0].clientX),y:y(t[0].clientY)};for(var n=0,i=0,o=0;o<e;)n+=t[o].clientX,i+=t[o].clientY,o++;return{x:y(n/e),y:y(i/e)}}function G(t,e,n){return{x:e/t||0,y:n/t||0}}function Y(t,e){return t===e?At:w(t)>=w(e)?t<0?T:P:e<0?O:k}function b(t,e,n){var i=e[(n=n||Pt)[0]]-t[n[0]],e=e[n[1]]-t[n[1]];return Math.sqrt(i*i+e*e)}function X(t,e,n){var i=e[(n=n||Pt)[0]]-t[n[0]],e=e[n[1]]-t[n[1]];return 180*Math.atan2(e,i)/Math.PI}function d(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,h.apply(this,arguments)}function K(){this.evEl=Dt,this.evWin=Nt,h.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function J(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,h.apply(this,arguments)}function p(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},h.apply(this,arguments)}function Q(){h.apply(this,arguments);var t=B(this.handler,this);this.touch=new p(this.manager,t),this.mouse=new d(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function tt(t){var e,n,t=t.changedPointers[0];t.identifier===this.primaryTouch&&(e={x:t.clientX,y:t.clientY},this.lastTouches.push(e),n=this.lastTouches,setTimeout(function(){var t=n.indexOf(e);-1<t&&n.splice(t,1)},It))}function et(t,e){this.manager=t,this.set(e)}function f(t){this.options=x({},this.defaults,t||{}),this.id=bt++,this.manager=null,this.options.enable=F(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function nt(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function it(t){return t==k?"down":t==O?"up":t==T?"left":t==P?"right":""}function m(t,e){e=e.manager;return e?e.get(t):t}function g(){f.apply(this,arguments)}function ot(){g.apply(this,arguments),this.pX=null,this.pY=null}function rt(){g.apply(this,arguments)}function st(){f.apply(this,arguments),this._timer=null,this._input=null}function at(){g.apply(this,arguments)}function lt(){g.apply(this,arguments)}function ut(){f.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function v(t,e){return(e=e||{}).recognizers=F(e.recognizers,v.defaults.preset),new ct(t,e)}function ct(t,e){this.options=x({},v.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=new((e=this).options.inputClass||(xt?K:St?p:wt?Q:d))(e,Z),this.touchAction=new et(this,this.options.touchAction),ht(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ht(n,i){var o,r=n.element;r.style&&(s(n.options.cssProps,function(t,e){o=c(r.style,e),i?(n.oldCssProps[o]=r.style[o],r.style[o]=t):r.style[o]=n.oldCssProps[o]||""}),i||(n.oldCssProps={}))}var dt,pt,ft=["","webkit","Moz","MS","ms","o"],mt=j.createElement("div"),gt="function",y=Math.round,w=Math.abs,vt=Date.now,x="function"!=typeof Object.assign?function(t){if(t===_||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(i!==_&&null!==i)for(var o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e}:Object.assign,yt=R(function(t,e,n){for(var i=Object.keys(e),o=0;o<i.length;)n&&t[i[o]]!==_||(t[i[o]]=e[i[o]]),o++;return t},"extend","Use `assign`."),_t=R(function(t,e){return yt(t,e,!0)},"merge","Use `assign`."),bt=1,wt="ontouchstart"in o,xt=c(o,"PointerEvent")!==_,St=wt&&/mobile|tablet|ip(ad|hone|od)|android/i.test(navigator.userAgent),S="touch",Ct="mouse",Et=25,C=1,E=4,A=8,At=1,T=2,P=4,O=8,k=16,L=T|P,M=O|k,Tt=L|M,Pt=["x","y"],Ot=["clientX","clientY"],kt=(h.prototype={handler:function(){},init:function(){this.evEl&&e(this.element,this.evEl,this.domHandler),this.evTarget&&e(this.target,this.evTarget,this.domHandler),this.evWin&&e(U(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&i(this.element,this.evEl,this.domHandler),this.evTarget&&i(this.target,this.evTarget,this.domHandler),this.evWin&&i(U(this.element),this.evWin,this.domHandler)}},{mousedown:C,mousemove:2,mouseup:E}),Lt=(t(d,h,{handler:function(t){var e=kt[t.type];e&C&&0===t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=E),this.pressed&&(e&E&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:Ct,srcEvent:t}))}}),{pointerdown:C,pointermove:2,pointerup:E,pointercancel:A,pointerout:A}),Mt={2:S,3:"pen",4:Ct,5:"kinect"},Dt="pointerdown",Nt="pointermove pointerup pointercancel",zt=(o.MSPointerEvent&&!o.PointerEvent&&(Dt="MSPointerDown",Nt="MSPointerMove MSPointerUp MSPointerCancel"),t(K,h,{handler:function(t){var e=this.store,n=!1,i=t.type.toLowerCase().replace("ms",""),i=Lt[i],o=Mt[t.pointerType]||t.pointerType,r=o==S,s=a(e,t.pointerId,"pointerId");i&C&&(0===t.button||r)?s<0&&(e.push(t),s=e.length-1):i&(E|A)&&(n=!0),s<0||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}}),{touchstart:C,touchmove:2,touchend:E,touchcancel:A}),jt=(t(J,h,{handler:function(t){var e,n=zt[t.type];n===C&&(this.started=!0),this.started&&(e=function(t,e){var n=u(t.touches),t=u(t.changedTouches);return[n=e&(E|A)?V(n.concat(t),"identifier",!0):n,t]}.call(this,t,n),n&(E|A)&&e[0].length-e[1].length==0&&(this.started=!1),this.callback(this.manager,n,{pointers:e[0],changedPointers:e[1],pointerType:S,srcEvent:t}))}}),{touchstart:C,touchmove:2,touchend:E,touchcancel:A}),It=(t(p,h,{handler:function(t){var e=jt[t.type],n=function(t,e){var n=u(t.touches),i=this.targetIds;if(e&(2|C)&&1===n.length)return i[n[0].identifier]=!0,[n,n];var o,r=u(t.changedTouches),s=[],a=this.target,l=n.filter(function(t){return W(t.target,a)});if(e===C)for(o=0;o<l.length;)i[l[o].identifier]=!0,o++;for(o=0;o<r.length;)i[r[o].identifier]&&s.push(r[o]),e&(E|A)&&delete i[r[o].identifier],o++;return s.length?[V(l.concat(s),"identifier",!0),s]:void 0}.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:S,srcEvent:t})}}),2500),Rt=(t(Q,h,{handler:function(t,e,n){var i=n.pointerType==S,o=n.pointerType==Ct;if(!(o&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(i)!function(t,e){t&C?(this.primaryTouch=e.changedPointers[0].identifier,tt.call(this,e)):t&(E|A)&&tt.call(this,e)}.call(this,e,n);else if(o&&function(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,i=0;i<this.lastTouches.length;i++){var o=this.lastTouches[i],r=Math.abs(e-o.x),o=Math.abs(n-o.y);if(r<=25&&o<=25)return!0}return!1}.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}}),c(mt.style,"touchAction")),Bt=Rt!==_,Ht="compute",Ft="manipulation",D="none",N="pan-x",z="pan-y",Wt=Bt&&(dt={},pt=o.CSS&&o.CSS.supports,["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(t){dt[t]=!pt||o.CSS.supports("touch-action",t)}),dt);et.prototype={set:function(t){t==Ht&&(t=this.compute()),Bt&&this.manager.element.style&&Wt[t]&&(this.manager.element.style[Rt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t,e,n,i=[];return s(this.manager.recognizers,function(t){H(t.options.enable,[t])&&(i=i.concat(t.getTouchAction()))}),l(t=i.join(" "),D)||(e=l(t,N),n=l(t,z),e&&n)?D:e||n?e?N:z:l(t,Ft)?Ft:"auto"},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(!this.manager.session.prevented){var i=this.actions,o=l(i,D)&&!Wt[D],r=l(i,z)&&!Wt[z],i=l(i,N)&&!Wt[N];if(o){var s=1===t.pointers.length,a=t.distance<2,t=t.deltaTime<250;if(s&&a&&t)return}return(!i||!r)&&(o||r&&n&L||i&&n&M)?this.preventSrc(e):void 0}e.preventDefault()},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}},f.prototype={defaults:{},set:function(t){return x(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){var e;return n(t,"recognizeWith",this)||(e=this.simultaneous)[(t=m(t,this)).id]||(e[t.id]=t).recognizeWith(this),this},dropRecognizeWith:function(t){return n(t,"dropRecognizeWith",this)||(t=m(t,this),delete this.simultaneous[t.id]),this},requireFailure:function(t){var e;return n(t,"requireFailure",this)||-1===a(e=this.requireFail,t=m(t,this))&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){return n(t,"dropRequireFailure",this)||(t=m(t,this),-1<(t=a(this.requireFail,t))&&this.requireFail.splice(t,1)),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(e){function t(t){n.manager.emit(t,e)}var n=this,i=this.state;i<8&&t(n.options.event+nt(i)),t(n.options.event),e.additionalEvent&&t(e.additionalEvent),8<=i&&t(n.options.event+nt(i))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){t=x({},t);return H(this.options.enable,[this,t])?(56&this.state&&(this.state=1),this.state=this.process(t),void(30&this.state&&this.tryEmit(t))):(this.reset(),void(this.state=32))},process:function(t){},getTouchAction:function(){},reset:function(){}},t(g,f,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,i=6&e,t=this.attrTest(t);return i&&(n&A||!t)?16|e:i||t?n&E?8|e:2&e?4|e:2:32}}),t(ot,g,{defaults:{event:"pan",threshold:10,pointers:1,direction:Tt},getTouchAction:function(){var t=this.options.direction,e=[];return t&L&&e.push(z),t&M&&e.push(N),e},directionTest:function(t){var e=this.options,n=!0,i=t.distance,o=t.direction,r=t.deltaX,s=t.deltaY;return o&e.direction||(i=e.direction&L?(o=0===r?At:r<0?T:P,n=r!=this.pX,Math.abs(t.deltaX)):(o=0===s?At:s<0?O:k,n=s!=this.pY,Math.abs(t.deltaY))),t.direction=o,n&&i>e.threshold&&o&e.direction},attrTest:function(t){return g.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=it(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(rt,g,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[D]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){var e;1!==t.scale&&(e=t.scale<1?"in":"out",t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),t(st,f,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!i||!n||t.eventType&(E|A)&&!o)this.reset();else if(t.eventType&C)this.reset(),this._timer=I(function(){this.state=8,this.tryEmit()},e.time,this);else if(t.eventType&E)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8===this.state&&(t&&t.eventType&E?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=vt(),this.manager.emit(this.options.event,this._input)))}}),t(at,g,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[D]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),t(lt,g,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:L|M,pointers:1},getTouchAction:function(){return ot.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return n&(L|M)?e=t.overallVelocity:n&L?e=t.overallVelocityX:n&M&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&w(e)>this.options.velocity&&t.eventType&E},emit:function(t){var e=it(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),t(ut,f,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[Ft]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,i=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),t.eventType&C&&0===this.count)return this.failTimeout();if(i&&o&&n){if(t.eventType!=E)return this.failTimeout();i=!this.pTime||t.timeStamp-this.pTime<e.interval,o=!this.pCenter||b(this.pCenter,t.center)<e.posThreshold;if(this.pTime=t.timeStamp,this.pCenter=t.center,o&&i?this.count+=1:this.count=1,this._input=t,0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=I(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=I(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),v.VERSION="2.0.8",v.defaults={domEvents:!1,touchAction:Ht,enable:!0,inputTarget:null,inputClass:null,preset:[[at,{enable:!1}],[rt,{enable:!1},["rotate"]],[lt,{direction:L}],[ot,{direction:L},["swipe"]],[ut],[ut,{event:"doubletap",taps:2},["tap"]],[st]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};ct.prototype={set:function(t){return x(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,i=this.recognizers,o=e.curRecognizer;(!o||8&o.state)&&(o=e.curRecognizer=null);for(var r=0;r<i.length;)n=i[r],2===e.stopped||o&&n!=o&&!n.canRecognizeWith(o)?n.reset():n.recognize(t),!o&&14&n.state&&(o=e.curRecognizer=n),r++}},get:function(t){if(t instanceof f)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){var e;return n(t,"add",this)?this:((e=this.get(t.options.event))&&this.remove(e),this.recognizers.push(t),(t.manager=this).touchAction.update(),t)},remove:function(t){var e;return n(t,"remove",this)||(t=this.get(t))&&-1!==(t=a(e=this.recognizers,t))&&(e.splice(t,1),this.touchAction.update()),this},on:function(t,e){var n;if(t!==_&&e!==_)return n=this.handlers,s(r(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this},off:function(t,e){var n;if(t!==_)return n=this.handlers,s(r(t),function(t){e?n[t]&&n[t].splice(a(n[t],e),1):delete n[t]}),this},emit:function(t,e){this.options.domEvents&&(n=t,i=e,(o=j.createEvent("Event")).initEvent(n,!0,!0),(o.gesture=i).target.dispatchEvent(o));var n,i,o,r=this.handlers[t]&&this.handlers[t].slice();if(r&&r.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var s=0;s<r.length;)r[s](e),s++}},destroy:function(){this.element&&ht(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},x(v,{INPUT_START:C,INPUT_MOVE:2,INPUT_END:E,INPUT_CANCEL:A,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:At,DIRECTION_LEFT:T,DIRECTION_RIGHT:P,DIRECTION_UP:O,DIRECTION_DOWN:k,DIRECTION_HORIZONTAL:L,DIRECTION_VERTICAL:M,DIRECTION_ALL:Tt,Manager:ct,Input:h,TouchAction:et,TouchInput:p,MouseInput:d,PointerEventInput:K,TouchMouseInput:Q,SingleTouchInput:J,Recognizer:f,AttrRecognizer:g,Tap:ut,Pan:ot,Swipe:lt,Pinch:rt,Rotate:at,Press:st,on:e,off:i,each:s,merge:_t,extend:yt,assign:x,inherit:t,bindFn:B,prefixed:c}),(void 0!==o?o:"undefined"!=typeof self?self:{}).Hammer=v,"function"==typeof define&&define.amd?define(function(){return v}):"undefined"!=typeof module&&module.exports?module.exports=v:o.Hammer=v}(window,document),
/*! jQuery v3.6.0 | (c) OpenJS Foundation and other contributors | jquery.org/license */
!function(t,e){"use strict";"object"==typeof module&&"object"==typeof module.exports?module.exports=t.document?e(t,!0):function(t){if(t.document)return e(t);throw new Error("jQuery requires a window with a document")}:e(t)}("undefined"!=typeof window?window:this,function(x,j){"use strict";function y(t){return"function"==typeof t&&"number"!=typeof t.nodeType&&"function"!=typeof t.item}function m(t){return null!=t&&t===t.window}var e=[],I=Object.getPrototypeOf,a=e.slice,R=e.flat?function(t){return e.flat.call(t)}:function(t){return e.concat.apply([],t)},B=e.push,H=e.indexOf,F={},W=F.toString,V=F.hasOwnProperty,U=V.toString,Z=U.call(Object),g={},S=x.document,q={type:!0,src:!0,nonce:!0,noModule:!0};function $(t,e,n){var i,o,r=(n=n||S).createElement("script");if(r.text=t,e)for(i in q)(o=e[i]||e.getAttribute&&e.getAttribute(i))&&r.setAttribute(i,o);n.head.appendChild(r).parentNode.removeChild(r)}function f(t){return null==t?t+"":"object"==typeof t||"function"==typeof t?F[W.call(t)]||"object":typeof t}var C=function(t,e){return new C.fn.init(t,e)};function G(t){var e=!!t&&"length"in t&&t.length,n=f(t);return!y(t)&&!m(t)&&("array"===n||0===e||"number"==typeof e&&0<e&&e-1 in t)}C.fn=C.prototype={jquery:"3.6.0",constructor:C,length:0,toArray:function(){return a.call(this)},get:function(t){return null==t?a.call(this):t<0?this[t+this.length]:this[t]},pushStack:function(t){t=C.merge(this.constructor(),t);return t.prevObject=this,t},each:function(t){return C.each(this,t)},map:function(n){return this.pushStack(C.map(this,function(t,e){return n.call(t,e,t)}))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(C.grep(this,function(t,e){return(e+1)%2}))},odd:function(){return this.pushStack(C.grep(this,function(t,e){return e%2}))},eq:function(t){var e=this.length,t=+t+(t<0?e:0);return this.pushStack(0<=t&&t<e?[this[t]]:[])},end:function(){return this.prevObject||this.constructor()},push:B,sort:e.sort,splice:e.splice},C.extend=C.fn.extend=function(){var t,e,n,i,o,r=arguments[0]||{},s=1,a=arguments.length,l=!1;for("boolean"==typeof r&&(l=r,r=arguments[s]||{},s++),"object"==typeof r||y(r)||(r={}),s===a&&(r=this,s--);s<a;s++)if(null!=(t=arguments[s]))for(e in t)n=t[e],"__proto__"!==e&&r!==n&&(l&&n&&(C.isPlainObject(n)||(i=Array.isArray(n)))?(o=r[e],o=i&&!Array.isArray(o)?[]:i||C.isPlainObject(o)?o:{},i=!1,r[e]=C.extend(l,o,n)):void 0!==n&&(r[e]=n));return r},C.extend({expando:"jQuery"+("3.6.0"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(t){throw new Error(t)},noop:function(){},isPlainObject:function(t){return!(!t||"[object Object]"!==W.call(t)||(t=I(t))&&("function"!=typeof(t=V.call(t,"constructor")&&t.constructor)||U.call(t)!==Z))},isEmptyObject:function(t){for(var e in t)return!1;return!0},globalEval:function(t,e,n){$(t,{nonce:e&&e.nonce},n)},each:function(t,e){var n,i=0;if(G(t))for(n=t.length;i<n&&!1!==e.call(t[i],i,t[i]);i++);else for(i in t)if(!1===e.call(t[i],i,t[i]))break;return t},makeArray:function(t,e){e=e||[];return null!=t&&(G(Object(t))?C.merge(e,"string"==typeof t?[t]:t):B.call(e,t)),e},inArray:function(t,e,n){return null==e?-1:H.call(e,t,n)},merge:function(t,e){for(var n=+e.length,i=0,o=t.length;i<n;i++)t[o++]=e[i];return t.length=o,t},grep:function(t,e,n){for(var i=[],o=0,r=t.length,s=!n;o<r;o++)!e(t[o],o)!=s&&i.push(t[o]);return i},map:function(t,e,n){var i,o,r=0,s=[];if(G(t))for(i=t.length;r<i;r++)null!=(o=e(t[r],r,n))&&s.push(o);else for(r in t)null!=(o=e(t[r],r,n))&&s.push(o);return R(s)},guid:1,support:g}),"function"==typeof Symbol&&(C.fn[Symbol.iterator]=e[Symbol.iterator]),C.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(t,e){F["[object "+e+"]"]=e.toLowerCase()});function i(t,e,n){for(var i=[],o=void 0!==n;(t=t[e])&&9!==t.nodeType;)if(1===t.nodeType){if(o&&C(t).is(n))break;i.push(t)}return i}function Y(t,e){for(var n=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&n.push(t);return n}var t=function(j){function h(t,e){return t="0x"+t.slice(1)-65536,e||(t<0?String.fromCharCode(65536+t):String.fromCharCode(t>>10|55296,1023&t|56320))}function I(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t}function R(){x()}var t,d,b,r,B,p,H,F,w,l,u,x,S,n,C,f,i,o,m,E="sizzle"+ +new Date,c=j.document,A=0,W=0,V=L(),U=L(),Z=L(),g=L(),q=function(t,e){return t===e&&(u=!0),0},$={}.hasOwnProperty,e=[],G=e.pop,Y=e.push,T=e.push,X=e.slice,y=function(t,e){for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1},K="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",s="[\\x20\\t\\r\\n\\f]",a="(?:\\\\[\\da-fA-F]{1,6}"+s+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",J="\\["+s+"*("+a+")(?:"+s+"*([*^$|!~]?=)"+s+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+a+"))|)"+s+"*\\]",Q=":("+a+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+J+")*)|.*)\\)|)",tt=new RegExp(s+"+","g"),v=new RegExp("^"+s+"+|((?:^|[^\\\\])(?:\\\\.)*)"+s+"+$","g"),et=new RegExp("^"+s+"*,"+s+"*"),nt=new RegExp("^"+s+"*([>+~]|"+s+")"+s+"*"),it=new RegExp(s+"|>"),ot=new RegExp(Q),rt=new RegExp("^"+a+"$"),_={ID:new RegExp("^#("+a+")"),CLASS:new RegExp("^\\.("+a+")"),TAG:new RegExp("^("+a+"|[*])"),ATTR:new RegExp("^"+J),PSEUDO:new RegExp("^"+Q),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+s+"*(even|odd|(([+-]|)(\\d*)n|)"+s+"*(?:([+-]|)"+s+"*(\\d+)|))"+s+"*\\)|)","i"),bool:new RegExp("^(?:"+K+")$","i"),needsContext:new RegExp("^"+s+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+s+"*((?:-\\d)?\\d*)"+s+"*\\)|)(?=[^-]|$)","i")},st=/HTML$/i,at=/^(?:input|select|textarea|button)$/i,lt=/^h\d$/i,P=/^[^{]+\{\s*\[native \w/,ut=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ct=/[+~]/,O=new RegExp("\\\\[\\da-fA-F]{1,6}"+s+"?|\\\\([^\\r\\n\\f])","g"),ht=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,dt=yt(function(t){return!0===t.disabled&&"fieldset"===t.nodeName.toLowerCase()},{dir:"parentNode",next:"legend"});try{T.apply(e=X.call(c.childNodes),c.childNodes),e[c.childNodes.length].nodeType}catch(t){T={apply:e.length?function(t,e){Y.apply(t,X.call(e))}:function(t,e){for(var n=t.length,i=0;t[n++]=e[i++];);t.length=n-1}}}function k(t,e,n,i){var o,r,s,a,l,u,c=e&&e.ownerDocument,h=e?e.nodeType:9;if(n=n||[],"string"!=typeof t||!t||1!==h&&9!==h&&11!==h)return n;if(!i&&(x(e),e=e||S,C)){if(11!==h&&(a=ut.exec(t)))if(o=a[1]){if(9===h){if(!(u=e.getElementById(o)))return n;if(u.id===o)return n.push(u),n}else if(c&&(u=c.getElementById(o))&&m(e,u)&&u.id===o)return n.push(u),n}else{if(a[2])return T.apply(n,e.getElementsByTagName(t)),n;if((o=a[3])&&d.getElementsByClassName&&e.getElementsByClassName)return T.apply(n,e.getElementsByClassName(o)),n}if(d.qsa&&!g[t+" "]&&(!f||!f.test(t))&&(1!==h||"object"!==e.nodeName.toLowerCase())){if(u=t,c=e,1===h&&(it.test(t)||nt.test(t))){for((c=ct.test(t)&&gt(e.parentNode)||e)===e&&d.scope||((s=e.getAttribute("id"))?s=s.replace(ht,I):e.setAttribute("id",s=E)),r=(l=p(t)).length;r--;)l[r]=(s?"#"+s:":scope")+" "+z(l[r]);u=l.join(",")}try{return T.apply(n,c.querySelectorAll(u)),n}catch(e){g(t,!0)}finally{s===E&&e.removeAttribute("id")}}}return F(t.replace(v,"$1"),e,n,i)}function L(){var i=[];return function t(e,n){return i.push(e+" ")>b.cacheLength&&delete t[i.shift()],t[e+" "]=n}}function M(t){return t[E]=!0,t}function D(t){var e=S.createElement("fieldset");try{return!!t(e)}catch(t){return!1}finally{e.parentNode&&e.parentNode.removeChild(e)}}function pt(t,e){for(var n=t.split("|"),i=n.length;i--;)b.attrHandle[n[i]]=e}function ft(t,e){var n=e&&t,i=n&&1===t.nodeType&&1===e.nodeType&&t.sourceIndex-e.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===e)return-1;return t?1:-1}function mt(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&dt(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function N(s){return M(function(r){return r=+r,M(function(t,e){for(var n,i=s([],t.length,r),o=i.length;o--;)t[n=i[o]]&&(t[n]=!(e[n]=t[n]))})})}function gt(t){return t&&void 0!==t.getElementsByTagName&&t}for(t in d=k.support={},B=k.isXML=function(t){var e=t&&t.namespaceURI,t=t&&(t.ownerDocument||t).documentElement;return!st.test(e||t&&t.nodeName||"HTML")},x=k.setDocument=function(t){var t=t?t.ownerDocument||t:c;return t!=S&&9===t.nodeType&&t.documentElement&&(n=(S=t).documentElement,C=!B(S),c!=S&&(t=S.defaultView)&&t.top!==t&&(t.addEventListener?t.addEventListener("unload",R,!1):t.attachEvent&&t.attachEvent("onunload",R)),d.scope=D(function(t){return n.appendChild(t).appendChild(S.createElement("div")),void 0!==t.querySelectorAll&&!t.querySelectorAll(":scope fieldset div").length}),d.attributes=D(function(t){return t.className="i",!t.getAttribute("className")}),d.getElementsByTagName=D(function(t){return t.appendChild(S.createComment("")),!t.getElementsByTagName("*").length}),d.getElementsByClassName=P.test(S.getElementsByClassName),d.getById=D(function(t){return n.appendChild(t).id=E,!S.getElementsByName||!S.getElementsByName(E).length}),d.getById?(b.filter.ID=function(t){var e=t.replace(O,h);return function(t){return t.getAttribute("id")===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&C)return(e=e.getElementById(t))?[e]:[]}):(b.filter.ID=function(t){var e=t.replace(O,h);return function(t){t=void 0!==t.getAttributeNode&&t.getAttributeNode("id");return t&&t.value===e}},b.find.ID=function(t,e){if(void 0!==e.getElementById&&C){var n,i,o,r=e.getElementById(t);if(r){if((n=r.getAttributeNode("id"))&&n.value===t)return[r];for(o=e.getElementsByName(t),i=0;r=o[i++];)if((n=r.getAttributeNode("id"))&&n.value===t)return[r]}return[]}}),b.find.TAG=d.getElementsByTagName?function(t,e){return void 0!==e.getElementsByTagName?e.getElementsByTagName(t):d.qsa?e.querySelectorAll(t):void 0}:function(t,e){var n,i=[],o=0,r=e.getElementsByTagName(t);if("*"!==t)return r;for(;n=r[o++];)1===n.nodeType&&i.push(n);return i},b.find.CLASS=d.getElementsByClassName&&function(t,e){if(void 0!==e.getElementsByClassName&&C)return e.getElementsByClassName(t)},i=[],f=[],(d.qsa=P.test(S.querySelectorAll))&&(D(function(t){var e;n.appendChild(t).innerHTML="<a id='"+E+"'></a><select id='"+E+"-\r\\' msallowcapture=''><option selected=''></option></select>",t.querySelectorAll("[msallowcapture^='']").length&&f.push("[*^$]="+s+"*(?:''|\"\")"),t.querySelectorAll("[selected]").length||f.push("\\["+s+"*(?:value|"+K+")"),t.querySelectorAll("[id~="+E+"-]").length||f.push("~="),(e=S.createElement("input")).setAttribute("name",""),t.appendChild(e),t.querySelectorAll("[name='']").length||f.push("\\["+s+"*name"+s+"*="+s+"*(?:''|\"\")"),t.querySelectorAll(":checked").length||f.push(":checked"),t.querySelectorAll("a#"+E+"+*").length||f.push(".#.+[+~]"),t.querySelectorAll("\\\f"),f.push("[\\r\\n\\f]")}),D(function(t){t.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var e=S.createElement("input");e.setAttribute("type","hidden"),t.appendChild(e).setAttribute("name","D"),t.querySelectorAll("[name=d]").length&&f.push("name"+s+"*[*^$|!~]?="),2!==t.querySelectorAll(":enabled").length&&f.push(":enabled",":disabled"),n.appendChild(t).disabled=!0,2!==t.querySelectorAll(":disabled").length&&f.push(":enabled",":disabled"),t.querySelectorAll("*,:x"),f.push(",.*:")})),(d.matchesSelector=P.test(o=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.oMatchesSelector||n.msMatchesSelector))&&D(function(t){d.disconnectedMatch=o.call(t,"*"),o.call(t,"[s!='']:x"),i.push("!=",Q)}),f=f.length&&new RegExp(f.join("|")),i=i.length&&new RegExp(i.join("|")),t=P.test(n.compareDocumentPosition),m=t||P.test(n.contains)?function(t,e){var n=9===t.nodeType?t.documentElement:t,e=e&&e.parentNode;return t===e||!(!e||1!==e.nodeType||!(n.contains?n.contains(e):t.compareDocumentPosition&&16&t.compareDocumentPosition(e)))}:function(t,e){if(e)for(;e=e.parentNode;)if(e===t)return!0;return!1},q=t?function(t,e){var n;return t===e?(u=!0,0):!t.compareDocumentPosition-!e.compareDocumentPosition||(1&(n=(t.ownerDocument||t)==(e.ownerDocument||e)?t.compareDocumentPosition(e):1)||!d.sortDetached&&e.compareDocumentPosition(t)===n?t==S||t.ownerDocument==c&&m(c,t)?-1:e==S||e.ownerDocument==c&&m(c,e)?1:l?y(l,t)-y(l,e):0:4&n?-1:1)}:function(t,e){if(t===e)return u=!0,0;var n,i=0,o=t.parentNode,r=e.parentNode,s=[t],a=[e];if(!o||!r)return t==S?-1:e==S?1:o?-1:r?1:l?y(l,t)-y(l,e):0;if(o===r)return ft(t,e);for(n=t;n=n.parentNode;)s.unshift(n);for(n=e;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ft(s[i],a[i]):s[i]==c?-1:a[i]==c?1:0}),S},k.matches=function(t,e){return k(t,null,null,e)},k.matchesSelector=function(t,e){if(x(t),d.matchesSelector&&C&&!g[e+" "]&&(!i||!i.test(e))&&(!f||!f.test(e)))try{var n=o.call(t,e);if(n||d.disconnectedMatch||t.document&&11!==t.document.nodeType)return n}catch(t){g(e,!0)}return 0<k(e,S,null,[t]).length},k.contains=function(t,e){return(t.ownerDocument||t)!=S&&x(t),m(t,e)},k.attr=function(t,e){(t.ownerDocument||t)!=S&&x(t);var n=b.attrHandle[e.toLowerCase()],n=n&&$.call(b.attrHandle,e.toLowerCase())?n(t,e,!C):void 0;return void 0!==n?n:d.attributes||!C?t.getAttribute(e):(n=t.getAttributeNode(e))&&n.specified?n.value:null},k.escape=function(t){return(t+"").replace(ht,I)},k.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)},k.uniqueSort=function(t){var e,n=[],i=0,o=0;if(u=!d.detectDuplicates,l=!d.sortStable&&t.slice(0),t.sort(q),u){for(;e=t[o++];)e===t[o]&&(i=n.push(o));for(;i--;)t.splice(n[i],1)}return l=null,t},r=k.getText=function(t){var e,n="",i=0,o=t.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof t.textContent)return t.textContent;for(t=t.firstChild;t;t=t.nextSibling)n+=r(t)}else if(3===o||4===o)return t.nodeValue}else for(;e=t[i++];)n+=r(e);return n},(b=k.selectors={cacheLength:50,createPseudo:M,match:_,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(t){return t[1]=t[1].replace(O,h),t[3]=(t[3]||t[4]||t[5]||"").replace(O,h),"~="===t[2]&&(t[3]=" "+t[3]+" "),t.slice(0,4)},CHILD:function(t){return t[1]=t[1].toLowerCase(),"nth"===t[1].slice(0,3)?(t[3]||k.error(t[0]),t[4]=+(t[4]?t[5]+(t[6]||1):2*("even"===t[3]||"odd"===t[3])),t[5]=+(t[7]+t[8]||"odd"===t[3])):t[3]&&k.error(t[0]),t},PSEUDO:function(t){var e,n=!t[6]&&t[2];return _.CHILD.test(t[0])?null:(t[3]?t[2]=t[4]||t[5]||"":n&&ot.test(n)&&(e=(e=p(n,!0))&&n.indexOf(")",n.length-e)-n.length)&&(t[0]=t[0].slice(0,e),t[2]=n.slice(0,e)),t.slice(0,3))}},filter:{TAG:function(t){var e=t.replace(O,h).toLowerCase();return"*"===t?function(){return!0}:function(t){return t.nodeName&&t.nodeName.toLowerCase()===e}},CLASS:function(t){var e=V[t+" "];return e||(e=new RegExp("(^|"+s+")"+t+"("+s+"|$)"))&&V(t,function(t){return e.test("string"==typeof t.className&&t.className||void 0!==t.getAttribute&&t.getAttribute("class")||"")})},ATTR:function(e,n,i){return function(t){t=k.attr(t,e);return null==t?"!="===n:!n||(t+="","="===n?t===i:"!="===n?t!==i:"^="===n?i&&0===t.indexOf(i):"*="===n?i&&-1<t.indexOf(i):"$="===n?i&&t.slice(-i.length)===i:"~="===n?-1<(" "+t.replace(tt," ")+" ").indexOf(i):"|="===n&&(t===i||t.slice(0,i.length+1)===i+"-"))}},CHILD:function(f,t,e,m,g){var v="nth"!==f.slice(0,3),y="last"!==f.slice(-4),_="of-type"===t;return 1===m&&0===g?function(t){return!!t.parentNode}:function(t,e,n){var i,o,r,s,a,l,u=v!=y?"nextSibling":"previousSibling",c=t.parentNode,h=_&&t.nodeName.toLowerCase(),d=!n&&!_,p=!1;if(c){if(v){for(;u;){for(s=t;s=s[u];)if(_?s.nodeName.toLowerCase()===h:1===s.nodeType)return!1;l=u="only"===f&&!l&&"nextSibling"}return!0}if(l=[y?c.firstChild:c.lastChild],y&&d){for(p=(a=(i=(o=(r=(s=c)[E]||(s[E]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===A&&i[1])&&i[2],s=a&&c.childNodes[a];s=++a&&s&&s[u]||(p=a=0,l.pop());)if(1===s.nodeType&&++p&&s===t){o[f]=[A,a,p];break}}else if(!1===(p=d?a=(i=(o=(r=(s=t)[E]||(s[E]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]||[])[0]===A&&i[1]:p))for(;(s=++a&&s&&s[u]||(p=a=0,l.pop()))&&((_?s.nodeName.toLowerCase()!==h:1!==s.nodeType)||!++p||(d&&((o=(r=s[E]||(s[E]={}))[s.uniqueID]||(r[s.uniqueID]={}))[f]=[A,p]),s!==t)););return(p-=g)===m||p%m==0&&0<=p/m}}},PSEUDO:function(t,r){var e,s=b.pseudos[t]||b.setFilters[t.toLowerCase()]||k.error("unsupported pseudo: "+t);return s[E]?s(r):1<s.length?(e=[t,t,"",r],b.setFilters.hasOwnProperty(t.toLowerCase())?M(function(t,e){for(var n,i=s(t,r),o=i.length;o--;)t[n=y(t,i[o])]=!(e[n]=i[o])}):function(t){return s(t,0,e)}):s}},pseudos:{not:M(function(t){var i=[],o=[],a=H(t.replace(v,"$1"));return a[E]?M(function(t,e,n,i){for(var o,r=a(t,null,i,[]),s=t.length;s--;)(o=r[s])&&(t[s]=!(e[s]=o))}):function(t,e,n){return i[0]=t,a(i,null,n,o),i[0]=null,!o.pop()}}),has:M(function(e){return function(t){return 0<k(e,t).length}}),contains:M(function(e){return e=e.replace(O,h),function(t){return-1<(t.textContent||r(t)).indexOf(e)}}),lang:M(function(n){return rt.test(n||"")||k.error("unsupported lang: "+n),n=n.replace(O,h).toLowerCase(),function(t){var e;do{if(e=C?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(e=e.toLowerCase())===n||0===e.indexOf(n+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var e=j.location&&j.location.hash;return e&&e.slice(1)===t.id},root:function(t){return t===n},focus:function(t){return t===S.activeElement&&(!S.hasFocus||S.hasFocus())&&!!(t.type||t.href||~t.tabIndex)},enabled:mt(!1),disabled:mt(!0),checked:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&!!t.checked||"option"===e&&!!t.selected},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,!0===t.selected},empty:function(t){for(t=t.firstChild;t;t=t.nextSibling)if(t.nodeType<6)return!1;return!0},parent:function(t){return!b.pseudos.empty(t)},header:function(t){return lt.test(t.nodeName)},input:function(t){return at.test(t.nodeName)},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},text:function(t){return"input"===t.nodeName.toLowerCase()&&"text"===t.type&&(null==(t=t.getAttribute("type"))||"text"===t.toLowerCase())},first:N(function(){return[0]}),last:N(function(t,e){return[e-1]}),eq:N(function(t,e,n){return[n<0?n+e:n]}),even:N(function(t,e){for(var n=0;n<e;n+=2)t.push(n);return t}),odd:N(function(t,e){for(var n=1;n<e;n+=2)t.push(n);return t}),lt:N(function(t,e,n){for(var i=n<0?n+e:e<n?e:n;0<=--i;)t.push(i);return t}),gt:N(function(t,e,n){for(var i=n<0?n+e:n;++i<e;)t.push(i);return t})}}).pseudos.nth=b.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})b.pseudos[t]=function(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}(t);for(t in{submit:!0,reset:!0})b.pseudos[t]=function(n){return function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&t.type===n}}(t);function vt(){}function z(t){for(var e=0,n=t.length,i="";e<n;e++)i+=t[e].value;return i}function yt(s,t,e){var a=t.dir,l=t.next,u=l||a,c=e&&"parentNode"===u,h=W++;return t.first?function(t,e,n){for(;t=t[a];)if(1===t.nodeType||c)return s(t,e,n);return!1}:function(t,e,n){var i,o,r=[A,h];if(n){for(;t=t[a];)if((1===t.nodeType||c)&&s(t,e,n))return!0}else for(;t=t[a];)if(1===t.nodeType||c)if(o=(o=t[E]||(t[E]={}))[t.uniqueID]||(o[t.uniqueID]={}),l&&l===t.nodeName.toLowerCase())t=t[a]||t;else{if((i=o[u])&&i[0]===A&&i[1]===h)return r[2]=i[2];if((o[u]=r)[2]=s(t,e,n))return!0}return!1}}function _t(o){return 1<o.length?function(t,e,n){for(var i=o.length;i--;)if(!o[i](t,e,n))return!1;return!0}:o[0]}function bt(t,e,n,i,o){for(var r,s=[],a=0,l=t.length,u=null!=e;a<l;a++)!(r=t[a])||n&&!n(r,i,o)||(s.push(r),u&&e.push(a));return s}function wt(t){for(var i,e,n,o=t.length,r=b.relative[t[0].type],s=r||b.relative[" "],a=r?1:0,l=yt(function(t){return t===i},s,!0),u=yt(function(t){return-1<y(i,t)},s,!0),c=[function(t,e,n){t=!r&&(n||e!==w)||((i=e).nodeType?l:u)(t,e,n);return i=null,t}];a<o;a++)if(e=b.relative[t[a].type])c=[yt(_t(c),e)];else{if((e=b.filter[t[a].type].apply(null,t[a].matches))[E]){for(n=++a;n<o&&!b.relative[t[n].type];n++);return function t(p,f,m,g,v,e){return g&&!g[E]&&(g=t(g)),v&&!v[E]&&(v=t(v,e)),M(function(t,e,n,i){var o,r,s,a=[],l=[],u=e.length,c=t||function(t,e,n){for(var i=0,o=e.length;i<o;i++)k(t,e[i],n);return n}(f||"*",n.nodeType?[n]:n,[]),h=!p||!t&&f?c:bt(c,a,p,n,i),d=m?v||(t?p:u||g)?[]:e:h;if(m&&m(h,d,n,i),g)for(o=bt(d,l),g(o,[],n,i),r=o.length;r--;)(s=o[r])&&(d[l[r]]=!(h[l[r]]=s));if(t){if(v||p){if(v){for(o=[],r=d.length;r--;)(s=d[r])&&o.push(h[r]=s);v(null,d=[],o,i)}for(r=d.length;r--;)(s=d[r])&&-1<(o=v?y(t,s):a[r])&&(t[o]=!(e[o]=s))}}else d=bt(d===e?d.splice(u,d.length):d),v?v(null,e,d,i):T.apply(e,d)})}(1<a&&_t(c),1<a&&z(t.slice(0,a-1).concat({value:" "===t[a-2].type?"*":""})).replace(v,"$1"),e,a<n&&wt(t.slice(a,n)),n<o&&wt(t=t.slice(n)),n<o&&z(t))}c.push(e)}return _t(c)}return vt.prototype=b.filters=b.pseudos,b.setFilters=new vt,p=k.tokenize=function(t,e){var n,i,o,r,s,a,l,u=U[t+" "];if(u)return e?0:u.slice(0);for(s=t,a=[],l=b.preFilter;s;){for(r in n&&!(i=et.exec(s))||(i&&(s=s.slice(i[0].length)||s),a.push(o=[])),n=!1,(i=nt.exec(s))&&(n=i.shift(),o.push({value:n,type:i[0].replace(v," ")}),s=s.slice(n.length)),b.filter)!(i=_[r].exec(s))||l[r]&&!(i=l[r](i))||(n=i.shift(),o.push({value:n,type:r,matches:i}),s=s.slice(n.length));if(!n)break}return e?s.length:s?k.error(t):U(t,a).slice(0)},H=k.compile=function(t,e){var n,g,v,y,_,i,o=[],r=[],s=Z[t+" "];if(!s){for(n=(e=e||p(t)).length;n--;)((s=wt(e[n]))[E]?o:r).push(s);(s=Z(t,(y=0<(v=o).length,_=0<(g=r).length,i=function(t,e,n,i,o){var r,s,a,l=0,u="0",c=t&&[],h=[],d=w,p=t||_&&b.find.TAG("*",o),f=A+=null==d?1:Math.random()||.1,m=p.length;for(o&&(w=e==S||e||o);u!==m&&null!=(r=p[u]);u++){if(_&&r){for(s=0,e||r.ownerDocument==S||(x(r),n=!C);a=g[s++];)if(a(r,e||S,n)){i.push(r);break}o&&(A=f)}y&&((r=!a&&r)&&l--,t)&&c.push(r)}if(l+=u,y&&u!==l){for(s=0;a=v[s++];)a(c,h,e,n);if(t){if(0<l)for(;u--;)c[u]||h[u]||(h[u]=G.call(i));h=bt(h)}T.apply(i,h),o&&!t&&0<h.length&&1<l+v.length&&k.uniqueSort(i)}return o&&(A=f,w=d),c},y?M(i):i))).selector=t}return s},F=k.select=function(t,e,n,i){var o,r,s,a,l,u="function"==typeof t&&t,c=!i&&p(t=u.selector||t);if(n=n||[],1===c.length){if(2<(r=c[0]=c[0].slice(0)).length&&"ID"===(s=r[0]).type&&9===e.nodeType&&C&&b.relative[r[1].type]){if(!(e=(b.find.ID(s.matches[0].replace(O,h),e)||[])[0]))return n;u&&(e=e.parentNode),t=t.slice(r.shift().value.length)}for(o=_.needsContext.test(t)?0:r.length;o--&&(s=r[o],!b.relative[a=s.type]);)if((l=b.find[a])&&(i=l(s.matches[0].replace(O,h),ct.test(r[0].type)&&gt(e.parentNode)||e))){if(r.splice(o,1),t=i.length&&z(r))break;return T.apply(n,i),n}}return(u||H(t,c))(i,e,!C,n,!e||ct.test(t)&&gt(e.parentNode)||e),n},d.sortStable=E.split("").sort(q).join("")===E,d.detectDuplicates=!!u,x(),d.sortDetached=D(function(t){return 1&t.compareDocumentPosition(S.createElement("fieldset"))}),D(function(t){return t.innerHTML="<a href='#'></a>","#"===t.firstChild.getAttribute("href")})||pt("type|href|height|width",function(t,e,n){if(!n)return t.getAttribute(e,"type"===e.toLowerCase()?1:2)}),d.attributes&&D(function(t){return t.innerHTML="<input/>",t.firstChild.setAttribute("value",""),""===t.firstChild.getAttribute("value")})||pt("value",function(t,e,n){if(!n&&"input"===t.nodeName.toLowerCase())return t.defaultValue}),D(function(t){return null==t.getAttribute("disabled")})||pt(K,function(t,e,n){if(!n)return!0===t[e]?e.toLowerCase():(n=t.getAttributeNode(e))&&n.specified?n.value:null}),k}(x),X=(C.find=t,C.expr=t.selectors,C.expr[":"]=C.expr.pseudos,C.uniqueSort=C.unique=t.uniqueSort,C.text=t.getText,C.isXMLDoc=t.isXML,C.contains=t.contains,C.escapeSelector=t.escape,C.expr.match.needsContext);function l(t,e){return t.nodeName&&t.nodeName.toLowerCase()===e.toLowerCase()}var K=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function J(t,n,i){return y(n)?C.grep(t,function(t,e){return!!n.call(t,e,t)!==i}):n.nodeType?C.grep(t,function(t){return t===n!==i}):"string"!=typeof n?C.grep(t,function(t){return-1<H.call(n,t)!==i}):C.filter(n,t,i)}C.filter=function(t,e,n){var i=e[0];return n&&(t=":not("+t+")"),1===e.length&&1===i.nodeType?C.find.matchesSelector(i,t)?[i]:[]:C.find.matches(t,C.grep(e,function(t){return 1===t.nodeType}))},C.fn.extend({find:function(t){var e,n,i=this.length,o=this;if("string"!=typeof t)return this.pushStack(C(t).filter(function(){for(e=0;e<i;e++)if(C.contains(o[e],this))return!0}));for(n=this.pushStack([]),e=0;e<i;e++)C.find(t,o[e],n);return 1<i?C.uniqueSort(n):n},filter:function(t){return this.pushStack(J(this,t||[],!1))},not:function(t){return this.pushStack(J(this,t||[],!0))},is:function(t){return!!J(this,"string"==typeof t&&X.test(t)?C(t):t||[],!1).length}});var Q,tt=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/,et=((C.fn.init=function(t,e,n){if(t){if(n=n||Q,"string"!=typeof t)return t.nodeType?(this[0]=t,this.length=1,this):y(t)?void 0!==n.ready?n.ready(t):t(C):C.makeArray(t,this);if(!(i="<"===t[0]&&">"===t[t.length-1]&&3<=t.length?[null,t,null]:tt.exec(t))||!i[1]&&e)return(!e||e.jquery?e||n:this.constructor(e)).find(t);if(i[1]){if(e=e instanceof C?e[0]:e,C.merge(this,C.parseHTML(i[1],e&&e.nodeType?e.ownerDocument||e:S,!0)),K.test(i[1])&&C.isPlainObject(e))for(var i in e)y(this[i])?this[i](e[i]):this.attr(i,e[i])}else(n=S.getElementById(i[2]))&&(this[0]=n,this.length=1)}return this}).prototype=C.fn,Q=C(S),/^(?:parents|prev(?:Until|All))/),nt={children:!0,contents:!0,next:!0,prev:!0};function it(t,e){for(;(t=t[e])&&1!==t.nodeType;);return t}C.fn.extend({has:function(t){var e=C(t,this),n=e.length;return this.filter(function(){for(var t=0;t<n;t++)if(C.contains(this,e[t]))return!0})},closest:function(t,e){var n,i=0,o=this.length,r=[],s="string"!=typeof t&&C(t);if(!X.test(t))for(;i<o;i++)for(n=this[i];n&&n!==e;n=n.parentNode)if(n.nodeType<11&&(s?-1<s.index(n):1===n.nodeType&&C.find.matchesSelector(n,t))){r.push(n);break}return this.pushStack(1<r.length?C.uniqueSort(r):r)},index:function(t){return t?"string"==typeof t?H.call(C(t),this[0]):H.call(this,t.jquery?t[0]:t):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(t,e){return this.pushStack(C.uniqueSort(C.merge(this.get(),C(t,e))))},addBack:function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}}),C.each({parent:function(t){t=t.parentNode;return t&&11!==t.nodeType?t:null},parents:function(t){return i(t,"parentNode")},parentsUntil:function(t,e,n){return i(t,"parentNode",n)},next:function(t){return it(t,"nextSibling")},prev:function(t){return it(t,"previousSibling")},nextAll:function(t){return i(t,"nextSibling")},prevAll:function(t){return i(t,"previousSibling")},nextUntil:function(t,e,n){return i(t,"nextSibling",n)},prevUntil:function(t,e,n){return i(t,"previousSibling",n)},siblings:function(t){return Y((t.parentNode||{}).firstChild,t)},children:function(t){return Y(t.firstChild)},contents:function(t){return null!=t.contentDocument&&I(t.contentDocument)?t.contentDocument:(l(t,"template")&&(t=t.content||t),C.merge([],t.childNodes))}},function(i,o){C.fn[i]=function(t,e){var n=C.map(this,o,t);return(e="Until"!==i.slice(-5)?t:e)&&"string"==typeof e&&(n=C.filter(e,n)),1<this.length&&(nt[i]||C.uniqueSort(n),et.test(i))&&n.reverse(),this.pushStack(n)}});var E=/[^\x20\t\r\n\f]+/g;function c(t){return t}function ot(t){throw t}function rt(t,e,n,i){var o;try{t&&y(o=t.promise)?o.call(t).done(e).fail(n):t&&y(o=t.then)?o.call(t,e,n):e.apply(void 0,[t].slice(i))}catch(t){n.apply(void 0,[t])}}C.Callbacks=function(i){var t,n;i="string"==typeof i?(t=i,n={},C.each(t.match(E)||[],function(t,e){n[e]=!0}),n):C.extend({},i);function o(){for(a=a||i.once,s=r=!0;u.length;c=-1)for(e=u.shift();++c<l.length;)!1===l[c].apply(e[0],e[1])&&i.stopOnFalse&&(c=l.length,e=!1);i.memory||(e=!1),r=!1,a&&(l=e?[]:"")}var r,e,s,a,l=[],u=[],c=-1,h={add:function(){return l&&(e&&!r&&(c=l.length-1,u.push(e)),function n(t){C.each(t,function(t,e){y(e)?i.unique&&h.has(e)||l.push(e):e&&e.length&&"string"!==f(e)&&n(e)})}(arguments),e)&&!r&&o(),this},remove:function(){return C.each(arguments,function(t,e){for(var n;-1<(n=C.inArray(e,l,n));)l.splice(n,1),n<=c&&c--}),this},has:function(t){return t?-1<C.inArray(t,l):0<l.length},empty:function(){return l=l&&[],this},disable:function(){return a=u=[],l=e="",this},disabled:function(){return!l},lock:function(){return a=u=[],e||r||(l=e=""),this},locked:function(){return!!a},fireWith:function(t,e){return a||(e=[t,(e=e||[]).slice?e.slice():e],u.push(e),r)||o(),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},C.extend({Deferred:function(t){var r=[["notify","progress",C.Callbacks("memory"),C.Callbacks("memory"),2],["resolve","done",C.Callbacks("once memory"),C.Callbacks("once memory"),0,"resolved"],["reject","fail",C.Callbacks("once memory"),C.Callbacks("once memory"),1,"rejected"]],o="pending",s={state:function(){return o},always:function(){return a.done(arguments).fail(arguments),this},catch:function(t){return s.then(null,t)},pipe:function(){var o=arguments;return C.Deferred(function(i){C.each(r,function(t,e){var n=y(o[e[4]])&&o[e[4]];a[e[1]](function(){var t=n&&n.apply(this,arguments);t&&y(t.promise)?t.promise().progress(i.notify).done(i.resolve).fail(i.reject):i[e[0]+"With"](this,n?[t]:arguments)})}),o=null}).promise()},then:function(e,n,i){var l=0;function u(o,r,s,a){return function(){function t(){var t,e;if(!(o<l)){if((t=s.apply(n,i))===r.promise())throw new TypeError("Thenable self-resolution");e=t&&("object"==typeof t||"function"==typeof t)&&t.then,y(e)?a?e.call(t,u(l,r,c,a),u(l,r,ot,a)):(l++,e.call(t,u(l,r,c,a),u(l,r,ot,a),u(l,r,c,r.notifyWith))):(s!==c&&(n=void 0,i=[t]),(a||r.resolveWith)(n,i))}}var n=this,i=arguments,e=a?t:function(){try{t()}catch(t){C.Deferred.exceptionHook&&C.Deferred.exceptionHook(t,e.stackTrace),l<=o+1&&(s!==ot&&(n=void 0,i=[t]),r.rejectWith(n,i))}};o?e():(C.Deferred.getStackHook&&(e.stackTrace=C.Deferred.getStackHook()),x.setTimeout(e))}}return C.Deferred(function(t){r[0][3].add(u(0,t,y(i)?i:c,t.notifyWith)),r[1][3].add(u(0,t,y(e)?e:c)),r[2][3].add(u(0,t,y(n)?n:ot))}).promise()},promise:function(t){return null!=t?C.extend(t,s):s}},a={};return C.each(r,function(t,e){var n=e[2],i=e[5];s[e[1]]=n.add,i&&n.add(function(){o=i},r[3-t][2].disable,r[3-t][3].disable,r[0][2].lock,r[0][3].lock),n.add(e[3].fire),a[e[0]]=function(){return a[e[0]+"With"](this===a?void 0:this,arguments),this},a[e[0]+"With"]=n.fireWith}),s.promise(a),t&&t.call(a,a),a},when:function(t){function e(e){return function(t){o[e]=this,r[e]=1<arguments.length?a.call(arguments):t,--n||s.resolveWith(o,r)}}var n=arguments.length,i=n,o=Array(i),r=a.call(arguments),s=C.Deferred();if(n<=1&&(rt(t,s.done(e(i)).resolve,s.reject,!n),"pending"===s.state()||y(r[i]&&r[i].then)))return s.then();for(;i--;)rt(r[i],e(i),s.reject);return s.promise()}});var st=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/,at=(C.Deferred.exceptionHook=function(t,e){x.console&&x.console.warn&&t&&st.test(t.name)&&x.console.warn("jQuery.Deferred exception: "+t.message,t.stack,e)},C.readyException=function(t){x.setTimeout(function(){throw t})},C.Deferred());function lt(){S.removeEventListener("DOMContentLoaded",lt),x.removeEventListener("load",lt),C.ready()}C.fn.ready=function(t){return at.then(t).catch(function(t){C.readyException(t)}),this},C.extend({isReady:!1,readyWait:1,ready:function(t){(!0===t?--C.readyWait:C.isReady)||(C.isReady=!0)!==t&&0<--C.readyWait||at.resolveWith(S,[C])}}),C.ready.then=at.then,"complete"===S.readyState||"loading"!==S.readyState&&!S.documentElement.doScroll?x.setTimeout(C.ready):(S.addEventListener("DOMContentLoaded",lt),x.addEventListener("load",lt));function h(t,e,n,i,o,r,s){var a=0,l=t.length,u=null==n;if("object"===f(n))for(a in o=!0,n)h(t,e,a,n[a],!0,r,s);else if(void 0!==i&&(o=!0,y(i)||(s=!0),e=u?s?(e.call(t,i),null):(u=e,function(t,e,n){return u.call(C(t),n)}):e))for(;a<l;a++)e(t[a],n,s?i:i.call(t[a],a,e(t[a],n)));return o?t:u?e.call(t):l?e(t[0],n):r}var ut=/^-ms-/,ct=/-([a-z])/g;function ht(t,e){return e.toUpperCase()}function _(t){return t.replace(ut,"ms-").replace(ct,ht)}function v(t){return 1===t.nodeType||9===t.nodeType||!+t.nodeType}function dt(){this.expando=C.expando+dt.uid++}dt.uid=1,dt.prototype={cache:function(t){var e=t[this.expando];return e||(e={},v(t)&&(t.nodeType?t[this.expando]=e:Object.defineProperty(t,this.expando,{value:e,configurable:!0}))),e},set:function(t,e,n){var i,o=this.cache(t);if("string"==typeof e)o[_(e)]=n;else for(i in e)o[_(i)]=e[i];return o},get:function(t,e){return void 0===e?this.cache(t):t[this.expando]&&t[this.expando][_(e)]},access:function(t,e,n){return void 0===e||e&&"string"==typeof e&&void 0===n?this.get(t,e):(this.set(t,e,n),void 0!==n?n:e)},remove:function(t,e){var n,i=t[this.expando];if(void 0!==i){if(void 0!==e){n=(e=Array.isArray(e)?e.map(_):(e=_(e))in i?[e]:e.match(E)||[]).length;for(;n--;)delete i[e[n]]}void 0!==e&&!C.isEmptyObject(i)||(t.nodeType?t[this.expando]=void 0:delete t[this.expando])}},hasData:function(t){t=t[this.expando];return void 0!==t&&!C.isEmptyObject(t)}};var b=new dt,u=new dt,pt=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ft=/[A-Z]/g;function mt(t,e,n){var i,o;if(void 0===n&&1===t.nodeType)if(i="data-"+e.replace(ft,"-$&").toLowerCase(),"string"==typeof(n=t.getAttribute(i))){try{n="true"===(o=n)||"false"!==o&&("null"===o?null:o===+o+""?+o:pt.test(o)?JSON.parse(o):o)}catch(t){}u.set(t,e,n)}else n=void 0;return n}C.extend({hasData:function(t){return u.hasData(t)||b.hasData(t)},data:function(t,e,n){return u.access(t,e,n)},removeData:function(t,e){u.remove(t,e)},_data:function(t,e,n){return b.access(t,e,n)},_removeData:function(t,e){b.remove(t,e)}}),C.fn.extend({data:function(n,t){var e,i,o,r=this[0],s=r&&r.attributes;if(void 0!==n)return"object"==typeof n?this.each(function(){u.set(this,n)}):h(this,function(t){var e;if(r&&void 0===t)return void 0!==(e=u.get(r,n))||void 0!==(e=mt(r,n))?e:void 0;this.each(function(){u.set(this,n,t)})},null,t,1<arguments.length,null,!0);if(this.length&&(o=u.get(r),1===r.nodeType)&&!b.get(r,"hasDataAttrs")){for(e=s.length;e--;)s[e]&&0===(i=s[e].name).indexOf("data-")&&(i=_(i.slice(5)),mt(r,i,o[i]));b.set(r,"hasDataAttrs",!0)}return o},removeData:function(t){return this.each(function(){u.remove(this,t)})}}),C.extend({queue:function(t,e,n){var i;if(t)return i=b.get(t,e=(e||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=b.access(t,e,C.makeArray(n)):i.push(n)),i||[]},dequeue:function(t,e){e=e||"fx";var n=C.queue(t,e),i=n.length,o=n.shift(),r=C._queueHooks(t,e);"inprogress"===o&&(o=n.shift(),i--),o&&("fx"===e&&n.unshift("inprogress"),delete r.stop,o.call(t,function(){C.dequeue(t,e)},r)),!i&&r&&r.empty.fire()},_queueHooks:function(t,e){var n=e+"queueHooks";return b.get(t,n)||b.access(t,n,{empty:C.Callbacks("once memory").add(function(){b.remove(t,[e+"queue",n])})})}}),C.fn.extend({queue:function(e,n){var t=2;return"string"!=typeof e&&(n=e,e="fx",t--),arguments.length<t?C.queue(this[0],e):void 0===n?this:this.each(function(){var t=C.queue(this,e,n);C._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&C.dequeue(this,e)})},dequeue:function(t){return this.each(function(){C.dequeue(this,t)})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,e){function n(){--o||r.resolveWith(s,[s])}var i,o=1,r=C.Deferred(),s=this,a=this.length;for("string"!=typeof t&&(e=t,t=void 0),t=t||"fx";a--;)(i=b.get(s[a],t+"queueHooks"))&&i.empty&&(o++,i.empty.add(n));return n(),r.promise(e)}});function gt(t,e){return"none"===(t=e||t).style.display||""===t.style.display&&A(t)&&"none"===C.css(t,"display")}var t=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,vt=new RegExp("^(?:([+-])=|)("+t+")([a-z%]*)$","i"),d=["Top","Right","Bottom","Left"],w=S.documentElement,A=function(t){return C.contains(t.ownerDocument,t)},yt={composed:!0};w.getRootNode&&(A=function(t){return C.contains(t.ownerDocument,t)||t.getRootNode(yt)===t.ownerDocument});function _t(t,e,n,i){var o,r,s=20,a=i?function(){return i.cur()}:function(){return C.css(t,e,"")},l=a(),u=n&&n[3]||(C.cssNumber[e]?"":"px"),c=t.nodeType&&(C.cssNumber[e]||"px"!==u&&+l)&&vt.exec(C.css(t,e));if(c&&c[3]!==u){for(u=u||c[3],c=+(l/=2)||1;s--;)C.style(t,e,c+u),(1-r)*(1-(r=a()/l||.5))<=0&&(s=0),c/=r;C.style(t,e,(c*=2)+u),n=n||[]}return n&&(c=+c||+l||0,o=n[1]?c+(n[1]+1)*n[2]:+n[2],i)&&(i.unit=u,i.start=c,i.end=o),o}var bt={};function T(t,e){for(var n,i,o,r,s,a,l=[],u=0,c=t.length;u<c;u++)(i=t[u]).style&&(n=i.style.display,e?("none"===n&&(l[u]=b.get(i,"display")||null,l[u]||(i.style.display="")),""===i.style.display&&gt(i)&&(l[u]=(a=r=o=void 0,r=i.ownerDocument,s=i.nodeName,(a=bt[s])||(o=r.body.appendChild(r.createElement(s)),a=C.css(o,"display"),o.parentNode.removeChild(o),bt[s]=a="none"===a?"block":a)))):"none"!==n&&(l[u]="none",b.set(i,"display",n)));for(u=0;u<c;u++)null!=l[u]&&(t[u].style.display=l[u]);return t}C.fn.extend({show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(t){return"boolean"==typeof t?t?this.show():this.hide():this.each(function(){gt(this)?C(this).show():C(this).hide()})}});var wt=/^(?:checkbox|radio)$/i,xt=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,St=/^$|^module$|\/(?:java|ecma)script/i,n=S.createDocumentFragment().appendChild(S.createElement("div")),P=((M=S.createElement("input")).setAttribute("type","radio"),M.setAttribute("checked","checked"),M.setAttribute("name","t"),n.appendChild(M),g.checkClone=n.cloneNode(!0).cloneNode(!0).lastChild.checked,n.innerHTML="<textarea>x</textarea>",g.noCloneChecked=!!n.cloneNode(!0).lastChild.defaultValue,n.innerHTML="<option></option>",g.option=!!n.lastChild,{thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]});function O(t,e){var n=void 0!==t.getElementsByTagName?t.getElementsByTagName(e||"*"):void 0!==t.querySelectorAll?t.querySelectorAll(e||"*"):[];return void 0===e||e&&l(t,e)?C.merge([t],n):n}function Ct(t,e){for(var n=0,i=t.length;n<i;n++)b.set(t[n],"globalEval",!e||b.get(e[n],"globalEval"))}P.tbody=P.tfoot=P.colgroup=P.caption=P.thead,P.th=P.td,g.option||(P.optgroup=P.option=[1,"<select multiple='multiple'>","</select>"]);var Et=/<|&#?\w+;/;function At(t,e,n,i,o){for(var r,s,a,l,u,c=e.createDocumentFragment(),h=[],d=0,p=t.length;d<p;d++)if((r=t[d])||0===r)if("object"===f(r))C.merge(h,r.nodeType?[r]:r);else if(Et.test(r)){for(s=s||c.appendChild(e.createElement("div")),a=(xt.exec(r)||["",""])[1].toLowerCase(),a=P[a]||P._default,s.innerHTML=a[1]+C.htmlPrefilter(r)+a[2],u=a[0];u--;)s=s.lastChild;C.merge(h,s.childNodes),(s=c.firstChild).textContent=""}else h.push(e.createTextNode(r));for(c.textContent="",d=0;r=h[d++];)if(i&&-1<C.inArray(r,i))o&&o.push(r);else if(l=A(r),s=O(c.appendChild(r),"script"),l&&Ct(s),n)for(u=0;r=s[u++];)St.test(r.type||"")&&n.push(r);return c}var Tt=/^([^.]*)(?:\.(.+)|)/;function s(){return!0}function p(){return!1}function Pt(t,e){return t===function(){try{return S.activeElement}catch(t){}}()==("focus"===e)}function Ot(t,e,n,i,o,r){var s,a;if("object"==typeof e){for(a in"string"!=typeof n&&(i=i||n,n=void 0),e)Ot(t,a,n,i,e[a],r);return t}if(null==i&&null==o?(o=n,i=n=void 0):null==o&&("string"==typeof n?(o=i,i=void 0):(o=i,i=n,n=void 0)),!1===o)o=p;else if(!o)return t;return 1===r&&(s=o,(o=function(t){return C().off(t),s.apply(this,arguments)}).guid=s.guid||(s.guid=C.guid++)),t.each(function(){C.event.add(this,e,o,i,n)})}function kt(t,o,r){r?(b.set(t,o,!1),C.event.add(t,o,{namespace:!1,handler:function(t){var e,n,i=b.get(this,o);if(1&t.isTrigger&&this[o]){if(i.length)(C.event.special[o]||{}).delegateType&&t.stopPropagation();else if(i=a.call(arguments),b.set(this,o,i),e=r(this,o),this[o](),i!==(n=b.get(this,o))||e?b.set(this,o,!1):n={},i!==n)return t.stopImmediatePropagation(),t.preventDefault(),n&&n.value}else i.length&&(b.set(this,o,{value:C.event.trigger(C.extend(i[0],C.Event.prototype),i.slice(1),this)}),t.stopImmediatePropagation())}})):void 0===b.get(t,o)&&C.event.add(t,o,s)}C.event={global:{},add:function(e,t,n,i,o){var r,s,a,l,u,c,h,d,p,f=b.get(e);if(v(e))for(n.handler&&(n=(r=n).handler,o=r.selector),o&&C.find.matchesSelector(w,o),n.guid||(n.guid=C.guid++),a=(a=f.events)||(f.events=Object.create(null)),s=(s=f.handle)||(f.handle=function(t){return void 0!==C&&C.event.triggered!==t.type?C.event.dispatch.apply(e,arguments):void 0}),l=(t=(t||"").match(E)||[""]).length;l--;)h=p=(d=Tt.exec(t[l])||[])[1],d=(d[2]||"").split(".").sort(),h&&(u=C.event.special[h]||{},h=(o?u.delegateType:u.bindType)||h,u=C.event.special[h]||{},p=C.extend({type:h,origType:p,data:i,handler:n,guid:n.guid,selector:o,needsContext:o&&C.expr.match.needsContext.test(o),namespace:d.join(".")},r),(c=a[h])||((c=a[h]=[]).delegateCount=0,u.setup&&!1!==u.setup.call(e,i,d,s))||e.addEventListener&&e.addEventListener(h,s),u.add&&(u.add.call(e,p),p.handler.guid||(p.handler.guid=n.guid)),o?c.splice(c.delegateCount++,0,p):c.push(p),C.event.global[h]=!0)},remove:function(t,e,n,i,o){var r,s,a,l,u,c,h,d,p,f,m,g=b.hasData(t)&&b.get(t);if(g&&(l=g.events)){for(u=(e=(e||"").match(E)||[""]).length;u--;)if(p=m=(a=Tt.exec(e[u])||[])[1],f=(a[2]||"").split(".").sort(),p){for(h=C.event.special[p]||{},d=l[p=(i?h.delegateType:h.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=r=d.length;r--;)c=d[r],!o&&m!==c.origType||n&&n.guid!==c.guid||a&&!a.test(c.namespace)||i&&i!==c.selector&&("**"!==i||!c.selector)||(d.splice(r,1),c.selector&&d.delegateCount--,h.remove&&h.remove.call(t,c));s&&!d.length&&(h.teardown&&!1!==h.teardown.call(t,f,g.handle)||C.removeEvent(t,p,g.handle),delete l[p])}else for(p in l)C.event.remove(t,p+e[u],n,i,!0);C.isEmptyObject(l)&&b.remove(t,"handle events")}},dispatch:function(t){var e,n,i,o,r,s=new Array(arguments.length),a=C.event.fix(t),t=(b.get(this,"events")||Object.create(null))[a.type]||[],l=C.event.special[a.type]||{};for(s[0]=a,e=1;e<arguments.length;e++)s[e]=arguments[e];if(a.delegateTarget=this,!l.preDispatch||!1!==l.preDispatch.call(this,a)){for(r=C.event.handlers.call(this,a,t),e=0;(i=r[e++])&&!a.isPropagationStopped();)for(a.currentTarget=i.elem,n=0;(o=i.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!1!==o.namespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(o=((C.event.special[o.origType]||{}).handle||o.handler).apply(i.elem,s))&&!1===(a.result=o)&&(a.preventDefault(),a.stopPropagation()));return l.postDispatch&&l.postDispatch.call(this,a),a.result}},handlers:function(t,e){var n,i,o,r,s,a=[],l=e.delegateCount,u=t.target;if(l&&u.nodeType&&!("click"===t.type&&1<=t.button))for(;u!==this;u=u.parentNode||this)if(1===u.nodeType&&("click"!==t.type||!0!==u.disabled)){for(r=[],s={},n=0;n<l;n++)void 0===s[o=(i=e[n]).selector+" "]&&(s[o]=i.needsContext?-1<C(o,this).index(u):C.find(o,this,null,[u]).length),s[o]&&r.push(i);r.length&&a.push({elem:u,handlers:r})}return u=this,l<e.length&&a.push({elem:u,handlers:e.slice(l)}),a},addProp:function(e,t){Object.defineProperty(C.Event.prototype,e,{enumerable:!0,configurable:!0,get:y(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(t){return t[C.expando]?t:new C.Event(t)},special:{load:{noBubble:!0},click:{setup:function(t){t=this||t;return wt.test(t.type)&&t.click&&l(t,"input")&&kt(t,"click",s),!1},trigger:function(t){t=this||t;return wt.test(t.type)&&t.click&&l(t,"input")&&kt(t,"click"),!0},_default:function(t){t=t.target;return wt.test(t.type)&&t.click&&l(t,"input")&&b.get(t,"click")||l(t,"a")}},beforeunload:{postDispatch:function(t){void 0!==t.result&&t.originalEvent&&(t.originalEvent.returnValue=t.result)}}}},C.removeEvent=function(t,e,n){t.removeEventListener&&t.removeEventListener(e,n)},C.Event=function(t,e){if(!(this instanceof C.Event))return new C.Event(t,e);t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||void 0===t.defaultPrevented&&!1===t.returnValue?s:p,this.target=t.target&&3===t.target.nodeType?t.target.parentNode:t.target,this.currentTarget=t.currentTarget,this.relatedTarget=t.relatedTarget):this.type=t,e&&C.extend(this,e),this.timeStamp=t&&t.timeStamp||Date.now(),this[C.expando]=!0},C.Event.prototype={constructor:C.Event,isDefaultPrevented:p,isPropagationStopped:p,isImmediatePropagationStopped:p,isSimulated:!1,preventDefault:function(){var t=this.originalEvent;this.isDefaultPrevented=s,t&&!this.isSimulated&&t.preventDefault()},stopPropagation:function(){var t=this.originalEvent;this.isPropagationStopped=s,t&&!this.isSimulated&&t.stopPropagation()},stopImmediatePropagation:function(){var t=this.originalEvent;this.isImmediatePropagationStopped=s,t&&!this.isSimulated&&t.stopImmediatePropagation(),this.stopPropagation()}},C.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:!0},C.event.addProp),C.each({focus:"focusin",blur:"focusout"},function(t,e){C.event.special[t]={setup:function(){return kt(this,t,Pt),!1},trigger:function(){return kt(this,t),!0},_default:function(){return!0},delegateType:e}}),C.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(t,o){C.event.special[t]={delegateType:o,bindType:o,handle:function(t){var e,n=t.relatedTarget,i=t.handleObj;return n&&(n===this||C.contains(this,n))||(t.type=i.origType,e=i.handler.apply(this,arguments),t.type=o),e}}}),C.fn.extend({on:function(t,e,n,i){return Ot(this,t,e,n,i)},one:function(t,e,n,i){return Ot(this,t,e,n,i,1)},off:function(t,e,n){var i,o;if(t&&t.preventDefault&&t.handleObj)i=t.handleObj,C(t.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler);else{if("object"!=typeof t)return!1!==e&&"function"!=typeof e||(n=e,e=void 0),!1===n&&(n=p),this.each(function(){C.event.remove(this,t,n,e)});for(o in t)this.off(o,e,t[o])}return this}});var Lt=/<script|<style|<link/i,Mt=/checked\s*(?:[^=]|=\s*.checked.)/i,Dt=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function Nt(t,e){return l(t,"table")&&l(11!==e.nodeType?e:e.firstChild,"tr")&&C(t).children("tbody")[0]||t}function zt(t){return t.type=(null!==t.getAttribute("type"))+"/"+t.type,t}function jt(t){return"true/"===(t.type||"").slice(0,5)?t.type=t.type.slice(5):t.removeAttribute("type"),t}function It(t,e){var n,i,o,r;if(1===e.nodeType){if(b.hasData(t)&&(r=b.get(t).events))for(o in b.remove(e,"handle events"),r)for(n=0,i=r[o].length;n<i;n++)C.event.add(e,o,r[o][n]);u.hasData(t)&&(t=u.access(t),t=C.extend({},t),u.set(e,t))}}function k(n,i,o,r){i=R(i);var t,e,s,a,l,u,c=0,h=n.length,d=h-1,p=i[0],f=y(p);if(f||1<h&&"string"==typeof p&&!g.checkClone&&Mt.test(p))return n.each(function(t){var e=n.eq(t);f&&(i[0]=p.call(this,t,e.html())),k(e,i,o,r)});if(h&&(e=(t=At(i,n[0].ownerDocument,!1,n,r)).firstChild,1===t.childNodes.length&&(t=e),e||r)){for(a=(s=C.map(O(t,"script"),zt)).length;c<h;c++)l=t,c!==d&&(l=C.clone(l,!0,!0),a)&&C.merge(s,O(l,"script")),o.call(n[c],l,c);if(a)for(u=s[s.length-1].ownerDocument,C.map(s,jt),c=0;c<a;c++)l=s[c],St.test(l.type||"")&&!b.access(l,"globalEval")&&C.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?C._evalUrl&&!l.noModule&&C._evalUrl(l.src,{nonce:l.nonce||l.getAttribute("nonce")},u):$(l.textContent.replace(Dt,""),l,u))}return n}function Rt(t,e,n){for(var i,o=e?C.filter(e,t):t,r=0;null!=(i=o[r]);r++)n||1!==i.nodeType||C.cleanData(O(i)),i.parentNode&&(n&&A(i)&&Ct(O(i,"script")),i.parentNode.removeChild(i));return t}C.extend({htmlPrefilter:function(t){return t},clone:function(t,e,n){var i,o,r,s,a,l,u,c=t.cloneNode(!0),h=A(t);if(!(g.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||C.isXMLDoc(t)))for(s=O(c),i=0,o=(r=O(t)).length;i<o;i++)a=r[i],"input"===(u=(l=s[i]).nodeName.toLowerCase())&&wt.test(a.type)?l.checked=a.checked:"input"!==u&&"textarea"!==u||(l.defaultValue=a.defaultValue);if(e)if(n)for(r=r||O(t),s=s||O(c),i=0,o=r.length;i<o;i++)It(r[i],s[i]);else It(t,c);return 0<(s=O(c,"script")).length&&Ct(s,!h&&O(t,"script")),c},cleanData:function(t){for(var e,n,i,o=C.event.special,r=0;void 0!==(n=t[r]);r++)if(v(n)){if(e=n[b.expando]){if(e.events)for(i in e.events)o[i]?C.event.remove(n,i):C.removeEvent(n,i,e.handle);n[b.expando]=void 0}n[u.expando]&&(n[u.expando]=void 0)}}}),C.fn.extend({detach:function(t){return Rt(this,t,!0)},remove:function(t){return Rt(this,t)},text:function(t){return h(this,function(t){return void 0===t?C.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=t)})},null,t,arguments.length)},append:function(){return k(this,arguments,function(t){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||Nt(this,t).appendChild(t)})},prepend:function(){return k(this,arguments,function(t){var e;1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(e=Nt(this,t)).insertBefore(t,e.firstChild)})},before:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this)})},after:function(){return k(this,arguments,function(t){this.parentNode&&this.parentNode.insertBefore(t,this.nextSibling)})},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)1===t.nodeType&&(C.cleanData(O(t,!1)),t.textContent="");return this},clone:function(t,e){return t=null!=t&&t,e=null==e?t:e,this.map(function(){return C.clone(this,t,e)})},html:function(t){return h(this,function(t){var e=this[0]||{},n=0,i=this.length;if(void 0===t&&1===e.nodeType)return e.innerHTML;if("string"==typeof t&&!Lt.test(t)&&!P[(xt.exec(t)||["",""])[1].toLowerCase()]){t=C.htmlPrefilter(t);try{for(;n<i;n++)1===(e=this[n]||{}).nodeType&&(C.cleanData(O(e,!1)),e.innerHTML=t);e=0}catch(t){}}e&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(){var n=[];return k(this,arguments,function(t){var e=this.parentNode;C.inArray(this,n)<0&&(C.cleanData(O(this)),e)&&e.replaceChild(t,this)},n)}}),C.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,s){C.fn[t]=function(t){for(var e,n=[],i=C(t),o=i.length-1,r=0;r<=o;r++)e=r===o?this:this.clone(!0),C(i[r])[s](e),B.apply(n,e.get());return this.pushStack(n)}});function Bt(t){var e=t.ownerDocument.defaultView;return(e=e&&e.opener?e:x).getComputedStyle(t)}function Ht(t,e,n){var i,o={};for(i in e)o[i]=t.style[i],t.style[i]=e[i];for(i in n=n.call(t),e)t.style[i]=o[i];return n}var Ft,Wt,Vt,Ut,Zt,qt,$t,o,Gt=new RegExp("^("+t+")(?!px)[a-z%]+$","i"),Yt=new RegExp(d.join("|"),"i");function Xt(t,e,n){var i,o,r=t.style;return(n=n||Bt(t))&&(""!==(o=n.getPropertyValue(e)||n[e])||A(t)||(o=C.style(t,e)),!g.pixelBoxStyles())&&Gt.test(o)&&Yt.test(e)&&(t=r.width,e=r.minWidth,i=r.maxWidth,r.minWidth=r.maxWidth=r.width=o,o=n.width,r.width=t,r.minWidth=e,r.maxWidth=i),void 0!==o?o+"":o}function Kt(t,e){return{get:function(){if(!t())return(this.get=e).apply(this,arguments);delete this.get}}}function Jt(){var t;o&&($t.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",o.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",w.appendChild($t).appendChild(o),t=x.getComputedStyle(o),Ft="1%"!==t.top,qt=12===Qt(t.marginLeft),o.style.right="60%",Ut=36===Qt(t.right),Wt=36===Qt(t.width),o.style.position="absolute",Vt=12===Qt(o.offsetWidth/3),w.removeChild($t),o=null)}function Qt(t){return Math.round(parseFloat(t))}$t=S.createElement("div"),(o=S.createElement("div")).style&&(o.style.backgroundClip="content-box",o.cloneNode(!0).style.backgroundClip="",g.clearCloneStyle="content-box"===o.style.backgroundClip,C.extend(g,{boxSizingReliable:function(){return Jt(),Wt},pixelBoxStyles:function(){return Jt(),Ut},pixelPosition:function(){return Jt(),Ft},reliableMarginLeft:function(){return Jt(),qt},scrollboxSize:function(){return Jt(),Vt},reliableTrDimensions:function(){var t,e,n;return null==Zt&&(t=S.createElement("table"),e=S.createElement("tr"),n=S.createElement("div"),t.style.cssText="position:absolute;left:-11111px;border-collapse:separate",e.style.cssText="border:1px solid",e.style.height="1px",n.style.height="9px",n.style.display="block",w.appendChild(t).appendChild(e).appendChild(n),n=x.getComputedStyle(e),Zt=parseInt(n.height,10)+parseInt(n.borderTopWidth,10)+parseInt(n.borderBottomWidth,10)===e.offsetHeight,w.removeChild(t)),Zt}}));var te=["Webkit","Moz","ms"],ee=S.createElement("div").style,ne={};function ie(t){return C.cssProps[t]||ne[t]||(t in ee?t:ne[t]=function(t){for(var e=t[0].toUpperCase()+t.slice(1),n=te.length;n--;)if((t=te[n]+e)in ee)return t}(t)||t)}var oe=/^(none|table(?!-c[ea]).+)/,re=/^--/,se={position:"absolute",visibility:"hidden",display:"block"},ae={letterSpacing:"0",fontWeight:"400"};function le(t,e,n){var i=vt.exec(e);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):e}function ue(t,e,n,i,o,r){var s="width"===e?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=C.css(t,n+d[s],!0,o)),i?("content"===n&&(l-=C.css(t,"padding"+d[s],!0,o)),"margin"!==n&&(l-=C.css(t,"border"+d[s]+"Width",!0,o))):(l+=C.css(t,"padding"+d[s],!0,o),"padding"!==n?l+=C.css(t,"border"+d[s]+"Width",!0,o):a+=C.css(t,"border"+d[s]+"Width",!0,o));return!i&&0<=r&&(l+=Math.max(0,Math.ceil(t["offset"+e[0].toUpperCase()+e.slice(1)]-r-l-a-.5))||0),l}function ce(t,e,n){var i=Bt(t),o=(!g.boxSizingReliable()||n)&&"border-box"===C.css(t,"boxSizing",!1,i),r=o,s=Xt(t,e,i),a="offset"+e[0].toUpperCase()+e.slice(1);if(Gt.test(s)){if(!n)return s;s="auto"}return(!g.boxSizingReliable()&&o||!g.reliableTrDimensions()&&l(t,"tr")||"auto"===s||!parseFloat(s)&&"inline"===C.css(t,"display",!1,i))&&t.getClientRects().length&&(o="border-box"===C.css(t,"boxSizing",!1,i),r=a in t)&&(s=t[a]),(s=parseFloat(s)||0)+ue(t,e,n||(o?"border":"content"),r,i,s)+"px"}function r(t,e,n,i,o){return new r.prototype.init(t,e,n,i,o)}C.extend({cssHooks:{opacity:{get:function(t,e){if(e)return""===(e=Xt(t,"opacity"))?"1":e}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(t,e,n,i){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,r,s,a=_(e),l=re.test(e),u=t.style;if(l||(e=ie(a)),s=C.cssHooks[e]||C.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(o=s.get(t,!1,i))?o:u[e];"string"==(r=typeof n)&&(o=vt.exec(n))&&o[1]&&(n=_t(t,e,o),r="number"),null!=n&&n==n&&("number"!==r||l||(n+=o&&o[3]||(C.cssNumber[a]?"":"px")),g.clearCloneStyle||""!==n||0!==e.indexOf("background")||(u[e]="inherit"),s&&"set"in s&&void 0===(n=s.set(t,n,i))||(l?u.setProperty(e,n):u[e]=n))}},css:function(t,e,n,i){var o,r=_(e);return re.test(e)||(e=ie(r)),"normal"===(o=void 0===(o=(r=C.cssHooks[e]||C.cssHooks[r])&&"get"in r?r.get(t,!0,n):o)?Xt(t,e,i):o)&&e in ae&&(o=ae[e]),(""===n||n)&&(r=parseFloat(o),!0===n||isFinite(r))?r||0:o}}),C.each(["height","width"],function(t,s){C.cssHooks[s]={get:function(t,e,n){if(e)return!oe.test(C.css(t,"display"))||t.getClientRects().length&&t.getBoundingClientRect().width?ce(t,s,n):Ht(t,se,function(){return ce(t,s,n)})},set:function(t,e,n){var i=Bt(t),o=!g.scrollboxSize()&&"absolute"===i.position,r=(o||n)&&"border-box"===C.css(t,"boxSizing",!1,i),n=n?ue(t,s,n,r,i):0;return r&&o&&(n-=Math.ceil(t["offset"+s[0].toUpperCase()+s.slice(1)]-parseFloat(i[s])-ue(t,s,"border",!1,i)-.5)),n&&(r=vt.exec(e))&&"px"!==(r[3]||"px")&&(t.style[s]=e,e=C.css(t,s)),le(0,e,n)}}}),C.cssHooks.marginLeft=Kt(g.reliableMarginLeft,function(t,e){if(e)return(parseFloat(Xt(t,"marginLeft"))||t.getBoundingClientRect().left-Ht(t,{marginLeft:0},function(){return t.getBoundingClientRect().left}))+"px"}),C.each({margin:"",padding:"",border:"Width"},function(o,r){C.cssHooks[o+r]={expand:function(t){for(var e=0,n={},i="string"==typeof t?t.split(" "):[t];e<4;e++)n[o+d[e]+r]=i[e]||i[e-2]||i[0];return n}},"margin"!==o&&(C.cssHooks[o+r].set=le)}),C.fn.extend({css:function(t,e){return h(this,function(t,e,n){var i,o,r={},s=0;if(Array.isArray(e)){for(i=Bt(t),o=e.length;s<o;s++)r[e[s]]=C.css(t,e[s],!1,i);return r}return void 0!==n?C.style(t,e,n):C.css(t,e)},t,e,1<arguments.length)}}),((C.Tween=r).prototype={constructor:r,init:function(t,e,n,i,o,r){this.elem=t,this.prop=n,this.easing=o||C.easing._default,this.options=e,this.start=this.now=this.cur(),this.end=i,this.unit=r||(C.cssNumber[n]?"":"px")},cur:function(){var t=r.propHooks[this.prop];return(t&&t.get?t:r.propHooks._default).get(this)},run:function(t){var e,n=r.propHooks[this.prop];return this.options.duration?this.pos=e=C.easing[this.easing](t,this.options.duration*t,0,1,this.options.duration):this.pos=e=t,this.now=(this.end-this.start)*e+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),(n&&n.set?n:r.propHooks._default).set(this),this}}).init.prototype=r.prototype,(r.propHooks={_default:{get:function(t){return 1!==t.elem.nodeType||null!=t.elem[t.prop]&&null==t.elem.style[t.prop]?t.elem[t.prop]:(t=C.css(t.elem,t.prop,""))&&"auto"!==t?t:0},set:function(t){C.fx.step[t.prop]?C.fx.step[t.prop](t):1!==t.elem.nodeType||!C.cssHooks[t.prop]&&null==t.elem.style[ie(t.prop)]?t.elem[t.prop]=t.now:C.style(t.elem,t.prop,t.now+t.unit)}}}).scrollTop=r.propHooks.scrollLeft={set:function(t){t.elem.nodeType&&t.elem.parentNode&&(t.elem[t.prop]=t.now)}},C.easing={linear:function(t){return t},swing:function(t){return.5-Math.cos(t*Math.PI)/2},_default:"swing"},C.fx=r.prototype.init,C.fx.step={};var L,he,M,de=/^(?:toggle|show|hide)$/,pe=/queueHooks$/;function fe(){he&&(!1===S.hidden&&x.requestAnimationFrame?x.requestAnimationFrame(fe):x.setTimeout(fe,C.fx.interval),C.fx.tick())}function me(){return x.setTimeout(function(){L=void 0}),L=Date.now()}function ge(t,e){var n,i=0,o={height:t};for(e=e?1:0;i<4;i+=2-e)o["margin"+(n=d[i])]=o["padding"+n]=t;return e&&(o.opacity=o.width=t),o}function ve(t,e,n){for(var i,o=(D.tweeners[e]||[]).concat(D.tweeners["*"]),r=0,s=o.length;r<s;r++)if(i=o[r].call(n,e,t))return i}function D(o,t,e){var n,r,i,s,a,l,u,c=0,h=D.prefilters.length,d=C.Deferred().always(function(){delete p.elem}),p=function(){if(r)return!1;for(var t=L||me(),t=Math.max(0,f.startTime+f.duration-t),e=1-(t/f.duration||0),n=0,i=f.tweens.length;n<i;n++)f.tweens[n].run(e);return d.notifyWith(o,[f,e,t]),e<1&&i?t:(i||d.notifyWith(o,[f,1,0]),d.resolveWith(o,[f]),!1)},f=d.promise({elem:o,props:C.extend({},t),opts:C.extend(!0,{specialEasing:{},easing:C.easing._default},e),originalProperties:t,originalOptions:e,startTime:L||me(),duration:e.duration,tweens:[],createTween:function(t,e){e=C.Tween(o,f.opts,t,e,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(e),e},stop:function(t){var e=0,n=t?f.tweens.length:0;if(!r){for(r=!0;e<n;e++)f.tweens[e].run(1);t?(d.notifyWith(o,[f,1,0]),d.resolveWith(o,[f,t])):d.rejectWith(o,[f,t])}return this}}),m=f.props,g=m,v=f.opts.specialEasing;for(i in g)if(a=v[s=_(i)],l=g[i],Array.isArray(l)&&(a=l[1],l=g[i]=l[0]),i!==s&&(g[s]=l,delete g[i]),(u=C.cssHooks[s])&&"expand"in u)for(i in l=u.expand(l),delete g[s],l)i in g||(g[i]=l[i],v[i]=a);else v[s]=a;for(;c<h;c++)if(n=D.prefilters[c].call(f,o,m,f.opts))return y(n.stop)&&(C._queueHooks(f.elem,f.opts.queue).stop=n.stop.bind(n)),n;return C.map(m,ve,f),y(f.opts.start)&&f.opts.start.call(o,f),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always),C.fx.timer(C.extend(p,{elem:o,anim:f,queue:f.opts.queue})),f}C.Animation=C.extend(D,{tweeners:{"*":[function(t,e){var n=this.createTween(t,e);return _t(n.elem,t,vt.exec(e),n),n}]},tweener:function(t,e){for(var n,i=0,o=(t=y(t)?(e=t,["*"]):t.match(E)).length;i<o;i++)n=t[i],D.tweeners[n]=D.tweeners[n]||[],D.tweeners[n].unshift(e)},prefilters:[function(t,e,n){var i,o,r,s,a,l,u,c="width"in e||"height"in e,h=this,d={},p=t.style,f=t.nodeType&&gt(t),m=b.get(t,"fxshow");for(i in n.queue||(null==(s=C._queueHooks(t,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,C.queue(t,"fx").length||s.empty.fire()})})),e)if(o=e[i],de.test(o)){if(delete e[i],r=r||"toggle"===o,o===(f?"hide":"show")){if("show"!==o||!m||void 0===m[i])continue;f=!0}d[i]=m&&m[i]||C.style(t,i)}if((l=!C.isEmptyObject(e))||!C.isEmptyObject(d))for(i in c&&1===t.nodeType&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],null==(u=m&&m.display)&&(u=b.get(t,"display")),"none"===(c=C.css(t,"display"))&&(u?c=u:(T([t],!0),u=t.style.display||u,c=C.css(t,"display"),T([t]))),"inline"===c||"inline-block"===c&&null!=u)&&"none"===C.css(t,"float")&&(l||(h.done(function(){p.display=u}),null==u&&(c=p.display,u="none"===c?"":c)),p.display="inline-block"),n.overflow&&(p.overflow="hidden",h.always(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]})),l=!1,d)l||(m?"hidden"in m&&(f=m.hidden):m=b.access(t,"fxshow",{display:u}),r&&(m.hidden=!f),f&&T([t],!0),h.done(function(){for(i in f||T([t]),b.remove(t,"fxshow"),d)C.style(t,i,d[i])})),l=ve(f?m[i]:0,i,h),i in m||(m[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(t,e){e?D.prefilters.unshift(t):D.prefilters.push(t)}}),C.speed=function(t,e,n){var i=t&&"object"==typeof t?C.extend({},t):{complete:n||!n&&e||y(t)&&t,duration:t,easing:n&&e||e&&!y(e)&&e};return C.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in C.fx.speeds?i.duration=C.fx.speeds[i.duration]:i.duration=C.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){y(i.old)&&i.old.call(this),i.queue&&C.dequeue(this,i.queue)},i},C.fn.extend({fadeTo:function(t,e,n,i){return this.filter(gt).css("opacity",0).show().end().animate({opacity:e},t,n,i)},animate:function(e,t,n,i){function o(){var t=D(this,C.extend({},e),s);(r||b.get(this,"finish"))&&t.stop(!0)}var r=C.isEmptyObject(e),s=C.speed(t,n,i);return o.finish=o,r||!1===s.queue?this.each(o):this.queue(s.queue,o)},stop:function(o,t,r){function s(t){var e=t.stop;delete t.stop,e(r)}return"string"!=typeof o&&(r=t,t=o,o=void 0),t&&this.queue(o||"fx",[]),this.each(function(){var t=!0,e=null!=o&&o+"queueHooks",n=C.timers,i=b.get(this);if(e)i[e]&&i[e].stop&&s(i[e]);else for(e in i)i[e]&&i[e].stop&&pe.test(e)&&s(i[e]);for(e=n.length;e--;)n[e].elem!==this||null!=o&&n[e].queue!==o||(n[e].anim.stop(r),t=!1,n.splice(e,1));!t&&r||C.dequeue(this,o)})},finish:function(s){return!1!==s&&(s=s||"fx"),this.each(function(){var t,e=b.get(this),n=e[s+"queue"],i=e[s+"queueHooks"],o=C.timers,r=n?n.length:0;for(e.finish=!0,C.queue(this,s,[]),i&&i.stop&&i.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===s&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<r;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete e.finish})}}),C.each(["toggle","show","hide"],function(t,i){var o=C.fn[i];C.fn[i]=function(t,e,n){return null==t||"boolean"==typeof t?o.apply(this,arguments):this.animate(ge(i,!0),t,e,n)}}),C.each({slideDown:ge("show"),slideUp:ge("hide"),slideToggle:ge("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,i){C.fn[t]=function(t,e,n){return this.animate(i,t,e,n)}}),C.timers=[],C.fx.tick=function(){var t,e=0,n=C.timers;for(L=Date.now();e<n.length;e++)(t=n[e])()||n[e]!==t||n.splice(e--,1);n.length||C.fx.stop(),L=void 0},C.fx.timer=function(t){C.timers.push(t),C.fx.start()},C.fx.interval=13,C.fx.start=function(){he||(he=!0,fe())},C.fx.stop=function(){he=null},C.fx.speeds={slow:600,fast:200,_default:400},C.fn.delay=function(i,t){return i=C.fx&&C.fx.speeds[i]||i,this.queue(t=t||"fx",function(t,e){var n=x.setTimeout(t,i);e.stop=function(){x.clearTimeout(n)}})},M=S.createElement("input"),n=S.createElement("select").appendChild(S.createElement("option")),M.type="checkbox",g.checkOn=""!==M.value,g.optSelected=n.selected,(M=S.createElement("input")).value="t",M.type="radio",g.radioValue="t"===M.value;var ye,_e=C.expr.attrHandle,be=(C.fn.extend({attr:function(t,e){return h(this,C.attr,t,e,1<arguments.length)},removeAttr:function(t){return this.each(function(){C.removeAttr(this,t)})}}),C.extend({attr:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return void 0===t.getAttribute?C.prop(t,e,n):(1===r&&C.isXMLDoc(t)||(o=C.attrHooks[e.toLowerCase()]||(C.expr.match.bool.test(e)?ye:void 0)),void 0!==n?null===n?void C.removeAttr(t,e):o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:(t.setAttribute(e,n+""),n):!(o&&"get"in o&&null!==(i=o.get(t,e)))&&null==(i=C.find.attr(t,e))?void 0:i)},attrHooks:{type:{set:function(t,e){var n;if(!g.radioValue&&"radio"===e&&l(t,"input"))return n=t.value,t.setAttribute("type",e),n&&(t.value=n),e}}},removeAttr:function(t,e){var n,i=0,o=e&&e.match(E);if(o&&1===t.nodeType)for(;n=o[i++];)t.removeAttribute(n)}}),ye={set:function(t,e,n){return!1===e?C.removeAttr(t,n):t.setAttribute(n,n),n}},C.each(C.expr.match.bool.source.match(/\w+/g),function(t,e){var s=_e[e]||C.find.attr;_e[e]=function(t,e,n){var i,o,r=e.toLowerCase();return n||(o=_e[r],_e[r]=i,i=null!=s(t,e,n)?r:null,_e[r]=o),i}}),/^(?:input|select|textarea|button)$/i),we=/^(?:a|area)$/i;function N(t){return(t.match(E)||[]).join(" ")}function z(t){return t.getAttribute&&t.getAttribute("class")||""}function xe(t){return Array.isArray(t)?t:"string"==typeof t&&t.match(E)||[]}C.fn.extend({prop:function(t,e){return h(this,C.prop,t,e,1<arguments.length)},removeProp:function(t){return this.each(function(){delete this[C.propFix[t]||t]})}}),C.extend({prop:function(t,e,n){var i,o,r=t.nodeType;if(3!==r&&8!==r&&2!==r)return 1===r&&C.isXMLDoc(t)||(e=C.propFix[e]||e,o=C.propHooks[e]),void 0!==n?o&&"set"in o&&void 0!==(i=o.set(t,n,e))?i:t[e]=n:o&&"get"in o&&null!==(i=o.get(t,e))?i:t[e]},propHooks:{tabIndex:{get:function(t){var e=C.find.attr(t,"tabindex");return e?parseInt(e,10):be.test(t.nodeName)||we.test(t.nodeName)&&t.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),g.optSelected||(C.propHooks.selected={get:function(t){t=t.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(t){t=t.parentNode;t&&(t.selectedIndex,t.parentNode)&&t.parentNode.selectedIndex}}),C.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){C.propFix[this.toLowerCase()]=this}),C.fn.extend({addClass:function(e){var t,n,i,o,r,s,a=0;if(y(e))return this.each(function(t){C(this).addClass(e.call(this,t,z(this)))});if((t=xe(e)).length)for(;n=this[a++];)if(s=z(n),i=1===n.nodeType&&" "+N(s)+" "){for(r=0;o=t[r++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");s!==(s=N(i))&&n.setAttribute("class",s)}return this},removeClass:function(e){var t,n,i,o,r,s,a=0;if(y(e))return this.each(function(t){C(this).removeClass(e.call(this,t,z(this)))});if(!arguments.length)return this.attr("class","");if((t=xe(e)).length)for(;n=this[a++];)if(s=z(n),i=1===n.nodeType&&" "+N(s)+" "){for(r=0;o=t[r++];)for(;-1<i.indexOf(" "+o+" ");)i=i.replace(" "+o+" "," ");s!==(s=N(i))&&n.setAttribute("class",s)}return this},toggleClass:function(o,e){var r=typeof o,s="string"==r||Array.isArray(o);return"boolean"==typeof e&&s?e?this.addClass(o):this.removeClass(o):y(o)?this.each(function(t){C(this).toggleClass(o.call(this,t,z(this),e),e)}):this.each(function(){var t,e,n,i;if(s)for(e=0,n=C(this),i=xe(o);t=i[e++];)n.hasClass(t)?n.removeClass(t):n.addClass(t);else void 0!==o&&"boolean"!=r||((t=z(this))&&b.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",!t&&!1!==o&&b.get(this,"__className__")||""))})},hasClass:function(t){for(var e,n=0,i=" "+t+" ";e=this[n++];)if(1===e.nodeType&&-1<(" "+N(z(e))+" ").indexOf(i))return!0;return!1}});function Se(t){t.stopPropagation()}var Ce=/\r/g,Ee=(C.fn.extend({val:function(e){var n,t,i,o=this[0];return arguments.length?(i=y(e),this.each(function(t){1===this.nodeType&&(null==(t=i?e.call(this,t,C(this).val()):e)?t="":"number"==typeof t?t+="":Array.isArray(t)&&(t=C.map(t,function(t){return null==t?"":t+""})),(n=C.valHooks[this.type]||C.valHooks[this.nodeName.toLowerCase()])&&"set"in n&&void 0!==n.set(this,t,"value")||(this.value=t))})):o?(n=C.valHooks[o.type]||C.valHooks[o.nodeName.toLowerCase()])&&"get"in n&&void 0!==(t=n.get(o,"value"))?t:"string"==typeof(t=o.value)?t.replace(Ce,""):null==t?"":t:void 0}}),C.extend({valHooks:{option:{get:function(t){var e=C.find.attr(t,"value");return null!=e?e:N(C.text(t))}},select:{get:function(t){for(var e,n=t.options,i=t.selectedIndex,o="select-one"===t.type,r=o?null:[],s=o?i+1:n.length,a=i<0?s:o?i:0;a<s;a++)if(((e=n[a]).selected||a===i)&&!e.disabled&&(!e.parentNode.disabled||!l(e.parentNode,"optgroup"))){if(e=C(e).val(),o)return e;r.push(e)}return r},set:function(t,e){for(var n,i,o=t.options,r=C.makeArray(e),s=o.length;s--;)((i=o[s]).selected=-1<C.inArray(C.valHooks.option.get(i),r))&&(n=!0);return n||(t.selectedIndex=-1),r}}}}),C.each(["radio","checkbox"],function(){C.valHooks[this]={set:function(t,e){if(Array.isArray(e))return t.checked=-1<C.inArray(C(t).val(),e)}},g.checkOn||(C.valHooks[this].get=function(t){return null===t.getAttribute("value")?"on":t.value})}),g.focusin="onfocusin"in x,/^(?:focusinfocus|focusoutblur)$/),Ae=(C.extend(C.event,{trigger:function(t,e,n,i){var o,r,s,a,l,u,c,h=[n||S],d=V.call(t,"type")?t.type:t,p=V.call(t,"namespace")?t.namespace.split("."):[],f=c=r=n=n||S;if(3!==n.nodeType&&8!==n.nodeType&&!Ee.test(d+C.event.triggered)&&(-1<d.indexOf(".")&&(d=(p=d.split(".")).shift(),p.sort()),a=d.indexOf(":")<0&&"on"+d,(t=t[C.expando]?t:new C.Event(d,"object"==typeof t&&t)).isTrigger=i?2:3,t.namespace=p.join("."),t.rnamespace=t.namespace?new RegExp("(^|\\.)"+p.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,t.result=void 0,t.target||(t.target=n),e=null==e?[t]:C.makeArray(e,[t]),u=C.event.special[d]||{},i||!u.trigger||!1!==u.trigger.apply(n,e))){if(!i&&!u.noBubble&&!m(n)){for(s=u.delegateType||d,Ee.test(s+d)||(f=f.parentNode);f;f=f.parentNode)h.push(f),r=f;r===(n.ownerDocument||S)&&h.push(r.defaultView||r.parentWindow||x)}for(o=0;(f=h[o++])&&!t.isPropagationStopped();)c=f,t.type=1<o?s:u.bindType||d,(l=(b.get(f,"events")||Object.create(null))[t.type]&&b.get(f,"handle"))&&l.apply(f,e),(l=a&&f[a])&&l.apply&&v(f)&&(t.result=l.apply(f,e),!1===t.result)&&t.preventDefault();return t.type=d,i||t.isDefaultPrevented()||u._default&&!1!==u._default.apply(h.pop(),e)||!v(n)||a&&y(n[d])&&!m(n)&&((r=n[a])&&(n[a]=null),C.event.triggered=d,t.isPropagationStopped()&&c.addEventListener(d,Se),n[d](),t.isPropagationStopped()&&c.removeEventListener(d,Se),C.event.triggered=void 0,r)&&(n[a]=r),t.result}},simulate:function(t,e,n){n=C.extend(new C.Event,n,{type:t,isSimulated:!0});C.event.trigger(n,null,e)}}),C.fn.extend({trigger:function(t,e){return this.each(function(){C.event.trigger(t,e,this)})},triggerHandler:function(t,e){var n=this[0];if(n)return C.event.trigger(t,e,n,!0)}}),g.focusin||C.each({focus:"focusin",blur:"focusout"},function(n,i){function o(t){C.event.simulate(i,t.target,C.event.fix(t))}C.event.special[i]={setup:function(){var t=this.ownerDocument||this.document||this,e=b.access(t,i);e||t.addEventListener(n,o,!0),b.access(t,i,(e||0)+1)},teardown:function(){var t=this.ownerDocument||this.document||this,e=b.access(t,i)-1;e?b.access(t,i,e):(t.removeEventListener(n,o,!0),b.remove(t,i))}}}),x.location),Te={guid:Date.now()},Pe=/\?/,Oe=(C.parseXML=function(t){var e,n;if(!t||"string"!=typeof t)return null;try{e=(new x.DOMParser).parseFromString(t,"text/xml")}catch(t){}return n=e&&e.getElementsByTagName("parsererror")[0],e&&!n||C.error("Invalid XML: "+(n?C.map(n.childNodes,function(t){return t.textContent}).join("\n"):t)),e},/\[\]$/),ke=/\r?\n/g,Le=/^(?:submit|button|image|reset|file)$/i,Me=/^(?:input|select|textarea|keygen)/i;C.param=function(t,e){function n(t,e){e=y(e)?e():e,o[o.length]=encodeURIComponent(t)+"="+encodeURIComponent(null==e?"":e)}var i,o=[];if(null==t)return"";if(Array.isArray(t)||t.jquery&&!C.isPlainObject(t))C.each(t,function(){n(this.name,this.value)});else for(i in t)!function n(i,t,o,r){if(Array.isArray(t))C.each(t,function(t,e){o||Oe.test(i)?r(i,e):n(i+"["+("object"==typeof e&&null!=e?t:"")+"]",e,o,r)});else if(o||"object"!==f(t))r(i,t);else for(var e in t)n(i+"["+e+"]",t[e],o,r)}(i,t[i],e,n);return o.join("&")},C.fn.extend({serialize:function(){return C.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var t=C.prop(this,"elements");return t?C.makeArray(t):this}).filter(function(){var t=this.type;return this.name&&!C(this).is(":disabled")&&Me.test(this.nodeName)&&!Le.test(t)&&(this.checked||!wt.test(t))}).map(function(t,e){var n=C(this).val();return null==n?null:Array.isArray(n)?C.map(n,function(t){return{name:e.name,value:t.replace(ke,"\r\n")}}):{name:e.name,value:n.replace(ke,"\r\n")}}).get()}});var De=/%20/g,Ne=/#.*$/,ze=/([?&])_=[^&]*/,je=/^(.*?):[ \t]*([^\r\n]*)$/gm,Ie=/^(?:GET|HEAD)$/,Re=/^\/\//,Be={},He={},Fe="*/".concat("*"),We=S.createElement("a");function Ve(r){return function(t,e){"string"!=typeof t&&(e=t,t="*");var n,i=0,o=t.toLowerCase().match(E)||[];if(y(e))for(;n=o[i++];)"+"===n[0]?(n=n.slice(1)||"*",(r[n]=r[n]||[]).unshift(e)):(r[n]=r[n]||[]).push(e)}}function Ue(e,i,o,r){var s={},a=e===He;function l(t){var n;return s[t]=!0,C.each(e[t]||[],function(t,e){e=e(i,o,r);return"string"!=typeof e||a||s[e]?a?!(n=e):void 0:(i.dataTypes.unshift(e),l(e),!1)}),n}return l(i.dataTypes[0])||!s["*"]&&l("*")}function Ze(t,e){var n,i,o=C.ajaxSettings.flatOptions||{};for(n in e)void 0!==e[n]&&((o[n]?t:i=i||{})[n]=e[n]);return i&&C.extend(!0,t,i),t}We.href=Ae.href,C.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:Ae.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(Ae.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Fe,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":C.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(t,e){return e?Ze(Ze(t,C.ajaxSettings),e):Ze(C.ajaxSettings,t)},ajaxPrefilter:Ve(Be),ajaxTransport:Ve(He),ajax:function(t,e){"object"==typeof t&&(e=t,t=void 0);var l,u,c,n,h,d,p,i,o,f=C.ajaxSetup({},e=e||{}),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?C(m):C.event,v=C.Deferred(),y=C.Callbacks("once memory"),_=f.statusCode||{},r={},s={},a="canceled",b={readyState:0,getResponseHeader:function(t){var e;if(d){if(!n)for(n={};e=je.exec(c);)n[e[1].toLowerCase()+" "]=(n[e[1].toLowerCase()+" "]||[]).concat(e[2]);e=n[t.toLowerCase()+" "]}return null==e?null:e.join(", ")},getAllResponseHeaders:function(){return d?c:null},setRequestHeader:function(t,e){return null==d&&(t=s[t.toLowerCase()]=s[t.toLowerCase()]||t,r[t]=e),this},overrideMimeType:function(t){return null==d&&(f.mimeType=t),this},statusCode:function(t){if(t)if(d)b.always(t[b.status]);else for(var e in t)_[e]=[_[e],t[e]];return this},abort:function(t){t=t||a;return l&&l.abort(t),w(0,t),this}};if(v.promise(b),f.url=((t||f.url||Ae.href)+"").replace(Re,Ae.protocol+"//"),f.type=e.method||e.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(E)||[""],null==f.crossDomain){o=S.createElement("a");try{o.href=f.url,o.href=o.href,f.crossDomain=We.protocol+"//"+We.host!=o.protocol+"//"+o.host}catch(t){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=C.param(f.data,f.traditional)),Ue(Be,f,e,b),!d){for(i in(p=C.event&&f.global)&&0==C.active++&&C.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Ie.test(f.type),u=f.url.replace(Ne,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(De,"+")):(o=f.url.slice(u.length),f.data&&(f.processData||"string"==typeof f.data)&&(u+=(Pe.test(u)?"&":"?")+f.data,delete f.data),!1===f.cache&&(u=u.replace(ze,"$1"),o=(Pe.test(u)?"&":"?")+"_="+Te.guid+++o),f.url=u+o),f.ifModified&&(C.lastModified[u]&&b.setRequestHeader("If-Modified-Since",C.lastModified[u]),C.etag[u])&&b.setRequestHeader("If-None-Match",C.etag[u]),(f.data&&f.hasContent&&!1!==f.contentType||e.contentType)&&b.setRequestHeader("Content-Type",f.contentType),b.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Fe+"; q=0.01":""):f.accepts["*"]),f.headers)b.setRequestHeader(i,f.headers[i]);if(f.beforeSend&&(!1===f.beforeSend.call(m,b,f)||d))return b.abort();if(a="abort",y.add(f.complete),b.done(f.success),b.fail(f.error),l=Ue(He,f,e,b)){if(b.readyState=1,p&&g.trigger("ajaxSend",[b,f]),d)return b;f.async&&0<f.timeout&&(h=x.setTimeout(function(){b.abort("timeout")},f.timeout));try{d=!1,l.send(r,w)}catch(t){if(d)throw t;w(-1,t)}}else w(-1,"No Transport")}return b;function w(t,e,n,i){var o,r,s,a=e;d||(d=!0,h&&x.clearTimeout(h),l=void 0,c=i||"",b.readyState=0<t?4:0,i=200<=t&&t<300||304===t,n&&(s=function(t,e,n){for(var i,o,r,s,a=t.contents,l=t.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=t.mimeType||e.getResponseHeader("Content-Type"));if(i)for(o in a)if(a[o]&&a[o].test(i)){l.unshift(o);break}if(l[0]in n)r=l[0];else{for(o in n){if(!l[0]||t.converters[o+" "+l[0]]){r=o;break}s=s||o}r=r||s}if(r)return r!==l[0]&&l.unshift(r),n[r]}(f,b,n)),!i&&-1<C.inArray("script",f.dataTypes)&&C.inArray("json",f.dataTypes)<0&&(f.converters["text script"]=function(){}),s=function(t,e,n,i){var o,r,s,a,l,u={},c=t.dataTypes.slice();if(c[1])for(s in t.converters)u[s.toLowerCase()]=t.converters[s];for(r=c.shift();r;)if(t.responseFields[r]&&(n[t.responseFields[r]]=e),!l&&i&&t.dataFilter&&(e=t.dataFilter(e,t.dataType)),l=r,r=c.shift())if("*"===r)r=l;else if("*"!==l&&l!==r){if(!(s=u[l+" "+r]||u["* "+r]))for(o in u)if((a=o.split(" "))[1]===r&&(s=u[l+" "+a[0]]||u["* "+a[0]])){!0===s?s=u[o]:!0!==u[o]&&(r=a[0],c.unshift(a[1]));break}if(!0!==s)if(s&&t.throws)e=s(e);else try{e=s(e)}catch(t){return{state:"parsererror",error:s?t:"No conversion from "+l+" to "+r}}}return{state:"success",data:e}}(f,s,b,i),i?(f.ifModified&&((n=b.getResponseHeader("Last-Modified"))&&(C.lastModified[u]=n),n=b.getResponseHeader("etag"))&&(C.etag[u]=n),204===t||"HEAD"===f.type?a="nocontent":304===t?a="notmodified":(a=s.state,o=s.data,i=!(r=s.error))):(r=a,!t&&a||(a="error",t<0&&(t=0))),b.status=t,b.statusText=(e||a)+"",i?v.resolveWith(m,[o,a,b]):v.rejectWith(m,[b,a,r]),b.statusCode(_),_=void 0,p&&g.trigger(i?"ajaxSuccess":"ajaxError",[b,f,i?o:r]),y.fireWith(m,[b,a]),p&&(g.trigger("ajaxComplete",[b,f]),--C.active||C.event.trigger("ajaxStop")))}},getJSON:function(t,e,n){return C.get(t,e,n,"json")},getScript:function(t,e){return C.get(t,void 0,e,"script")}}),C.each(["get","post"],function(t,o){C[o]=function(t,e,n,i){return y(e)&&(i=i||n,n=e,e=void 0),C.ajax(C.extend({url:t,type:o,dataType:i,data:e,success:n},C.isPlainObject(t)&&t))}}),C.ajaxPrefilter(function(t){for(var e in t.headers)"content-type"===e.toLowerCase()&&(t.contentType=t.headers[e]||"")}),C._evalUrl=function(t,e,n){return C.ajax({url:t,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(t){C.globalEval(t,e,n)}})},C.fn.extend({wrapAll:function(t){return this[0]&&(y(t)&&(t=t.call(this[0])),t=C(t,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var t=this;t.firstElementChild;)t=t.firstElementChild;return t}).append(this)),this},wrapInner:function(n){return y(n)?this.each(function(t){C(this).wrapInner(n.call(this,t))}):this.each(function(){var t=C(this),e=t.contents();e.length?e.wrapAll(n):t.append(n)})},wrap:function(e){var n=y(e);return this.each(function(t){C(this).wrapAll(n?e.call(this,t):e)})},unwrap:function(t){return this.parent(t).not("body").each(function(){C(this).replaceWith(this.childNodes)}),this}}),C.expr.pseudos.hidden=function(t){return!C.expr.pseudos.visible(t)},C.expr.pseudos.visible=function(t){return!!(t.offsetWidth||t.offsetHeight||t.getClientRects().length)},C.ajaxSettings.xhr=function(){try{return new x.XMLHttpRequest}catch(t){}};var qe={0:200,1223:204},$e=C.ajaxSettings.xhr();g.cors=!!$e&&"withCredentials"in $e,g.ajax=$e=!!$e,C.ajaxTransport(function(o){var r,s;if(g.cors||$e&&!o.crossDomain)return{send:function(t,e){var n,i=o.xhr();if(i.open(o.type,o.url,o.async,o.username,o.password),o.xhrFields)for(n in o.xhrFields)i[n]=o.xhrFields[n];for(n in o.mimeType&&i.overrideMimeType&&i.overrideMimeType(o.mimeType),o.crossDomain||t["X-Requested-With"]||(t["X-Requested-With"]="XMLHttpRequest"),t)i.setRequestHeader(n,t[n]);r=function(t){return function(){r&&(r=s=i.onload=i.onerror=i.onabort=i.ontimeout=i.onreadystatechange=null,"abort"===t?i.abort():"error"===t?"number"!=typeof i.status?e(0,"error"):e(i.status,i.statusText):e(qe[i.status]||i.status,i.statusText,"text"!==(i.responseType||"text")||"string"!=typeof i.responseText?{binary:i.response}:{text:i.responseText},i.getAllResponseHeaders()))}},i.onload=r(),s=i.onerror=i.ontimeout=r("error"),void 0!==i.onabort?i.onabort=s:i.onreadystatechange=function(){4===i.readyState&&x.setTimeout(function(){r&&s()})},r=r("abort");try{i.send(o.hasContent&&o.data||null)}catch(t){if(r)throw t}},abort:function(){r&&r()}}}),C.ajaxPrefilter(function(t){t.crossDomain&&(t.contents.script=!1)}),C.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(t){return C.globalEval(t),t}}}),C.ajaxPrefilter("script",function(t){void 0===t.cache&&(t.cache=!1),t.crossDomain&&(t.type="GET")}),C.ajaxTransport("script",function(n){var i,o;if(n.crossDomain||n.scriptAttrs)return{send:function(t,e){i=C("<script>").attr(n.scriptAttrs||{}).prop({charset:n.scriptCharset,src:n.url}).on("load error",o=function(t){i.remove(),o=null,t&&e("error"===t.type?404:200,t.type)}),S.head.appendChild(i[0])},abort:function(){o&&o()}}});var Ge=[],Ye=/(=)\?(?=&|$)|\?\?/,Xe=(C.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var t=Ge.pop()||C.expando+"_"+Te.guid++;return this[t]=!0,t}}),C.ajaxPrefilter("json jsonp",function(t,e,n){var i,o,r,s=!1!==t.jsonp&&(Ye.test(t.url)?"url":"string"==typeof t.data&&0===(t.contentType||"").indexOf("application/x-www-form-urlencoded")&&Ye.test(t.data)&&"data");if(s||"jsonp"===t.dataTypes[0])return i=t.jsonpCallback=y(t.jsonpCallback)?t.jsonpCallback():t.jsonpCallback,s?t[s]=t[s].replace(Ye,"$1"+i):!1!==t.jsonp&&(t.url+=(Pe.test(t.url)?"&":"?")+t.jsonp+"="+i),t.converters["script json"]=function(){return r||C.error(i+" was not called"),r[0]},t.dataTypes[0]="json",o=x[i],x[i]=function(){r=arguments},n.always(function(){void 0===o?C(x).removeProp(i):x[i]=o,t[i]&&(t.jsonpCallback=e.jsonpCallback,Ge.push(i)),r&&y(o)&&o(r[0]),r=o=void 0}),"script"}),g.createHTMLDocument=((t=S.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===t.childNodes.length),C.parseHTML=function(t,e,n){return"string"!=typeof t?[]:("boolean"==typeof e&&(n=e,e=!1),e||(g.createHTMLDocument?((i=(e=S.implementation.createHTMLDocument("")).createElement("base")).href=S.location.href,e.head.appendChild(i)):e=S),i=!n&&[],(n=K.exec(t))?[e.createElement(n[1])]:(n=At([t],e,i),i&&i.length&&C(i).remove(),C.merge([],n.childNodes)));var i},C.fn.load=function(t,e,n){var i,o,r,s=this,a=t.indexOf(" ");return-1<a&&(i=N(t.slice(a)),t=t.slice(0,a)),y(e)?(n=e,e=void 0):e&&"object"==typeof e&&(o="POST"),0<s.length&&C.ajax({url:t,type:o||"GET",dataType:"html",data:e}).done(function(t){r=arguments,s.html(i?C("<div>").append(C.parseHTML(t)).find(i):t)}).always(n&&function(t,e){s.each(function(){n.apply(this,r||[t.responseText,e,t])})}),this},C.expr.pseudos.animated=function(e){return C.grep(C.timers,function(t){return e===t.elem}).length},C.offset={setOffset:function(t,e,n){var i,o,r,s,a=C.css(t,"position"),l=C(t),u={};"static"===a&&(t.style.position="relative"),r=l.offset(),i=C.css(t,"top"),s=C.css(t,"left"),a=("absolute"===a||"fixed"===a)&&-1<(i+s).indexOf("auto")?(o=(a=l.position()).top,a.left):(o=parseFloat(i)||0,parseFloat(s)||0),null!=(e=y(e)?e.call(t,n,C.extend({},r)):e).top&&(u.top=e.top-r.top+o),null!=e.left&&(u.left=e.left-r.left+a),"using"in e?e.using.call(t,u):l.css(u)}},C.fn.extend({offset:function(e){var t,n;return arguments.length?void 0===e?this:this.each(function(t){C.offset.setOffset(this,e,t)}):(n=this[0])?n.getClientRects().length?(t=n.getBoundingClientRect(),n=n.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var t,e,n,i=this[0],o={top:0,left:0};if("fixed"===C.css(i,"position"))e=i.getBoundingClientRect();else{for(e=this.offset(),n=i.ownerDocument,t=i.offsetParent||n.documentElement;t&&(t===n.body||t===n.documentElement)&&"static"===C.css(t,"position");)t=t.parentNode;t&&t!==i&&1===t.nodeType&&((o=C(t).offset()).top+=C.css(t,"borderTopWidth",!0),o.left+=C.css(t,"borderLeftWidth",!0))}return{top:e.top-o.top-C.css(i,"marginTop",!0),left:e.left-o.left-C.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent;t&&"static"===C.css(t,"position");)t=t.offsetParent;return t||w})}}),C.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,o){var r="pageYOffset"===o;C.fn[e]=function(t){return h(this,function(t,e,n){var i;if(m(t)?i=t:9===t.nodeType&&(i=t.defaultView),void 0===n)return i?i[o]:t[e];i?i.scrollTo(r?i.pageXOffset:n,r?n:i.pageYOffset):t[e]=n},e,t,arguments.length)}}),C.each(["top","left"],function(t,n){C.cssHooks[n]=Kt(g.pixelPosition,function(t,e){if(e)return e=Xt(t,n),Gt.test(e)?C(t).position()[n]+"px":e})}),C.each({Height:"height",Width:"width"},function(s,a){C.each({padding:"inner"+s,content:a,"":"outer"+s},function(i,r){C.fn[r]=function(t,e){var n=arguments.length&&(i||"boolean"!=typeof t),o=i||(!0===t||!0===e?"margin":"border");return h(this,function(t,e,n){var i;return m(t)?0===r.indexOf("outer")?t["inner"+s]:t.document.documentElement["client"+s]:9===t.nodeType?(i=t.documentElement,Math.max(t.body["scroll"+s],i["scroll"+s],t.body["offset"+s],i["offset"+s],i["client"+s])):void 0===n?C.css(t,e,o):C.style(t,e,n,o)},a,n?t:void 0,n)}})}),C.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(t,e){C.fn[e]=function(t){return this.on(e,t)}}),C.fn.extend({bind:function(t,e,n){return this.on(t,null,e,n)},unbind:function(t,e){return this.off(t,null,e)},delegate:function(t,e,n,i){return this.on(e,t,n,i)},undelegate:function(t,e,n){return 1===arguments.length?this.off(t,"**"):this.off(e,t||"**",n)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),C.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(t,n){C.fn[n]=function(t,e){return 0<arguments.length?this.on(n,null,t,e):this.trigger(n)}}),/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g),Ke=(C.proxy=function(t,e){var n,i;if("string"==typeof e&&(i=t[e],e=t,t=i),y(t))return n=a.call(arguments,2),(i=function(){return t.apply(e||this,n.concat(a.call(arguments)))}).guid=t.guid=t.guid||C.guid++,i},C.holdReady=function(t){t?C.readyWait++:C.ready(!0)},C.isArray=Array.isArray,C.parseJSON=JSON.parse,C.nodeName=l,C.isFunction=y,C.isWindow=m,C.camelCase=_,C.type=f,C.now=Date.now,C.isNumeric=function(t){var e=C.type(t);return("number"===e||"string"===e)&&!isNaN(t-parseFloat(t))},C.trim=function(t){return null==t?"":(t+"").replace(Xe,"")},"function"==typeof define&&define.amd&&define("jquery",[],function(){return C}),x.jQuery),Je=x.$;return C.noConflict=function(t){return x.$===C&&(x.$=Je),t&&x.jQuery===C&&(x.jQuery=Ke),C},void 0===j&&(x.jQuery=x.$=C),C}),!function(_,b){"use strict";var w="imagesCompare",x={initVisibleRatio:.5,interactionMode:"drag",animationDuration:400,animationEasing:"swing",addSeparator:!0,addDragHandle:!0,precision:4};function n(a,l){a=_(a),(l=_.extend({},x,l)).roundFactor=parseInt("1"+(t=l.precision,String.prototype.repeat?"0".repeat(t):new Array((t||1)+1).join("0"))),this._name=w;var u,o,c,h,t,e,i,d=1,p={width:0,height:0,maxWidth:0,maxHeight:0},f={initialised:"imagesCompare:initialised",changed:"imagesCompare:changed",resized:"imagesCompare:resized"};function r(){_(b).on("resize",function(t){u.css("clip",""),m(),y(d),a.trigger({type:f.resized,originalEvent:t})})}function s(){var t;"undefined"==typeof Hammer&&console.error("Please include the hammerjs library for drag support"),(t=new Hammer(a[0])).get("pan").set({direction:Hammer.DIRECTION_HORIZONTAL}),t.on("pan",function(t){y(g(t.srcEvent.pageX))}),r()}function m(){var t,e,n,i=o.find("img").first();t=i.width(),e=i.height(),n=i.naturalWidth(),i=i.naturalHeight(),void 0!==t&&(p.width=t),void 0!==e&&(p.height=e),void 0!==n&&(p.maxWidth=n),void 0!==i&&(p.maxHeight=i),a.css("max-width",p.maxWidth+"px"),a.css("max-height",p.maxHeight+"px"),u.width(p.width),u.height(p.height)}function g(t){return t=(t-a.offset().left)/u.width(),t=(t=1<(t=Math.round(t*l.roundFactor)/l.roundFactor)?1:t)<0?0:t}function v(t){return t=Math.round(t*l.roundFactor)/l.roundFactor,Math.round(u.width()*t)}function y(t,e,n,i){void 0===e&&(e=!1);var o,r,s=v(t);if(e)return n=n||l.animationDuration,i=i||l.animationEasing,o=d,r=t,n=n,i=i,_(u).attr("ratio",o).animate({ratio:o},{duration:0}),_(u).stop().attr("ratio",o).animate({ratio:r},{duration:n,easing:i,step:function(t){var e=v(t);d=t,u.attr("ratio",t).css("clip","rect(0, "+e+"px, "+p.height+"px, 0)"),l.addSeparator&&c.css("left",e+"px"),l.addDragHandle&&h.css("left",e+"px")},done:function(t,e){var n=_(u).attr("ratio");a.trigger({type:f.changed,ratio:n,value:v(n),animate:!0,animation:t,jumpedToEnd:e})}}),d!=t&&a.trigger({type:f.changed,ratio:d,value:s,animate:e});u.stop().css("clip","rect(0, "+s+"px, "+p.height+"px, 0)"),l.addSeparator&&_(c).stop().css("left",s+"px"),l.addDragHandle&&h.css("left",s+"px"),d!=t&&a.trigger({type:f.changed,ratio:t,value:s,animate:e}),d=t}return t=a.find("img"),e=t.length,i=0,t.each(function(){_(this)[0].complete?(e--,n()):(_(this).on("load",function(){i++,n()}),_(this).on("error",function(){i++,n()}))}),{setValue:function(t,e,n,i){return y(t,e,n,i),a},getValue:function(){return d},on:function(t,e){return a.on(t,e),a},off:function(t,e){return a.off(t,e),a},events:function(){return f}};function n(){if(e<=i){switch(a.addClass("images-compare-container"),a.css("display","inline-block"),u=a.find("> *:nth-child(1)"),o=a.find("> *:nth-child(2)"),u.addClass("images-compare-before"),u.css("display","block"),o.addClass("images-compare-after"),o.css("display","block"),l.addDragHandle&&(a.prepend("<div class='images-compare-handle'></div>"),(h=a.find(".images-compare-handle")).append("<span class='images-compare-left-arrow'></span>"),h.append("<span class='images-compare-right-arrow'></span>")),l.addSeparator&&(a.prepend("<div class='images-compare-separator'></div>"),c=a.find(".images-compare-separator")),m(),l.interactionMode=l.interactionMode.toLowerCase(),"drag"!=l.interactionMode&&"mousemove"!=l.interactionMode&&"click"!=l.interactionMode&&console.warn('No valid interactionMode found, valid values are "drag", "mousemove", "click"'),l.interactionMode){case"drag":s();break;case"mousemove":n=0,a.on("mousemove",function(t){t.preventDefault();var e=Date.now();n+1<e&&(n=e,y(g(t.pageX)))}),a.on("mouseout",function(t){y(g(t.pageX))}),r();break;case"click":a.on("click",function(t){y(g(t.pageX))}),r();break;default:s()}var n;_(u).attr("ratio",l.initVisibleRatio),y(l.initVisibleRatio),a.trigger({type:f.initialised})}}}_.fn.imagesCompare=function(t){var e=_.extend(x,t);return this.each(function(){_.data(this,w)||_.data(this,w,new n(this,e))})}}(jQuery,window,document),function(e){for(var t,n=["Width","Height"],i=n.length,o=0;o<i;o++)!function(t,i){e.fn[t]=t in document.createElement("img")?function(){return this[0][t]}:function(){var t,e=this[0],n=0;return"img"===e.tagName.toLowerCase()&&((t=document.createElement("img")).src=e.src,n=t[i]),n}}("natural"+(t=n[o]),t.toLowerCase())}(jQuery),!function(l){var u=!1;function h(){return l("div").remove("#hpt"),l("div").remove(".hct"),u=!1}l.fn.haloContext=function(a){return l(this).bind("contextmenu",function(t){u&&h();var e,n=a.bindings;for(e in u=!0,c=0,n)l("body").append('<div id="hb'+c+'" class="hct">'+e+"</div>"),l("#hb"+c).click(n[e]),c++;x=t.pageX-24,y=t.pageY-24;var o,s=l("body");for("static"!==s.css("position")&&(o=s.offset(),x-=o.left,y-=o.top,x-=parseInt(s.css("border-left-width"),10),y-=parseInt(s.css("border-top-width"),10)),r=1/Math.tan(Math.PI/c)*48/2+18,l("body").append('<div id="hpt"></div>'),l("#hpt").css("left",t.pageX-5).css("top",t.pageY-5).toggle(),ang=360/c,i=0;i<c;i++)(temp=l("#hb"+i)).css("left",x+Math.cos(ang*i*Math.PI/180)*r),temp.css("top",y+Math.sin(ang*i*Math.PI/180)*r),temp.fadeIn("fast");return l(document).one("click",h),l("#hpt").one("contextmenu",h),!1}),this}}(jQuery),!function(t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(x){"use strict";x.ui=x.ui||{},x.ui.version="1.13.1";var o,i,S,C,r,s,a,l,u,n,t,e,c,h=0,d=Array.prototype.hasOwnProperty,p=Array.prototype.slice;function E(t,e,n){return[parseFloat(t[0])*(u.test(t[0])?e/100:1),parseFloat(t[1])*(u.test(t[1])?n/100:1)]}function A(t,e){return parseInt(x.css(t,e),10)||0}function T(t){return null!=t&&t===t.window}x.cleanData=(o=x.cleanData,function(t){for(var e,n,i=0;null!=(n=t[i]);i++)(e=x._data(n,"events"))&&e.remove&&x(n).triggerHandler("remove");o(t)}),x.widget=function(t,n,e){var i,o,r,s={},a=t.split(".")[0],l=a+"-"+(t=t.split(".")[1]);return e||(e=n,n=x.Widget),Array.isArray(e)&&(e=x.extend.apply(null,[{}].concat(e))),x.expr.pseudos[l.toLowerCase()]=function(t){return!!x.data(t,l)},x[a]=x[a]||{},i=x[a][t],o=x[a][t]=function(t,e){if(!this||!this._createWidget)return new o(t,e);arguments.length&&this._createWidget(t,e)},x.extend(o,i,{version:e.version,_proto:x.extend({},e),_childConstructors:[]}),(r=new n).options=x.widget.extend({},r.options),x.each(e,function(e,i){function o(){return n.prototype[e].apply(this,arguments)}function r(t){return n.prototype[e].apply(this,t)}s[e]="function"==typeof i?function(){var t,e=this._super,n=this._superApply;return this._super=o,this._superApply=r,t=i.apply(this,arguments),this._super=e,this._superApply=n,t}:i}),o.prototype=x.widget.extend(r,{widgetEventPrefix:i&&r.widgetEventPrefix||t},s,{constructor:o,namespace:a,widgetName:t,widgetFullName:l}),i?(x.each(i._childConstructors,function(t,e){var n=e.prototype;x.widget(n.namespace+"."+n.widgetName,o,e._proto)}),delete i._childConstructors):n._childConstructors.push(o),x.widget.bridge(t,o),o},x.widget.extend=function(t){for(var e,n,i=p.call(arguments,1),o=0,r=i.length;o<r;o++)for(e in i[o])n=i[o][e],d.call(i[o],e)&&void 0!==n&&(x.isPlainObject(n)?t[e]=x.isPlainObject(t[e])?x.widget.extend({},t[e],n):x.widget.extend({},n):t[e]=n);return t},x.widget.bridge=function(r,e){var s=e.prototype.widgetFullName||r;x.fn[r]=function(n){var t="string"==typeof n,i=p.call(arguments,1),o=this;return t?this.length||"instance"!==n?this.each(function(){var t,e=x.data(this,s);return"instance"===n?(o=e,!1):e?"function"!=typeof e[n]||"_"===n.charAt(0)?x.error("no such method '"+n+"' for "+r+" widget instance"):(t=e[n].apply(e,i))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:x.error("cannot call methods on "+r+" prior to initialization; attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=x.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=x.data(this,s);t?(t.option(n||{}),t._init&&t._init()):x.data(this,s,new e(n,this))})),o}},x.Widget=function(){},x.Widget._childConstructors=[],x.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,e){e=x(e||this.defaultElement||this)[0],this.element=x(e),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=x(),this.hoverable=x(),this.focusable=x(),this.classesElementLookup={},e!==this&&(x.data(e,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===e&&this.destroy()}}),this.document=x(e.style?e.ownerDocument:e.document||e),this.window=x(this.document[0].defaultView||this.document[0].parentWindow)),this.options=x.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:x.noop,_create:x.noop,_init:x.noop,destroy:function(){var n=this;this._destroy(),x.each(this.classesElementLookup,function(t,e){n._removeClass(e,t)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:x.noop,widget:function(){return this.element},option:function(t,e){var n,i,o,r=t;if(0===arguments.length)return x.widget.extend({},this.options);if("string"==typeof t)if(r={},t=(n=t.split(".")).shift(),n.length){for(i=r[t]=x.widget.extend({},this.options[t]),o=0;o<n.length-1;o++)i[n[o]]=i[n[o]]||{},i=i[n[o]];if(t=n.pop(),1===arguments.length)return void 0===i[t]?null:i[t];i[t]=e}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=e}return this._setOptions(r),this},_setOptions:function(t){for(var e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return"classes"===t&&this._setOptionClasses(e),this.options[t]=e,"disabled"===t&&this._setOptionDisabled(e),this},_setOptionClasses:function(t){var e,n,i;for(e in t)i=this.classesElementLookup[e],t[e]!==this.options.classes[e]&&i&&i.length&&(n=x(i.get()),this._removeClass(i,e),n.addClass(this._classes({element:n,keys:e,classes:t,add:!0})))},_setOptionDisabled:function(t){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!t),t&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(o){var r=[],s=this;function t(t,e){for(var n,i=0;i<t.length;i++)n=s.classesElementLookup[t[i]]||x(),n=o.add?(function(){var n=[];o.element.each(function(t,e){x.map(s.classesElementLookup,function(t){return t}).some(function(t){return t.is(e)})||n.push(e)}),s._on(x(n),{remove:"_untrackClassesElement"})}(),x(x.uniqueSort(n.get().concat(o.element.get())))):x(n.not(o.element).get()),s.classesElementLookup[t[i]]=n,r.push(t[i]),e&&o.classes[t[i]]&&r.push(o.classes[t[i]])}return(o=x.extend({element:this.element,classes:this.options.classes||{}},o)).keys&&t(o.keys.match(/\S+/g)||[],!0),o.extra&&t(o.extra.match(/\S+/g)||[]),r.join(" ")},_untrackClassesElement:function(n){var i=this;x.each(i.classesElementLookup,function(t,e){-1!==x.inArray(n.target,e)&&(i.classesElementLookup[t]=x(e.not(n.target).get()))}),this._off(x(n.target))},_removeClass:function(t,e,n){return this._toggleClass(t,e,n,!1)},_addClass:function(t,e,n){return this._toggleClass(t,e,n,!0)},_toggleClass:function(t,e,n,i){var o="string"==typeof t||null===t;return(n={extra:o?e:n,keys:o?t:e,element:o?this.element:t,add:i="boolean"==typeof i?i:n}).element.toggleClass(this._classes(n),i),this},_on:function(o,r,t){var s,a=this;"boolean"!=typeof o&&(t=r,r=o,o=!1),t?(r=s=x(r),this.bindings=this.bindings.add(r)):(t=r,r=this.element,s=this.widget()),x.each(t,function(t,e){function n(){if(o||!0!==a.options.disabled&&!x(this).hasClass("ui-state-disabled"))return("string"==typeof e?a[e]:e).apply(a,arguments)}"string"!=typeof e&&(n.guid=e.guid=e.guid||n.guid||x.guid++);var i=t.match(/^([\w:-]*)\s*(.*)$/),t=i[1]+a.eventNamespace;(i=i[2])?s.on(t,i,n):r.on(t,n)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(e),this.bindings=x(this.bindings.not(t).get()),this.focusable=x(this.focusable.not(t).get()),this.hoverable=x(this.hoverable.not(t).get())},_delay:function(t,e){var n=this;return setTimeout(function(){return("string"==typeof t?n[t]:t).apply(n,arguments)},e||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(x(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(x(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(x(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,e,n){var i,o,r=this.options[t];if(n=n||{},(e=x.Event(e)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),e.target=this.element[0],o=e.originalEvent)for(i in o)i in e||(e[i]=o[i]);return this.element.trigger(e,n),!("function"==typeof r&&!1===r.apply(this.element[0],[e].concat(n))||e.isDefaultPrevented())}},x.each({show:"fadeIn",hide:"fadeOut"},function(r,s){x.Widget.prototype["_"+r]=function(e,t,n){var i,o=(t="string"==typeof t?{effect:t}:t)?!0!==t&&"number"!=typeof t&&t.effect||s:r;"number"==typeof(t=t||{})?t={duration:t}:!0===t&&(t={}),i=!x.isEmptyObject(t),t.complete=n,t.delay&&e.delay(t.delay),i&&x.effects&&x.effects.effect[o]?e[r](t):o!==r&&e[o]?e[o](t.duration,t.easing,n):e.queue(function(t){x(this)[r](),n&&n.call(e[0]),t()})}}),x.widget,S=Math.max,C=Math.abs,r=/left|center|right/,s=/top|center|bottom/,a=/[\+\-]\d+(\.[\d]+)?%?/,l=/^\w+/,u=/%$/,n=x.fn.position,x.position={scrollbarWidth:function(){var t,e,n;return void 0!==i?i:(n=(e=x("<div style='display:block;position:absolute;width:200px;height:200px;overflow:hidden;'><div style='height:300px;width:auto;'></div></div>")).children()[0],x("body").append(e),t=n.offsetWidth,e.css("overflow","scroll"),t===(n=n.offsetWidth)&&(n=e[0].clientWidth),e.remove(),i=t-n)},getScrollInfo:function(t){var e=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),e="scroll"===e||"auto"===e&&t.width<t.element[0].scrollWidth;return{width:"scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight?x.position.scrollbarWidth():0,height:e?x.position.scrollbarWidth():0}},getWithinInfo:function(t){var e=x(t||window),n=T(e[0]),i=!!e[0]&&9===e[0].nodeType;return{element:e,isWindow:n,isDocument:i,offset:n||i?{left:0,top:0}:x(t).offset(),scrollLeft:e.scrollLeft(),scrollTop:e.scrollTop(),width:e.outerWidth(),height:e.outerHeight()}}},x.fn.position=function(h){var d,p,f,m,g,t,v,y,_,b,w,e;return h&&h.of?(v="string"==typeof(h=x.extend({},h)).of?x(document).find(h.of):x(h.of),y=x.position.getWithinInfo(h.within),_=x.position.getScrollInfo(y),b=(h.collision||"flip").split(" "),w={},e=9===(t=(e=v)[0]).nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:T(t)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:t.preventDefault?{width:0,height:0,offset:{top:t.pageY,left:t.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()},v[0].preventDefault&&(h.at="left top"),p=e.width,f=e.height,g=x.extend({},m=e.offset),x.each(["my","at"],function(){var t,e,n=(h[this]||"").split(" ");(n=1===n.length?r.test(n[0])?n.concat(["center"]):s.test(n[0])?["center"].concat(n):["center","center"]:n)[0]=r.test(n[0])?n[0]:"center",n[1]=s.test(n[1])?n[1]:"center",t=a.exec(n[0]),e=a.exec(n[1]),w[this]=[t?t[0]:0,e?e[0]:0],h[this]=[l.exec(n[0])[0],l.exec(n[1])[0]]}),1===b.length&&(b[1]=b[0]),"right"===h.at[0]?g.left+=p:"center"===h.at[0]&&(g.left+=p/2),"bottom"===h.at[1]?g.top+=f:"center"===h.at[1]&&(g.top+=f/2),d=E(w.at,p,f),g.left+=d[0],g.top+=d[1],this.each(function(){var n,t,s=x(this),a=s.outerWidth(),l=s.outerHeight(),e=A(this,"marginLeft"),i=A(this,"marginTop"),o=a+e+A(this,"marginRight")+_.width,r=l+i+A(this,"marginBottom")+_.height,u=x.extend({},g),c=E(w.my,s.outerWidth(),s.outerHeight());"right"===h.my[0]?u.left-=a:"center"===h.my[0]&&(u.left-=a/2),"bottom"===h.my[1]?u.top-=l:"center"===h.my[1]&&(u.top-=l/2),u.left+=c[0],u.top+=c[1],n={marginLeft:e,marginTop:i},x.each(["left","top"],function(t,e){x.ui.position[b[t]]&&x.ui.position[b[t]][e](u,{targetWidth:p,targetHeight:f,elemWidth:a,elemHeight:l,collisionPosition:n,collisionWidth:o,collisionHeight:r,offset:[d[0]+c[0],d[1]+c[1]],my:h.my,at:h.at,within:y,elem:s})}),h.using&&(t=function(t){var e=m.left-u.left,n=e+p-a,i=m.top-u.top,o=i+f-l,r={target:{element:v,left:m.left,top:m.top,width:p,height:f},element:{element:s,left:u.left,top:u.top,width:a,height:l},horizontal:n<0?"left":0<e?"right":"center",vertical:o<0?"top":0<i?"bottom":"middle"};p<a&&C(e+n)<p&&(r.horizontal="center"),f<l&&C(i+o)<f&&(r.vertical="middle"),S(C(e),C(n))>S(C(i),C(o))?r.important="horizontal":r.important="vertical",h.using.call(this,t,r)}),s.offset(x.extend(u,{using:t}))})):n.apply(this,arguments)},x.ui.position={fit:{left:function(t,e){var n=e.within,i=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,s=i-r,a=r+e.collisionWidth-o-i;e.collisionWidth>o?0<s&&a<=0?(n=t.left+s+e.collisionWidth-o-i,t.left+=s-n):t.left=!(0<a&&s<=0)&&a<s?i+o-e.collisionWidth:i:0<s?t.left+=s:0<a?t.left-=a:t.left=S(t.left-r,t.left)},top:function(t,e){var n=e.within,i=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,s=i-r,a=r+e.collisionHeight-o-i;e.collisionHeight>o?0<s&&a<=0?(n=t.top+s+e.collisionHeight-o-i,t.top+=s-n):t.top=!(0<a&&s<=0)&&a<s?i+o-e.collisionHeight:i:0<s?t.top+=s:0<a?t.top-=a:t.top=S(t.top-r,t.top)}},flip:{left:function(t,e){var n=(l=e.within).offset.left+l.scrollLeft,i=l.width,o=l.isWindow?l.scrollLeft:l.offset.left,r=(u=t.left-e.collisionPosition.marginLeft)-o,s=u+e.collisionWidth-i-o,a="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,l="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,u=-2*e.offset[0];r<0?((n=t.left+a+l+u+e.collisionWidth-i-n)<0||n<C(r))&&(t.left+=a+l+u):0<s&&(0<(o=t.left-e.collisionPosition.marginLeft+a+l+u-o)||C(o)<s)&&(t.left+=a+l+u)},top:function(t,e){var n=(l=e.within).offset.top+l.scrollTop,i=l.height,o=l.isWindow?l.scrollTop:l.offset.top,r=(u=t.top-e.collisionPosition.marginTop)-o,s=u+e.collisionHeight-i-o,a="top"===e.my[1]?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,l="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,u=-2*e.offset[1];r<0?((n=t.top+a+l+u+e.collisionHeight-i-n)<0||n<C(r))&&(t.top+=a+l+u):0<s&&(0<(o=t.top-e.collisionPosition.marginTop+a+l+u-o)||C(o)<s)&&(t.top+=a+l+u)}},flipfit:{left:function(){x.ui.position.flip.left.apply(this,arguments),x.ui.position.fit.left.apply(this,arguments)},top:function(){x.ui.position.flip.top.apply(this,arguments),x.ui.position.fit.top.apply(this,arguments)}}},x.ui.position,x.extend(x.expr.pseudos,{data:x.expr.createPseudo?x.expr.createPseudo(function(e){return function(t){return!!x.data(t,e)}}):function(t,e,n){return!!x.data(t,n[3])}}),x.fn.extend({disableSelection:(t="onselectstart"in document.createElement("div")?"selectstart":"mousedown",function(){return this.on(t+".ui-disableSelection",function(t){t.preventDefault()})}),enableSelection:function(){return this.off(".ui-disableSelection")}}),x.ui.focusable=function(t,e){var n,i,o,r=t.nodeName.toLowerCase();return"area"===r?(n=(o=t.parentNode).name,!(!t.href||!n||"map"!==o.nodeName.toLowerCase())&&0<(n=x("img[usemap='#"+n+"']")).length&&n.is(":visible")):(/^(input|select|textarea|button|object)$/.test(r)?(i=!t.disabled)&&(o=x(t).closest("fieldset")[0])&&(i=!o.disabled):i="a"===r&&t.href||e,i&&x(t).is(":visible")&&function(t){for(var e=t.css("visibility");"inherit"===e;)e=(t=t.parent()).css("visibility");return"visible"===e}(x(t)))},x.extend(x.expr.pseudos,{focusable:function(t){return x.ui.focusable(t,null!=x.attr(t,"tabindex"))}}),x.ui.focusable,x.fn._form=function(){return"string"==typeof this[0].form?this.closest("form"):x(this[0].form)},x.ui.formResetMixin={_formResetHandler:function(){var e=x(this);setTimeout(function(){var t=e.data("ui-form-reset-instances");x.each(t,function(){this.refresh()})})},_bindFormResetHandler:function(){var t;this.form=this.element._form(),this.form.length&&((t=this.form.data("ui-form-reset-instances")||[]).length||this.form.on("reset.ui-form-reset",this._formResetHandler),t.push(this),this.form.data("ui-form-reset-instances",t))},_unbindFormResetHandler:function(){var t;this.form.length&&((t=this.form.data("ui-form-reset-instances")).splice(x.inArray(this,t),1),t.length?this.form.data("ui-form-reset-instances",t):this.form.removeData("ui-form-reset-instances").off("reset.ui-form-reset"))}},x.expr.pseudos||(x.expr.pseudos=x.expr[":"]),x.uniqueSort||(x.uniqueSort=x.unique),x.escapeSelector||(e=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\x80-\uFFFF\w-]/g,c=function(t,e){return e?"\0"===t?"�":t.slice(0,-1)+"\\"+t.charCodeAt(t.length-1).toString(16)+" ":"\\"+t},x.escapeSelector=function(t){return(t+"").replace(e,c)}),x.fn.even&&x.fn.odd||x.fn.extend({even:function(){return this.filter(function(t){return t%2==0})},odd:function(){return this.filter(function(t){return t%2==1})}}),x.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38},x.fn.labels=function(){var t,e,n;return this.length?this[0].labels&&this[0].labels.length?this.pushStack(this[0].labels):(e=this.eq(0).parents("label"),(t=this.attr("id"))&&(n=(n=this.eq(0).parents().last()).add((n.length?n:this).siblings()),t="label[for='"+x.escapeSelector(t)+"']",e=e.add(n.find(t).addBack(t))),this.pushStack(e)):this.pushStack([])},x.fn.scrollParent=function(t){var e=this.css("position"),n="absolute"===e,i=t?/(auto|scroll|hidden)/:/(auto|scroll)/,t=this.parents().filter(function(){var t=x(this);return(!n||"static"!==t.css("position"))&&i.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==e&&t.length?t:x(this[0].ownerDocument||document)},x.extend(x.expr.pseudos,{tabbable:function(t){var e=x.attr(t,"tabindex"),n=null!=e;return(!n||0<=e)&&x.ui.focusable(t,n)}}),x.fn.extend({uniqueId:(f=0,function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++f)})}),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&x(this).removeAttr("id")})}}),x.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase());var f,m,g=!1,v=(x(document).on("mouseup",function(){g=!1}),x.widget("ui.mouse",{version:"1.13.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.on("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).on("click."+this.widgetName,function(t){if(!0===x.data(t.target,e.widgetName+".preventClickEvent"))return x.removeData(t.target,e.widgetName+".preventClickEvent"),t.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){var e,n,i;if(!g)return this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),n=1===(this._mouseDownEvent=t).which,i=!("string"!=typeof(e=this).options.cancel||!t.target.nodeName)&&x(t.target).closest(this.options.cancel).length,!(n&&!i&&this._mouseCapture(t))||(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){e.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(t),!this._mouseStarted)?(t.preventDefault(),!0):(!0===x.data(t.target,this.widgetName+".preventClickEvent")&&x.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return e._mouseMove(t)},this._mouseUpDelegate=function(t){return e._mouseUp(t)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),g=!0))},_mouseMove:function(t){if(this._mouseMoved){if(x.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&x.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,g=!1,t.preventDefault()},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),x.ui.plugin={add:function(t,e,n){var i,o=x.ui[t].prototype;for(i in n)o.plugins[i]=o.plugins[i]||[],o.plugins[i].push([e,n[i]])},call:function(t,e,n,i){var o,r=t.plugins[e];if(r&&(i||t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType))for(o=0;o<r.length;o++)t.options[r[o][0]]&&r[o][1].apply(t.element,n)}},x.widget("ui.resizable",x.ui.mouse,{version:"1.13.1",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,classes:{"ui-resizable-se":"ui-icon ui-icon-gripsmall-diagonal-se"},containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(t){return parseFloat(t)||0},_isNumber:function(t){return!isNaN(parseFloat(t))},_hasScroll:function(t,e){if("hidden"===x(t).css("overflow"))return!1;var n=e&&"left"===e?"scrollLeft":"scrollTop",e=!1;if(0<t[n])return!0;try{t[n]=1,e=0<t[n],t[n]=0}catch(t){}return e},_create:function(){var t,e=this.options,n=this;this._addClass("ui-resizable"),x.extend(this,{_aspectRatio:!!e.aspectRatio,aspectRatio:e.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:e.helper||e.ghost||e.animate?e.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(x("<div class='ui-wrapper'></div>").css({overflow:"hidden",position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,t={marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom"),marginLeft:this.originalElement.css("marginLeft")},this.element.css(t),this.originalElement.css("margin",0),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css(t),this._proportionallyResize()),this._setupHandles(),e.autoHide&&x(this.element).on("mouseenter",function(){e.disabled||(n._removeClass("ui-resizable-autohide"),n._handles.show())}).on("mouseleave",function(){e.disabled||n.resizing||(n._addClass("ui-resizable-autohide"),n._handles.hide())}),this._mouseInit()},_destroy:function(){function t(t){x(t).removeData("resizable").removeData("ui-resizable").off(".resizable")}var e;return this._mouseDestroy(),this._addedHandles.remove(),this.elementIsWrapper&&(t(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),t(this.originalElement),this},_setOption:function(t,e){switch(this._super(t,e),t){case"handles":this._removeHandles(),this._setupHandles();break;case"aspectRatio":this._aspectRatio=!!e}},_setupHandles:function(){var t,e,n,i,o,r=this.options,s=this;if(this.handles=r.handles||(x(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=x(),this._addedHandles=x(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),n=this.handles.split(","),this.handles={},e=0;e<n.length;e++)i="ui-resizable-"+(t=String.prototype.trim.call(n[e])),o=x("<div>"),this._addClass(o,"ui-resizable-handle "+i),o.css({zIndex:r.zIndex}),this.handles[t]=".ui-resizable-"+t,this.element.children(this.handles[t]).length||(this.element.append(o),this._addedHandles=this._addedHandles.add(o));this._renderAxis=function(t){var e,n,i;for(e in t=t||this.element,this.handles)this.handles[e].constructor===String?this.handles[e]=this.element.children(this.handles[e]).first().show():(this.handles[e].jquery||this.handles[e].nodeType)&&(this.handles[e]=x(this.handles[e]),this._on(this.handles[e],{mousedown:s._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=x(this.handles[e],this.element),i=/sw|ne|nw|se|n|s/.test(e)?n.outerHeight():n.outerWidth(),n=["padding",/ne|nw|n/.test(e)?"Top":/se|sw|s/.test(e)?"Bottom":/^e$/.test(e)?"Right":"Left"].join(""),t.css(n,i),this._proportionallyResize()),this._handles=this._handles.add(this.handles[e])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.on("mouseover",function(){s.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),s.axis=o&&o[1]?o[1]:"se")}),r.autoHide&&(this._handles.hide(),this._addClass("ui-resizable-autohide"))},_removeHandles:function(){this._addedHandles.remove()},_mouseCapture:function(t){var e,n,i=!1;for(e in this.handles)(n=x(this.handles[e])[0])!==t.target&&!x.contains(n,t.target)||(i=!0);return!this.options.disabled&&i},_mouseStart:function(t){var e,n,i=this.options,o=this.element;return this.resizing=!0,this._renderProxy(),e=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),i.containment&&(e+=x(i.containment).scrollLeft()||0,n+=x(i.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:e,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:o.width(),height:o.height()},this.originalSize=this._helper?{width:o.outerWidth(),height:o.outerHeight()}:{width:o.width(),height:o.height()},this.sizeDiff={width:o.outerWidth()-o.width(),height:o.outerHeight()-o.height()},this.originalPosition={left:e,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof i.aspectRatio?i.aspectRatio:this.originalSize.width/this.originalSize.height||1,i=x(".ui-resizable-"+this.axis).css("cursor"),x("body").css("cursor","auto"===i?this.axis+"-resize":i),this._addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var e=this.originalMousePosition,n=this.axis,i=t.pageX-e.left||0,e=t.pageY-e.top||0,n=this._change[n];return this._updatePrevProperties(),n&&(e=n.apply(this,[t,i,e]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(e=this._updateRatio(e,t)),e=this._respectSize(e,t),this._updateCache(e),this._propagate("resize",t),e=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),x.isEmptyObject(e)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges())),!1},_mouseStop:function(t){this.resizing=!1;var e,n,i,o=this.options,r=this;return this._helper&&(i=(e=(n=this._proportionallyResizeElements).length&&/textarea/i.test(n[0].nodeName))&&this._hasScroll(n[0],"left")?0:r.sizeDiff.height,n=e?0:r.sizeDiff.width,e={width:r.helper.width()-n,height:r.helper.height()-i},n=parseFloat(r.element.css("left"))+(r.position.left-r.originalPosition.left)||null,i=parseFloat(r.element.css("top"))+(r.position.top-r.originalPosition.top)||null,o.animate||this.element.css(x.extend(e,{top:i,left:n})),r.helper.height(r.size.height),r.helper.width(r.size.width),this._helper)&&!o.animate&&this._proportionallyResize(),x("body").css("cursor","auto"),this._removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var t={};return this.position.top!==this.prevPosition.top&&(t.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(t.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(t.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(t.height=this.size.height+"px"),this.helper.css(t),t},_updateVirtualBoundaries:function(t){var e,n,i=this.options,o={minWidth:this._isNumber(i.minWidth)?i.minWidth:0,maxWidth:this._isNumber(i.maxWidth)?i.maxWidth:1/0,minHeight:this._isNumber(i.minHeight)?i.minHeight:0,maxHeight:this._isNumber(i.maxHeight)?i.maxHeight:1/0};(this._aspectRatio||t)&&(e=o.minHeight*this.aspectRatio,n=o.minWidth/this.aspectRatio,i=o.maxHeight*this.aspectRatio,t=o.maxWidth/this.aspectRatio,o.minWidth<e&&(o.minWidth=e),o.minHeight<n&&(o.minHeight=n),i<o.maxWidth&&(o.maxWidth=i),t<o.maxHeight)&&(o.maxHeight=t),this._vBoundaries=o},_updateCache:function(t){this.offset=this.helper.offset(),this._isNumber(t.left)&&(this.position.left=t.left),this._isNumber(t.top)&&(this.position.top=t.top),this._isNumber(t.height)&&(this.size.height=t.height),this._isNumber(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,i=this.axis;return this._isNumber(t.height)?t.width=t.height*this.aspectRatio:this._isNumber(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===i&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===i&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,i=this._isNumber(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=this._isNumber(t.height)&&e.maxHeight&&e.maxHeight<t.height,r=this._isNumber(t.width)&&e.minWidth&&e.minWidth>t.width,s=this._isNumber(t.height)&&e.minHeight&&e.minHeight>t.height,a=this.originalPosition.left+this.originalSize.width,l=this.originalPosition.top+this.originalSize.height,u=/sw|nw|w/.test(n),n=/nw|ne|n/.test(n);return r&&(t.width=e.minWidth),s&&(t.height=e.minHeight),i&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),r&&u&&(t.left=a-e.minWidth),i&&u&&(t.left=a-e.maxWidth),s&&n&&(t.top=l-e.minHeight),o&&n&&(t.top=l-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_getPaddingPlusBorderDimensions:function(t){for(var e=0,n=[],i=[t.css("borderTopWidth"),t.css("borderRightWidth"),t.css("borderBottomWidth"),t.css("borderLeftWidth")],o=[t.css("paddingTop"),t.css("paddingRight"),t.css("paddingBottom"),t.css("paddingLeft")];e<4;e++)n[e]=parseFloat(i[e])||0,n[e]+=parseFloat(o[e])||0;return{height:n[0]+n[2],width:n[1]+n[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var t,e=0,n=this.helper||this.element;e<this._proportionallyResizeElements.length;e++)t=this._proportionallyResizeElements[e],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(t)),t.css({height:n.height()-this.outerDimensions.height||0,width:n.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,e=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||x("<div></div>").css({overflow:"hidden"}),this._addClass(this.helper,this._helper),this.helper.css({width:this.element.outerWidth(),height:this.element.outerHeight(),position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++e.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var n=this.originalSize;return{left:this.originalPosition.left+e,width:n.width-e}},n:function(t,e,n){var i=this.originalSize;return{top:this.originalPosition.top+n,height:i.height-n}},s:function(t,e,n){return{height:this.originalSize.height+n}},se:function(t,e,n){return x.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},sw:function(t,e,n){return x.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,e,n]))},ne:function(t,e,n){return x.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,e,n]))},nw:function(t,e,n){return x.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,e,n]))}},_propagate:function(t,e){x.ui.plugin.call(this,t,[e,this.ui()]),"resize"!==t&&this._trigger(t,e,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),x.ui.plugin.add("resizable","animate",{stop:function(e){var n=x(this).resizable("instance"),t=n.options,i=n._proportionallyResizeElements,o=(s=i.length&&/textarea/i.test(i[0].nodeName))&&n._hasScroll(i[0],"left")?0:n.sizeDiff.height,r=s?0:n.sizeDiff.width,s={width:n.size.width-r,height:n.size.height-o},r=parseFloat(n.element.css("left"))+(n.position.left-n.originalPosition.left)||null,o=parseFloat(n.element.css("top"))+(n.position.top-n.originalPosition.top)||null;n.element.animate(x.extend(s,o&&r?{top:o,left:r}:{}),{duration:t.animateDuration,easing:t.animateEasing,step:function(){var t={width:parseFloat(n.element.css("width")),height:parseFloat(n.element.css("height")),top:parseFloat(n.element.css("top")),left:parseFloat(n.element.css("left"))};i&&i.length&&x(i[0]).css({width:t.width,height:t.height}),n._updateCache(t),n._propagate("resize",e)}})}}),x.ui.plugin.add("resizable","containment",{start:function(){var n,i,o=x(this).resizable("instance"),t=o.options,e=o.element,r=t.containment,s=r instanceof x?r.get(0):/parent/.test(r)?e.parent().get(0):r;s&&(o.containerElement=x(s),/document/.test(r)||r===document?(o.containerOffset={left:0,top:0},o.containerPosition={left:0,top:0},o.parentData={element:x(document),left:0,top:0,width:x(document).width(),height:x(document).height()||document.body.parentNode.scrollHeight}):(n=x(s),i=[],x(["Top","Right","Left","Bottom"]).each(function(t,e){i[t]=o._num(n.css("padding"+e))}),o.containerOffset=n.offset(),o.containerPosition=n.position(),o.containerSize={height:n.innerHeight()-i[3],width:n.innerWidth()-i[1]},t=o.containerOffset,e=o.containerSize.height,r=o.containerSize.width,r=o._hasScroll(s,"left")?s.scrollWidth:r,e=o._hasScroll(s)?s.scrollHeight:e,o.parentData={element:s,left:t.left,top:t.top,width:r,height:e}))},resize:function(t){var e=x(this).resizable("instance"),n=e.options,i=e.containerOffset,o=e.position,r=e._aspectRatio||t.shiftKey,s={top:0,left:0},a=e.containerElement,t=!0;a[0]!==document&&/static/.test(a.css("position"))&&(s=i),o.left<(e._helper?i.left:0)&&(e.size.width=e.size.width+(e._helper?e.position.left-i.left:e.position.left-s.left),r&&(e.size.height=e.size.width/e.aspectRatio,t=!1),e.position.left=n.helper?i.left:0),o.top<(e._helper?i.top:0)&&(e.size.height=e.size.height+(e._helper?e.position.top-i.top:e.position.top),r&&(e.size.width=e.size.height*e.aspectRatio,t=!1),e.position.top=e._helper?i.top:0),n=e.containerElement.get(0)===e.element.parent().get(0),o=/relative|absolute/.test(e.containerElement.css("position")),n&&o?(e.offset.left=e.parentData.left+e.position.left,e.offset.top=e.parentData.top+e.position.top):(e.offset.left=e.element.offset().left,e.offset.top=e.element.offset().top),o=Math.abs(e.sizeDiff.width+(e._helper?e.offset.left-s.left:e.offset.left-i.left)),i=Math.abs(e.sizeDiff.height+(e._helper?e.offset.top-s.top:e.offset.top-i.top)),o+e.size.width>=e.parentData.width&&(e.size.width=e.parentData.width-o,r)&&(e.size.height=e.size.width/e.aspectRatio,t=!1),i+e.size.height>=e.parentData.height&&(e.size.height=e.parentData.height-i,r)&&(e.size.width=e.size.height*e.aspectRatio,t=!1),t||(e.position.left=e.prevPosition.left,e.position.top=e.prevPosition.top,e.size.width=e.prevSize.width,e.size.height=e.prevSize.height)},stop:function(){var t=x(this).resizable("instance"),e=t.options,n=t.containerOffset,i=t.containerPosition,o=t.containerElement,r=(a=x(t.helper)).offset(),s=a.outerWidth()-t.sizeDiff.width,a=a.outerHeight()-t.sizeDiff.height;t._helper&&!e.animate&&/relative/.test(o.css("position"))&&x(this).css({left:r.left-i.left-n.left,width:s,height:a}),t._helper&&!e.animate&&/static/.test(o.css("position"))&&x(this).css({left:r.left-i.left-n.left,width:s,height:a})}}),x.ui.plugin.add("resizable","alsoResize",{start:function(){var t=x(this).resizable("instance").options;x(t.alsoResize).each(function(){var t=x(this);t.data("ui-resizable-alsoresize",{width:parseFloat(t.width()),height:parseFloat(t.height()),left:parseFloat(t.css("left")),top:parseFloat(t.css("top"))})})},resize:function(t,n){var e=x(this).resizable("instance"),i=e.options,o=e.originalSize,r=e.originalPosition,s={height:e.size.height-o.height||0,width:e.size.width-o.width||0,top:e.position.top-r.top||0,left:e.position.left-r.left||0};x(i.alsoResize).each(function(){var t=x(this),i=x(this).data("ui-resizable-alsoresize"),o={},e=t.parents(n.originalElement[0]).length?["width","height"]:["width","height","top","left"];x.each(e,function(t,e){var n=(i[e]||0)+(s[e]||0);n&&0<=n&&(o[e]=n||null)}),t.css(o)})},stop:function(){x(this).removeData("ui-resizable-alsoresize")}}),x.ui.plugin.add("resizable","ghost",{start:function(){var t=x(this).resizable("instance"),e=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:e.height,width:e.width,margin:0,left:0,top:0}),t._addClass(t.ghost,"ui-resizable-ghost"),!1!==x.uiBackCompat&&"string"==typeof t.options.ghost&&t.ghost.addClass(this.options.ghost),t.ghost.appendTo(t.helper)},resize:function(){var t=x(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=x(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),x.ui.plugin.add("resizable","grid",{resize:function(){var t,e=x(this).resizable("instance"),n=e.options,i=e.size,o=e.originalSize,r=e.originalPosition,s=e.axis,a="number"==typeof n.grid?[n.grid,n.grid]:n.grid,l=a[0]||1,u=a[1]||1,c=Math.round((i.width-o.width)/l)*l,h=Math.round((i.height-o.height)/u)*u,d=o.width+c,p=o.height+h,f=n.maxWidth&&n.maxWidth<d,m=n.maxHeight&&n.maxHeight<p,g=n.minWidth&&n.minWidth>d,i=n.minHeight&&n.minHeight>p;n.grid=a,g&&(d+=l),i&&(p+=u),f&&(d-=l),m&&(p-=u),/^(se|s|e)$/.test(s)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(s)?(e.size.width=d,e.size.height=p,e.position.top=r.top-h):/^(sw)$/.test(s)?(e.size.width=d,e.size.height=p,e.position.left=r.left-c):((p-u<=0||d-l<=0)&&(t=e._getPaddingPlusBorderDimensions(this)),0<p-u?(e.size.height=p,e.position.top=r.top-h):(p=u-t.height,e.size.height=p,e.position.top=r.top+o.height-p),0<d-l?(e.size.width=d,e.position.left=r.left-c):(d=l-t.width,e.size.width=d,e.position.left=r.left+o.width-d))}}),x.ui.resizable,/ui-corner-([a-z]){2,6}/g);x.widget("ui.controlgroup",{version:"1.13.1",defaultElement:"<div>",options:{direction:"horizontal",disabled:null,onlyVisible:!0,items:{button:"input[type=button], input[type=submit], input[type=reset], button, a",controlgroupLabel:".ui-controlgroup-label",checkboxradio:"input[type='checkbox'], input[type='radio']",selectmenu:"select",spinner:".ui-spinner-input"}},_create:function(){this._enhance()},_enhance:function(){this.element.attr("role","toolbar"),this.refresh()},_destroy:function(){this._callChildMethod("destroy"),this.childWidgets.removeData("ui-controlgroup-data"),this.element.removeAttr("role"),this.options.items.controlgroupLabel&&this.element.find(this.options.items.controlgroupLabel).find(".ui-controlgroup-label-contents").contents().unwrap()},_initWidgets:function(){var r=this,s=[];x.each(this.options.items,function(i,t){var e,o;if(t)return"controlgroupLabel"===i?((e=r.element.find(t)).each(function(){var t=x(this);t.children(".ui-controlgroup-label-contents").length||t.contents().wrapAll("<span class='ui-controlgroup-label-contents'></span>")}),r._addClass(e,null,"ui-widget ui-widget-content ui-state-default"),void(s=s.concat(e.get()))):void(x.fn[i]&&(o=r["_"+i+"Options"]?r["_"+i+"Options"]("middle"):{classes:{}},r.element.find(t).each(function(){var t=x(this),e=t[i]("instance"),n=x.widget.extend({},o);"button"===i&&t.parent(".ui-spinner").length||((e=e||t[i]()[i]("instance"))&&(n.classes=r._resolveClassesValues(n.classes,e)),t[i](n),n=t[i]("widget"),x.data(n[0],"ui-controlgroup-data",e||t[i]("instance")),s.push(n[0]))})))}),this.childWidgets=x(x.uniqueSort(s)),this._addClass(this.childWidgets,"ui-controlgroup-item")},_callChildMethod:function(e){this.childWidgets.each(function(){var t=x(this).data("ui-controlgroup-data");t&&t[e]&&t[e]()})},_updateCornerClass:function(t,e){e=this._buildSimpleOptions(e,"label").classes.label,this._removeClass(t,null,"ui-corner-top ui-corner-bottom ui-corner-left ui-corner-right ui-corner-all"),this._addClass(t,null,e)},_buildSimpleOptions:function(t,e){var n="vertical"===this.options.direction,i={classes:{}};return i.classes[e]={middle:"",first:"ui-corner-"+(n?"top":"left"),last:"ui-corner-"+(n?"bottom":"right"),only:"ui-corner-all"}[t],i},_spinnerOptions:function(t){return(t=this._buildSimpleOptions(t,"ui-spinner")).classes["ui-spinner-up"]="",t.classes["ui-spinner-down"]="",t},_buttonOptions:function(t){return this._buildSimpleOptions(t,"ui-button")},_checkboxradioOptions:function(t){return this._buildSimpleOptions(t,"ui-checkboxradio-label")},_selectmenuOptions:function(t){var e="vertical"===this.options.direction;return{width:e&&"auto",classes:{middle:{"ui-selectmenu-button-open":"","ui-selectmenu-button-closed":""},first:{"ui-selectmenu-button-open":"ui-corner-"+(e?"top":"tl"),"ui-selectmenu-button-closed":"ui-corner-"+(e?"top":"left")},last:{"ui-selectmenu-button-open":e?"":"ui-corner-tr","ui-selectmenu-button-closed":"ui-corner-"+(e?"bottom":"right")},only:{"ui-selectmenu-button-open":"ui-corner-top","ui-selectmenu-button-closed":"ui-corner-all"}}[t]}},_resolveClassesValues:function(n,i){var o={};return x.each(n,function(t){var e=i.options.classes[t]||"",e=String.prototype.trim.call(e.replace(v,""));o[t]=(e+" "+n[t]).replace(/\s+/g," ")}),o},_setOption:function(t,e){"direction"===t&&this._removeClass("ui-controlgroup-"+this.options.direction),this._super(t,e),"disabled"!==t?this.refresh():this._callChildMethod(e?"disable":"enable")},refresh:function(){var o,r=this;this._addClass("ui-controlgroup ui-controlgroup-"+this.options.direction),"horizontal"===this.options.direction&&this._addClass(null,"ui-helper-clearfix"),this._initWidgets(),o=this.childWidgets,(o=this.options.onlyVisible?o.filter(":visible"):o).length&&(x.each(["first","last"],function(t,e){var n,i=o[e]().data("ui-controlgroup-data");i&&r["_"+i.widgetName+"Options"]?((n=r["_"+i.widgetName+"Options"](1===o.length?"only":e)).classes=r._resolveClassesValues(n.classes,i),i.element[i.widgetName](n)):r._updateCornerClass(o[e](),e)}),this._callChildMethod("refresh"))}}),x.widget("ui.checkboxradio",[x.ui.formResetMixin,{version:"1.13.1",options:{disabled:null,label:null,icon:!0,classes:{"ui-checkboxradio-label":"ui-corner-all","ui-checkboxradio-icon":"ui-corner-all"}},_getCreateOptions:function(){var t,e=this,n=this._super()||{};return this._readType(),t=this.element.labels(),this.label=x(t[t.length-1]),this.label.length||x.error("No label found for checkboxradio widget"),this.originalLabel="",this.label.contents().not(this.element[0]).each(function(){e.originalLabel+=3===this.nodeType?x(this).text():this.outerHTML}),this.originalLabel&&(n.label=this.originalLabel),null!=(t=this.element[0].disabled)&&(n.disabled=t),n},_create:function(){var t=this.element[0].checked;this._bindFormResetHandler(),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled),this._setOption("disabled",this.options.disabled),this._addClass("ui-checkboxradio","ui-helper-hidden-accessible"),this._addClass(this.label,"ui-checkboxradio-label","ui-button ui-widget"),"radio"===this.type&&this._addClass(this.label,"ui-checkboxradio-radio-label"),this.options.label&&this.options.label!==this.originalLabel?this._updateLabel():this.originalLabel&&(this.options.label=this.originalLabel),this._enhance(),t&&this._addClass(this.label,"ui-checkboxradio-checked","ui-state-active"),this._on({change:"_toggleClasses",focus:function(){this._addClass(this.label,null,"ui-state-focus ui-visual-focus")},blur:function(){this._removeClass(this.label,null,"ui-state-focus ui-visual-focus")}})},_readType:function(){var t=this.element[0].nodeName.toLowerCase();this.type=this.element[0].type,"input"===t&&/radio|checkbox/.test(this.type)||x.error("Can't create checkboxradio on element.nodeName="+t+" and element.type="+this.type)},_enhance:function(){this._updateIcon(this.element[0].checked)},widget:function(){return this.label},_getRadioGroup:function(){var t=this.element[0].name,e="input[name='"+x.escapeSelector(t)+"']";return t?(this.form.length?x(this.form[0].elements).filter(e):x(e).filter(function(){return 0===x(this)._form().length})).not(this.element):x([])},_toggleClasses:function(){var t=this.element[0].checked;this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),this.options.icon&&"checkbox"===this.type&&this._toggleClass(this.icon,null,"ui-icon-check ui-state-checked",t)._toggleClass(this.icon,null,"ui-icon-blank",!t),"radio"===this.type&&this._getRadioGroup().each(function(){var t=x(this).checkboxradio("instance");t&&t._removeClass(t.label,"ui-checkboxradio-checked","ui-state-active")})},_destroy:function(){this._unbindFormResetHandler(),this.icon&&(this.icon.remove(),this.iconSpace.remove())},_setOption:function(t,e){"label"===t&&!e||(this._super(t,e),"disabled"===t?(this._toggleClass(this.label,null,"ui-state-disabled",e),this.element[0].disabled=e):this.refresh())},_updateIcon:function(t){var e="ui-icon ui-icon-background ";this.options.icon?(this.icon||(this.icon=x("<span>"),this.iconSpace=x("<span> </span>"),this._addClass(this.iconSpace,"ui-checkboxradio-icon-space")),"checkbox"===this.type?(e+=t?"ui-icon-check ui-state-checked":"ui-icon-blank",this._removeClass(this.icon,null,t?"ui-icon-blank":"ui-icon-check")):e+="ui-icon-blank",this._addClass(this.icon,"ui-checkboxradio-icon",e),t||this._removeClass(this.icon,null,"ui-icon-check ui-state-checked"),this.icon.prependTo(this.label).after(this.iconSpace)):void 0!==this.icon&&(this.icon.remove(),this.iconSpace.remove(),delete this.icon)},_updateLabel:function(){var t=this.label.contents().not(this.element[0]);this.icon&&(t=t.not(this.icon[0])),(t=this.iconSpace?t.not(this.iconSpace[0]):t).remove(),this.label.append(this.options.label)},refresh:function(){var t=this.element[0].checked,e=this.element[0].disabled;this._updateIcon(t),this._toggleClass(this.label,"ui-checkboxradio-checked","ui-state-active",t),null!==this.options.label&&this._updateLabel(),e!==this.options.disabled&&this._setOptions({disabled:e})}}]),x.ui.checkboxradio,x.widget("ui.button",{version:"1.13.1",defaultElement:"<button>",options:{classes:{"ui-button":"ui-corner-all"},disabled:null,icon:null,iconPosition:"beginning",label:null,showLabel:!0},_getCreateOptions:function(){var t,e=this._super()||{};return this.isInput=this.element.is("input"),null!=(t=this.element[0].disabled)&&(e.disabled=t),this.originalLabel=this.isInput?this.element.val():this.element.html(),this.originalLabel&&(e.label=this.originalLabel),e},_create:function(){!this.option.showLabel&!this.options.icon&&(this.options.showLabel=!0),null==this.options.disabled&&(this.options.disabled=this.element[0].disabled||!1),this.hasTitle=!!this.element.attr("title"),this.options.label&&this.options.label!==this.originalLabel&&(this.isInput?this.element.val(this.options.label):this.element.html(this.options.label)),this._addClass("ui-button","ui-widget"),this._setOption("disabled",this.options.disabled),this._enhance(),this.element.is("a")&&this._on({keyup:function(t){t.keyCode===x.ui.keyCode.SPACE&&(t.preventDefault(),this.element[0].click?this.element[0].click():this.element.trigger("click"))}})},_enhance:function(){this.element.is("button")||this.element.attr("role","button"),this.options.icon&&(this._updateIcon("icon",this.options.icon),this._updateTooltip())},_updateTooltip:function(){this.title=this.element.attr("title"),this.options.showLabel||this.title||this.element.attr("title",this.options.label)},_updateIcon:function(t,e){var n="iconPosition"!==t,i=n?this.options.iconPosition:e,t="top"===i||"bottom"===i;this.icon?n&&this._removeClass(this.icon,null,this.options.icon):(this.icon=x("<span>"),this._addClass(this.icon,"ui-button-icon","ui-icon"),this.options.showLabel||this._addClass("ui-button-icon-only")),n&&this._addClass(this.icon,null,e),this._attachIcon(i),t?(this._addClass(this.icon,null,"ui-widget-icon-block"),this.iconSpace&&this.iconSpace.remove()):(this.iconSpace||(this.iconSpace=x("<span> </span>"),this._addClass(this.iconSpace,"ui-button-icon-space")),this._removeClass(this.icon,null,"ui-wiget-icon-block"),this._attachIconSpace(i))},_destroy:function(){this.element.removeAttr("role"),this.icon&&this.icon.remove(),this.iconSpace&&this.iconSpace.remove(),this.hasTitle||this.element.removeAttr("title")},_attachIconSpace:function(t){this.icon[/^(?:end|bottom)/.test(t)?"before":"after"](this.iconSpace)},_attachIcon:function(t){this.element[/^(?:end|bottom)/.test(t)?"append":"prepend"](this.icon)},_setOptions:function(t){var e=(void 0===t.showLabel?this.options:t).showLabel,n=(void 0===t.icon?this.options:t).icon;e||n||(t.showLabel=!0),this._super(t)},_setOption:function(t,e){"icon"===t&&(e?this._updateIcon(t,e):this.icon&&(this.icon.remove(),this.iconSpace)&&this.iconSpace.remove()),"iconPosition"===t&&this._updateIcon(t,e),"showLabel"===t&&(this._toggleClass("ui-button-icon-only",null,!e),this._updateTooltip()),"label"===t&&(this.isInput?this.element.val(e):(this.element.html(e),this.icon&&(this._attachIcon(this.options.iconPosition),this._attachIconSpace(this.options.iconPosition)))),this._super(t,e),"disabled"===t&&(this._toggleClass(null,"ui-state-disabled",e),this.element[0].disabled=e)&&this.element.trigger("blur")},refresh:function(){var t=this.element.is("input, button")?this.element[0].disabled:this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOptions({disabled:t}),this._updateTooltip()}}),!1!==x.uiBackCompat&&(x.widget("ui.button",x.ui.button,{options:{text:!0,icons:{primary:null,secondary:null}},_create:function(){this.options.showLabel&&!this.options.text&&(this.options.showLabel=this.options.text),!this.options.showLabel&&this.options.text&&(this.options.text=this.options.showLabel),this.options.icon||!this.options.icons.primary&&!this.options.icons.secondary?this.options.icon&&(this.options.icons.primary=this.options.icon):this.options.icons.primary?this.options.icon=this.options.icons.primary:(this.options.icon=this.options.icons.secondary,this.options.iconPosition="end"),this._super()},_setOption:function(t,e){"text"!==t?("showLabel"===t&&(this.options.text=e),"icon"===t&&(this.options.icons.primary=e),"icons"===t&&(e.primary?(this._super("icon",e.primary),this._super("iconPosition","beginning")):e.secondary&&(this._super("icon",e.secondary),this._super("iconPosition","end"))),this._superApply(arguments)):this._super("showLabel",e)}}),x.fn.button=(m=x.fn.button,function(n){var t="string"==typeof n,i=Array.prototype.slice.call(arguments,1),o=this;return t?this.length||"instance"!==n?this.each(function(){var t=x(this).attr("type"),e=x.data(this,"ui-"+("checkbox"!==t&&"radio"!==t?"button":"checkboxradio"));return"instance"===n?(o=e,!1):e?"function"!=typeof e[n]||"_"===n.charAt(0)?x.error("no such method '"+n+"' for button widget instance"):(t=e[n].apply(e,i))!==e&&void 0!==t?(o=t&&t.jquery?o.pushStack(t.get()):t,!1):void 0:x.error("cannot call methods on button prior to initialization; attempted to call method '"+n+"'")}):o=void 0:(i.length&&(n=x.widget.extend.apply(null,[n].concat(i))),this.each(function(){var t=x(this).attr("type"),e="checkbox"!==t&&"radio"!==t?"button":"checkboxradio";(t=x.data(this,"ui-"+e))?(t.option(n||{}),t._init&&t._init()):"button"!=e?x(this).checkboxradio(x.extend({icon:!1},n)):m.call(x(this),n)})),o}),x.fn.buttonset=function(){return x.ui.controlgroup||x.error("Controlgroup widget missing"),"option"===arguments[0]&&"items"===arguments[1]&&arguments[2]?this.controlgroup.apply(this,[arguments[0],"items.button",arguments[2]]):"option"===arguments[0]&&"items"===arguments[1]?this.controlgroup.apply(this,[arguments[0],"items.button"]):("object"==typeof arguments[0]&&arguments[0].items&&(arguments[0].items={button:arguments[0].items}),this.controlgroup.apply(this,arguments))}),x.ui.button,x.widget("ui.progressbar",{version:"1.13.1",options:{classes:{"ui-progressbar":"ui-corner-all","ui-progressbar-value":"ui-corner-left","ui-progressbar-complete":"ui-corner-right"},max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.attr({role:"progressbar","aria-valuemin":this.min}),this._addClass("ui-progressbar","ui-widget ui-widget-content"),this.valueDiv=x("<div>").appendTo(this.element),this._addClass(this.valueDiv,"ui-progressbar-value","ui-widget-header"),this._refreshValue()},_destroy:function(){this.element.removeAttr("role aria-valuemin aria-valuemax aria-valuenow"),this.valueDiv.remove()},value:function(t){if(void 0===t)return this.options.value;this.options.value=this._constrainedValue(t),this._refreshValue()},_constrainedValue:function(t){return void 0===t&&(t=this.options.value),this.indeterminate=!1===t,"number"!=typeof t&&(t=0),!this.indeterminate&&Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_setOptionDisabled:function(t){this._super(t),this.element.attr("aria-disabled",t),this._toggleClass(null,"ui-state-disabled",!!t)},_percentage:function(){return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var t=this.options.value,e=this._percentage();this.valueDiv.toggle(this.indeterminate||t>this.min).width(e.toFixed(0)+"%"),this._toggleClass(this.valueDiv,"ui-progressbar-complete",null,t===this.options.max)._toggleClass("ui-progressbar-indeterminate",null,this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=x("<div>").appendTo(this.valueDiv),this._addClass(this.overlayDiv,"ui-progressbar-overlay"))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":t}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==t&&(this.oldValue=t,this._trigger("change")),t===this.options.max&&this._trigger("complete")}})}),
/* @preserve
 * Leaflet 1.7.1, a JS library for interactive maps. http://leafletjs.com
 * (c) 2010-2019 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.L={})}(this,function(t){"use strict";function l(t){for(var e,n,i=1,o=arguments.length;i<o;i++)for(e in n=arguments[i])t[e]=n[e];return t}var I=Object.create||function(t){return R.prototype=t,new R};function R(){}function E(t,e){var n,i=Array.prototype.slice;return t.bind?t.bind.apply(t,i.call(arguments,1)):(n=i.call(arguments,2),function(){return t.apply(e,n.length?n.concat(i.call(arguments)):arguments)})}var B=0;function A(t){return t._leaflet_id=t._leaflet_id||++B,t._leaflet_id}function H(t,e,n){function i(){o=!1,r&&(s.apply(n,r),r=!1)}var o,r,s=function(){o?r=arguments:(t.apply(n,arguments),setTimeout(i,e),o=!0)};return s}function F(t,e,n){var i=e[1],e=e[0],o=i-e;return t===i&&n?t:((t-e)%o+o)%o+e}function a(){return!1}function n(t,e){e=Math.pow(10,void 0===e?6:e);return Math.round(t*e)/e}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return W(t).split(/\s+/)}function r(t,e){for(var n in Object.prototype.hasOwnProperty.call(t,"options")||(t.options=t.options?I(t.options):{}),e)t.options[n]=e[n];return t.options}function U(t,e,n){var i,o=[];for(i in t)o.push(encodeURIComponent(n?i.toUpperCase():i)+"="+encodeURIComponent(t[i]));return(e&&-1!==e.indexOf("?")?"&":"?")+o.join("&")}var Z=/\{ *([\w_-]+) *\}/g;function q(t,n){return t.replace(Z,function(t,e){e=n[e];if(void 0===e)throw new Error("No value provided for variable "+t);return e="function"==typeof e?e(n):e})}var u=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)};function $(t,e){for(var n=0;n<t.length;n++)if(t[n]===e)return n;return-1}var G="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function Y(t){return window["webkit"+t]||window["moz"+t]||window["ms"+t]}var X=0;function K(t){var e=+new Date,n=Math.max(0,16-(e-X));return X=e+n,window.setTimeout(t,n)}var J=window.requestAnimationFrame||Y("RequestAnimationFrame")||K,Q=window.cancelAnimationFrame||Y("CancelAnimationFrame")||Y("CancelRequestAnimationFrame")||function(t){window.clearTimeout(t)};function _(t,e,n){if(!n||J!==K)return J.call(window,E(t,e));t.call(e)}function s(t){t&&Q.call(window,t)}var tt={extend:l,create:I,bind:E,lastId:B,stamp:A,throttle:H,wrapNum:F,falseFn:a,formatNum:n,trim:W,splitWords:V,setOptions:r,getParamString:U,template:q,isArray:u,indexOf:$,emptyImageUrl:G,requestFn:J,cancelFn:Q,requestAnimFrame:_,cancelAnimFrame:s};function et(){}et.extend=function(t){function e(){this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()}var n,i=e.__super__=this.prototype,o=I(i);for(n in(o.constructor=e).prototype=o,this)Object.prototype.hasOwnProperty.call(this,n)&&"prototype"!==n&&"__super__"!==n&&(e[n]=this[n]);if(t.statics&&(l(e,t.statics),delete t.statics),t.includes){var r=t.includes;if("undefined"!=typeof L&&L&&L.Mixin){r=u(r)?r:[r];for(var s=0;s<r.length;s++)r[s]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",(new Error).stack)}l.apply(null,[o].concat(t.includes)),delete t.includes}return o.options&&(t.options=l(I(o.options),t.options)),l(o,t),o._initHooks=[],o.callInitHooks=function(){if(!this._initHooksCalled){i.callInitHooks&&i.callInitHooks.call(this),this._initHooksCalled=!0;for(var t=0,e=o._initHooks.length;t<e;t++)o._initHooks[t].call(this)}},e},et.include=function(t){return l(this.prototype,t),this},et.mergeOptions=function(t){return l(this.prototype.options,t),this},et.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),n="function"==typeof t?t:function(){this[t].apply(this,e)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(n),this};var e={on:function(t,e,n){if("object"==typeof t)for(var i in t)this._on(i,t[i],e);else for(var o=0,r=(t=V(t)).length;o<r;o++)this._on(t[o],e,n);return this},off:function(t,e,n){if(t)if("object"==typeof t)for(var i in t)this._off(i,t[i],e);else for(var o=0,r=(t=V(t)).length;o<r;o++)this._off(t[o],e,n);else delete this._events;return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];i||(this._events[t]=i=[]);for(var t={fn:e,ctx:n=n===this?void 0:n},o=i,r=0,s=o.length;r<s;r++)if(o[r].fn===e&&o[r].ctx===n)return;o.push(t)},_off:function(t,e,n){var i,o,r;if(this._events&&(i=this._events[t]))if(e){if(n===this&&(n=void 0),i)for(o=0,r=i.length;o<r;o++){var s=i[o];if(s.ctx===n&&s.fn===e)return s.fn=a,this._firingCount&&(this._events[t]=i=i.slice()),void i.splice(o,1)}}else{for(o=0,r=i.length;o<r;o++)i[o].fn=a;delete this._events[t]}},fire:function(t,e,n){if(this.listens(t,n)){var i=l({},e,{type:t,target:this,sourceTarget:e&&e.sourceTarget||this});if(this._events){var o=this._events[t];if(o){this._firingCount=this._firingCount+1||1;for(var r=0,s=o.length;r<s;r++){var a=o[r];a.fn.call(a.ctx||this,i)}this._firingCount--}}n&&this._propagateEvent(i)}return this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length)return!0;if(e)for(var i in this._eventParents)if(this._eventParents[i].listens(t,e))return!0;return!1},once:function(t,e,n){if("object"==typeof t){for(var i in t)this.once(i,t[i],e);return this}var o=E(function(){this.off(t,e,n).off(t,o,n)},this);return this.on(t,e,n).on(t,o,n)},addEventParent:function(t){return this._eventParents=this._eventParents||{},this._eventParents[A(t)]=t,this},removeEventParent:function(t){return this._eventParents&&delete this._eventParents[A(t)],this},_propagateEvent:function(t){for(var e in this._eventParents)this._eventParents[e].fire(t.type,l({layer:t.target,propagatedFrom:t.target},t),!0)}},nt=(e.addEventListener=e.on,e.removeEventListener=e.clearAllEventListeners=e.off,e.addOneTimeEventListener=e.once,e.fireEvent=e.fire,e.hasEventListeners=e.listens,et.extend(e));function f(t,e,n){this.x=n?Math.round(t):t,this.y=n?Math.round(e):e}var it=Math.trunc||function(t){return 0<t?Math.floor(t):Math.ceil(t)};function c(t,e,n){return t instanceof f?t:u(t)?new f(t[0],t[1]):null==t?t:"object"==typeof t&&"x"in t&&"y"in t?new f(t.x,t.y):new f(t,e,n)}function m(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function h(t,e){return!t||t instanceof m?t:new m(t,e)}function d(t,e){if(t)for(var n=e?[t,e]:t,i=0,o=n.length;i<o;i++)this.extend(n[i])}function p(t,e){return t instanceof d?t:new d(t,e)}function g(t,e,n){if(isNaN(t)||isNaN(e))throw new Error("Invalid LatLng object: ("+t+", "+e+")");this.lat=+t,this.lng=+e,void 0!==n&&(this.alt=+n)}function b(t,e,n){return t instanceof g?t:u(t)&&"object"!=typeof t[0]?3===t.length?new g(t[0],t[1],t[2]):2===t.length?new g(t[0],t[1]):null:null==t?t:"object"==typeof t&&"lat"in t?new g(t.lat,"lng"in t?t.lng:t.lon,t.alt):void 0===e?null:new g(t,e,n)}f.prototype={clone:function(){return new f(this.x,this.y)},add:function(t){return this.clone()._add(c(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(c(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},scaleBy:function(t){return new f(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new f(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=it(this.x),this.y=it(this.y),this},distanceTo:function(t){var e=(t=c(t)).x-this.x,t=t.y-this.y;return Math.sqrt(e*e+t*t)},equals:function(t){return(t=c(t)).x===this.x&&t.y===this.y},contains:function(t){return t=c(t),Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+n(this.x)+", "+n(this.y)+")"}},m.prototype={extend:function(t){return t=c(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new f((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new f(this.min.x,this.max.y)},getTopRight:function(){return new f(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;return(t=("number"==typeof t[0]||t instanceof f?c:h)(t))instanceof m?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=h(t);var e=this.min,n=this.max,i=t.min,t=t.max,o=t.x>=e.x&&i.x<=n.x,t=t.y>=e.y&&i.y<=n.y;return o&&t},overlaps:function(t){t=h(t);var e=this.min,n=this.max,i=t.min,t=t.max,o=t.x>e.x&&i.x<n.x,t=t.y>e.y&&i.y<n.y;return o&&t},isValid:function(){return!(!this.min||!this.max)}},d.prototype={extend:function(t){var e,n,i=this._southWest,o=this._northEast;if(t instanceof g)n=e=t;else{if(!(t instanceof d))return t?this.extend(b(t)||p(t)):this;if(e=t._southWest,n=t._northEast,!e||!n)return this}return i||o?(i.lat=Math.min(e.lat,i.lat),i.lng=Math.min(e.lng,i.lng),o.lat=Math.max(n.lat,o.lat),o.lng=Math.max(n.lng,o.lng)):(this._southWest=new g(e.lat,e.lng),this._northEast=new g(n.lat,n.lng)),this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,t=Math.abs(e.lng-n.lng)*t;return new d(new g(e.lat-i,e.lng-t),new g(n.lat+i,n.lng+t))},getCenter:function(){return new g((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new g(this.getNorth(),this.getWest())},getSouthEast:function(){return new g(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){t=("number"==typeof t[0]||t instanceof g||"lat"in t?b:p)(t);var e,n,i=this._southWest,o=this._northEast;return t instanceof d?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=i.lat&&n.lat<=o.lat&&e.lng>=i.lng&&n.lng<=o.lng},intersects:function(t){t=p(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),t=t.getNorthEast(),o=t.lat>=e.lat&&i.lat<=n.lat,t=t.lng>=e.lng&&i.lng<=n.lng;return o&&t},overlaps:function(t){t=p(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),t=t.getNorthEast(),o=t.lat>e.lat&&i.lat<n.lat,t=t.lng>e.lng&&i.lng<n.lng;return o&&t},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t,e){return!!t&&(t=p(t),this._southWest.equals(t.getSouthWest(),e))&&this._northEast.equals(t.getNorthEast(),e)},isValid:function(){return!(!this._southWest||!this._northEast)}};var ot={latLngToPoint:function(t,e){t=this.projection.project(t),e=this.scale(e);return this.transformation._transform(t,e)},pointToLatLng:function(t,e){e=this.scale(e),t=this.transformation.untransform(t,e);return this.projection.unproject(t)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){var e;return this.infinite?null:(e=this.projection.bounds,t=this.scale(t),new m(this.transformation.transform(e.min,t),this.transformation.transform(e.max,t)))},infinite:!(g.prototype={equals:function(t,e){return!!t&&(t=b(t),Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng))<=(void 0===e?1e-9:e))},toString:function(t){return"LatLng("+n(this.lat,t)+", "+n(this.lng,t)+")"},distanceTo:function(t){return rt.distance(this,b(t))},wrap:function(){return rt.wrapLatLng(this)},toBounds:function(t){var t=180*t/40075017,e=t/Math.cos(Math.PI/180*this.lat);return p([this.lat-t,this.lng-e],[this.lat+t,this.lng+e])},clone:function(){return new g(this.lat,this.lng,this.alt)}}),wrapLatLng:function(t){var e=this.wrapLng?F(t.lng,this.wrapLng,!0):t.lng;return new g(this.wrapLat?F(t.lat,this.wrapLat,!0):t.lat,e,t.alt)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,e=e.lng-n.lng;return 0==i&&0==e?t:(n=t.getSouthWest(),t=t.getNorthEast(),new d(new g(n.lat-i,n.lng-e),new g(t.lat-i,t.lng-e)))}},rt=l({},ot,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,o=e.lat*n,r=Math.sin((e.lat-t.lat)*n/2),e=Math.sin((e.lng-t.lng)*n/2),t=r*r+Math.cos(i)*Math.cos(o)*e*e,n=2*Math.atan2(Math.sqrt(t),Math.sqrt(1-t));return this.R*n}}),st={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,n=Math.max(Math.min(n,t.lat),-n),n=Math.sin(n*e);return new f(this.R*t.lng*e,this.R*Math.log((1+n)/(1-n))/2)},unproject:function(t){var e=180/Math.PI;return new g((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:new m([-(st=6378137*Math.PI),-st],[st,st])};function at(t,e,n,i){u(t)?(this._a=t[0],this._b=t[1],this._c=t[2],this._d=t[3]):(this._a=t,this._b=e,this._c=n,this._d=i)}function lt(t,e,n,i){return new at(t,e,n,i)}at.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return t.x=(e=e||1)*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return new f((t.x/(e=e||1)-this._b)/this._a,(t.y/e-this._d)/this._c)}};var ut=l({},rt,{code:"EPSG:3857",projection:st,transformation:lt(ut=.5/(Math.PI*st.R),.5,-ut,.5)}),ct=l({},ut,{code:"EPSG:900913"});function ht(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function dt(t,e){for(var n,i,o,r,s="",a=0,l=t.length;a<l;a++){for(n=0,i=(o=t[a]).length;n<i;n++)s+=(n?"L":"M")+(r=o[n]).x+" "+r.y;s+=e?Rt?"z":"x":""}return s||"M0 0"}var pt=document.documentElement.style,ft="ActiveXObject"in window,mt=ft&&!document.addEventListener,gt="msLaunchUri"in navigator&&!("documentMode"in document),vt=Ht("webkit"),yt=Ht("android"),_t=Ht("android 2")||Ht("android 3"),bt=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),wt=yt&&Ht("Google")&&bt<537&&!("AudioNode"in window),bt=!!window.opera,xt=!gt&&Ht("chrome"),St=Ht("gecko")&&!vt&&!bt&&!ft,Ct=!xt&&Ht("safari"),i=Ht("phantom"),Et="OTransition"in pt,At=0===navigator.platform.indexOf("Win"),Tt=ft&&"transition"in pt,Pt="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!_t,pt="MozPerspective"in pt,w=!window.L_DISABLE_3D&&(Tt||Pt||pt)&&!Et&&!i,Ot="undefined"!=typeof orientation||Ht("mobile"),kt=Ot&&vt,Lt=Ot&&Pt,o=!window.PointerEvent&&window.MSPointerEvent,T=!(!window.PointerEvent&&!o),Mt=!window.L_NO_TOUCH&&(T||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),Dt=Ot&&bt,Nt=Ot&&St,zt=1<(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI),jt=function(){var t=!1;try{var e=Object.defineProperty({},"passive",{get:function(){t=!0}});window.addEventListener("testPassiveEventSupport",a,e),window.removeEventListener("testPassiveEventSupport",a,e)}catch(t){}return t}(),It=!!document.createElement("canvas").getContext,Rt=!(!document.createElementNS||!ht("svg").createSVGRect),Bt=!Rt&&function(){try{var t=document.createElement("div"),e=(t.innerHTML='<v:shape adj="1"/>',t.firstChild);return e.style.behavior="url(#default#VML)",e&&"object"==typeof e.adj}catch(t){return!1}}();function Ht(t){return 0<=navigator.userAgent.toLowerCase().indexOf(t)}var ft={ie:ft,ielt9:mt,edge:gt,webkit:vt,android:yt,android23:_t,androidStock:wt,opera:bt,chrome:xt,gecko:St,safari:Ct,phantom:i,opera12:Et,win:At,ie3d:Tt,webkit3d:Pt,gecko3d:pt,any3d:w,mobile:Ot,mobileWebkit:kt,mobileWebkit3d:Lt,msPointer:o,pointer:T,touch:Mt,mobileOpera:Dt,mobileGecko:Nt,retina:zt,passiveEvents:jt,canvas:It,svg:Rt,vml:Bt},Ft=o?"MSPointerDown":"pointerdown",Wt=o?"MSPointerMove":"pointermove",Vt=o?"MSPointerUp":"pointerup",Ut=o?"MSPointerCancel":"pointercancel",Zt={},qt=!1;function $t(t){Zt[t.pointerId]=t}function Gt(t){Zt[t.pointerId]&&(Zt[t.pointerId]=t)}function Yt(t){delete Zt[t.pointerId]}function Xt(t,e){for(var n in t.touches=[],Zt)t.touches.push(Zt[n]);t.changedTouches=[t],e(t)}var Kt,Jt,Qt,te,ee,ne=o?"MSPointerDown":T?"pointerdown":"touchstart",ie=o?"MSPointerUp":T?"pointerup":"touchend",oe="_leaflet_",re=ge(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),se=ge(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),ae="webkitTransition"===se||"OTransition"===se?se+"End":"transitionend";function le(t){return"string"==typeof t?document.getElementById(t):t}function ue(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];return"auto"===(n=n&&"auto"!==n||!document.defaultView?n:(t=document.defaultView.getComputedStyle(t,null))?t[e]:null)?null:n}function v(t,e,n){t=document.createElement(t);return t.className=e||"",n&&n.appendChild(t),t}function y(t){var e=t.parentNode;e&&e.removeChild(t)}function ce(t){for(;t.firstChild;)t.removeChild(t.firstChild)}function he(t){var e=t.parentNode;e&&e.lastChild!==t&&e.appendChild(t)}function de(t){var e=t.parentNode;e&&e.firstChild!==t&&e.insertBefore(t,e.firstChild)}function pe(t,e){return void 0!==t.classList?t.classList.contains(e):0<(t=me(t)).length&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(t)}function x(t,e){var n;if(void 0!==t.classList)for(var i=V(e),o=0,r=i.length;o<r;o++)t.classList.add(i[o]);else pe(t,e)||fe(t,((n=me(t))?n+" ":"")+e)}function S(t,e){void 0!==t.classList?t.classList.remove(e):fe(t,W((" "+me(t)+" ").replace(" "+e+" "," ")))}function fe(t,e){void 0===t.className.baseVal?t.className=e:t.className.baseVal=e}function me(t){return void 0===(t=t.correspondingElement?t.correspondingElement:t).className.baseVal?t.className:t.className.baseVal}function C(t,e){if("opacity"in t.style)t.style.opacity=e;else if("filter"in t.style){var n=t,t=e,e=!1,i="DXImageTransform.Microsoft.Alpha";try{e=n.filters.item(i)}catch(n){if(1===t)return}t=Math.round(100*t),e?(e.Enabled=100!==t,e.Opacity=t):n.style.filter+=" progid:"+i+"(opacity="+t+")"}}function ge(t){for(var e=document.documentElement.style,n=0;n<t.length;n++)if(t[n]in e)return t[n];return!1}function ve(t,e,n){e=e||new f(0,0);t.style[re]=(Tt?"translate("+e.x+"px,"+e.y+"px)":"translate3d("+e.x+"px,"+e.y+"px,0)")+(n?" scale("+n+")":"")}function P(t,e){t._leaflet_pos=e,w?ve(t,e):(t.style.left=e.x+"px",t.style.top=e.y+"px")}function ye(t){return t._leaflet_pos||new f(0,0)}function _e(){O(window,"dragstart",D)}function be(){M(window,"dragstart",D)}function we(t){for(;-1===t.tabIndex;)t=t.parentNode;t.style&&(xe(),ee=(te=t).style.outline,t.style.outline="none",O(window,"keydown",xe))}function xe(){te&&(te.style.outline=ee,ee=te=void 0,M(window,"keydown",xe))}function Se(t){for(;!((t=t.parentNode).offsetWidth&&t.offsetHeight||t===document.body););return t}function Ce(t){var e=t.getBoundingClientRect();return{x:e.width/t.offsetWidth||1,y:e.height/t.offsetHeight||1,boundingClientRect:e}}var Ee="onselectstart"in document?(Qt=function(){O(window,"selectstart",D)},function(){M(window,"selectstart",D)}):(Jt=ge(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]),Qt=function(){var t;Jt&&(t=document.documentElement.style,Kt=t[Jt],t[Jt]="none")},function(){Jt&&(document.documentElement.style[Jt]=Kt,Kt=void 0)}),vt={TRANSFORM:re,TRANSITION:se,TRANSITION_END:ae,get:le,getStyle:ue,create:v,remove:y,empty:ce,toFront:he,toBack:de,hasClass:pe,addClass:x,removeClass:S,setClass:fe,getClass:me,setOpacity:C,testProp:ge,setTransform:ve,setPosition:P,getPosition:ye,disableTextSelection:Qt,enableTextSelection:Ee,disableImageDrag:_e,enableImageDrag:be,preventOutline:we,restoreOutline:xe,getSizedParentNode:Se,getScale:Ce};function O(t,e,n,i){if("object"==typeof e)for(var o in e)Pe(t,o,e[o],n);else for(var r=0,s=(e=V(e)).length;r<s;r++)Pe(t,e[r],n,i);return this}var k="_leaflet_events";function M(t,e,n,i){if("object"==typeof e)for(var o in e)Oe(t,o,e[o],n);else if(e)for(var r=0,s=(e=V(e)).length;r<s;r++)Oe(t,e[r],n,i);else{for(var a in t[k])Oe(t,a,t[k][a]);delete t[k]}return this}function Ae(){return T&&!gt&&!Ct}var Te={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Pe(e,t,n,i){var o,r,s,a,l,u,c,h,d,p,f,m,g,v,y,_,b=t+A(n)+(i?"_"+A(i):"");function w(t){if(T){if(!t.isPrimary)return;if("mouse"===t.pointerType)return}else if(1<t.touches.length)return;var e=Date.now(),n=e-(r||e);s=t.touches?t.touches[0]:t,a=0<n&&n<=250,r=e}function x(t){if(a&&!s.cancelBubble){if(T){if("mouse"===t.pointerType)return;var e,n,i={};for(n in s)e=s[n],i[n]=e&&e.bind?e.bind(s):e;s=i}s.type="dblclick",s.button=0,o(s),r=null}}function S(t){Xt(t,f)}function C(t){t.pointerType===(t.MSPOINTER_TYPE_MOUSE||"mouse")&&0===t.buttons||Xt(t,m)}e[k]&&e[k][b]||(u=l=function(t){return n.call(i||e,t||window.event)},T&&0===t.indexOf("touch")?(c=e,d=l,p=b,"touchstart"===(h=t)?(g=c,v=d,y=p,_=E(function(t){t.MSPOINTER_TYPE_TOUCH&&t.pointerType===t.MSPOINTER_TYPE_TOUCH&&D(t),Xt(t,v)}),g["_leaflet_touchstart"+y]=_,g.addEventListener(Ft,_,!1),qt||(document.addEventListener(Ft,$t,!0),document.addEventListener(Wt,Gt,!0),document.addEventListener(Vt,Yt,!0),document.addEventListener(Ut,Yt,!0),qt=!0)):"touchmove"===h?(m=d,c["_leaflet_touchmove"+p]=C,c.addEventListener(Wt,C,!1)):"touchend"===h&&(f=d,(y=c)["_leaflet_touchend"+p]=S,y.addEventListener(Vt,S,!1),y.addEventListener(Ut,S,!1))):Mt&&"dblclick"===t&&!Ae()?(o=l,a=!1,(g=e)[oe+ne+(_=b)]=w,g[oe+ie+_]=x,g[oe+"dblclick"+_]=o,g.addEventListener(ne,w,!!jt&&{passive:!1}),g.addEventListener(ie,x,!!jt&&{passive:!1}),g.addEventListener("dblclick",o,!1)):"addEventListener"in e?"touchstart"===t||"touchmove"===t||"wheel"===t||"mousewheel"===t?e.addEventListener(Te[t]||t,l,!!jt&&{passive:!1}):"mouseenter"===t||"mouseleave"===t?e.addEventListener(Te[t],l=function(t){t=t||window.event,He(e,t)&&u(t)},!1):e.addEventListener(t,u,!1):"attachEvent"in e&&e.attachEvent("on"+t,l),e[k]=e[k]||{},e[k][b]=l)}function Oe(t,e,n,i){var o,r,s,a,n=e+A(n)+(i?"_"+A(i):""),i=t[k]&&t[k][n];i&&(T&&0===e.indexOf("touch")?(a=(r=t)["_leaflet_"+(s=e)+n],"touchstart"===s?r.removeEventListener(Ft,a,!1):"touchmove"===s?r.removeEventListener(Wt,a,!1):"touchend"===s&&(r.removeEventListener(Vt,a,!1),r.removeEventListener(Ut,a,!1))):Mt&&"dblclick"===e&&!Ae()?(a=(s=t)[oe+ne+(r=n)],o=s[oe+ie+r],r=s[oe+"dblclick"+r],s.removeEventListener(ne,a,!!jt&&{passive:!1}),s.removeEventListener(ie,o,!!jt&&{passive:!1}),s.removeEventListener("dblclick",r,!1)):"removeEventListener"in t?t.removeEventListener(Te[e]||e,i,!1):"detachEvent"in t&&t.detachEvent("on"+e,i),t[k][n]=null)}function ke(t){return t.stopPropagation?t.stopPropagation():t.originalEvent?t.originalEvent._stopped=!0:t.cancelBubble=!0,Be(t),this}function Le(t){return Pe(t,"wheel",ke),this}function Me(t){return O(t,"mousedown touchstart dblclick",ke),Pe(t,"click",Re),this}function D(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this}function De(t){return D(t),ke(t),this}function Ne(t,e){var n,i;return e?(i=(n=Ce(e)).boundingClientRect,new f((t.clientX-i.left)/n.x-e.clientLeft,(t.clientY-i.top)/n.y-e.clientTop)):new f(t.clientX,t.clientY)}var ze=At&&xt?2*window.devicePixelRatio:St?window.devicePixelRatio:1;function je(t){return gt?t.wheelDeltaY/2:t.deltaY&&0===t.deltaMode?-t.deltaY/ze:t.deltaY&&1===t.deltaMode?20*-t.deltaY:t.deltaY&&2===t.deltaMode?60*-t.deltaY:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?20*-t.detail:t.detail?t.detail/-32765*60:0}var Ie={};function Re(t){Ie[t.type]=!0}function Be(t){var e=Ie[t.type];return Ie[t.type]=!1,e}function He(t,e){var n=e.relatedTarget;if(!n)return!0;try{for(;n&&n!==t;)n=n.parentNode}catch(t){return!1}return n!==t}var bt={on:O,off:M,stopPropagation:ke,disableScrollPropagation:Le,disableClickPropagation:Me,preventDefault:D,stop:De,getMousePosition:Ne,getWheelDelta:je,fakeStop:Re,skipped:Be,isExternalTarget:He,addListener:O,removeListener:M},Fe=nt.extend({run:function(t,e,n,i){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(i||.5,.2),this._startPos=ye(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=_(this._animate,this),this._step()},_step:function(t){var e=new Date-this._startTime,n=1e3*this._duration;e<n?this._runFrame(this._easeOut(e/n),t):(this._runFrame(1),this._complete())},_runFrame:function(t,e){t=this._startPos.add(this._offset.multiplyBy(t));e&&t._round(),P(this._el,t),this.fire("step")},_complete:function(){s(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),N=nt.extend({options:{crs:ut,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(t,e){e=r(this,e),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(t),this._initLayout(),this._onResize=E(this._onResize,this),this._initEvents(),e.maxBounds&&this.setMaxBounds(e.maxBounds),void 0!==e.zoom&&(this._zoom=this._limitZoom(e.zoom)),e.center&&void 0!==e.zoom&&this.setView(b(e.center),e.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=se&&w&&!Dt&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),O(this._proxy,ae,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(t,e,n){return(e=void 0===e?this._zoom:this._limitZoom(e),t=this._limitCenter(b(t),e,this.options.maxBounds),n=n||{},this._stop(),this._loaded&&!n.reset&&!0!==n&&(void 0!==n.animate&&(n.zoom=l({animate:n.animate},n.zoom),n.pan=l({animate:n.animate,duration:n.duration},n.pan)),this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan)))?clearTimeout(this._sizeTimer):this._resetView(t,e),this},setZoom:function(t,e){return this._loaded?this.setView(this.getCenter(),t,{zoom:e}):(this._zoom=t,this)},zoomIn:function(t,e){return t=t||(w?this.options.zoomDelta:1),this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){return t=t||(w?this.options.zoomDelta:1),this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),o=this.getSize().divideBy(2),t=(t instanceof f?t:this.latLngToContainerPoint(t)).subtract(o).multiplyBy(1-1/i),i=this.containerPointToLatLng(o.add(t));return this.setView(i,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{},t=t.getBounds?t.getBounds():p(t);var n=c(e.paddingTopLeft||e.padding||[0,0]),i=c(e.paddingBottomRight||e.padding||[0,0]),o=this.getBoundsZoom(t,!1,n.add(i));return(o="number"==typeof e.maxZoom?Math.min(e.maxZoom,o):o)===1/0?{center:t.getCenter(),zoom:o}:(e=i.subtract(n).divideBy(2),i=this.project(t.getSouthWest(),o),n=this.project(t.getNorthEast(),o),{center:this.unproject(i.add(n).divideBy(2).add(e),o),zoom:o})},fitBounds:function(t,e){if((t=p(t)).isValid())return t=this._getBoundsCenterZoom(t,e),this.setView(t.center,t.zoom,e);throw new Error("Bounds are not valid.")},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){return e=e||{},(t=c(t).round()).x||t.y?(!0===e.animate||this.getSize().contains(t)?(this._panAnim||(this._panAnim=new Fe,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),e.noMoveStart||this.fire("movestart"),!1!==e.animate?(x(this._mapPane,"leaflet-pan-anim"),n=this._getMapPanePos().subtract(t).round(),this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)):(this._rawPanBy(t),this.fire("move").fire("moveend"))):this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom()),this):this.fire("moveend");var n},flyTo:function(i,o,t){if(!1===(t=t||{}).animate||!w)return this.setView(i,o,t);this._stop();var r=this.project(this.getCenter()),s=this.project(i),e=this.getSize(),a=this._zoom,l=(i=b(i),o=void 0===o?a:o,Math.max(e.x,e.y)),n=l*this.getZoomScale(a,o),u=s.distanceTo(r)||1,c=1.42,h=c*c;function d(t){t=(n*n-l*l+(t?-1:1)*h*h*u*u)/(2*(t?n:l)*h*u),t=Math.sqrt(t*t+1)-t;return t<1e-9?-18:Math.log(t)}function p(t){return(Math.exp(t)-Math.exp(-t))/2}function f(t){return(Math.exp(t)+Math.exp(-t))/2}var m=d(0);var g=Date.now(),v=(d(1)-m)/c,y=t.duration?1e3*t.duration:1e3*v*.8;return this._moveStart(!0,t.noMoveStart),function t(){var e=(Date.now()-g)/y,n=(1-Math.pow(1-e,1.5))*v;e<=1?(this._flyToFrame=_(t,this),this._move(this.unproject(r.add(s.subtract(r).multiplyBy((e=n,l*(f(m)*(p(e=m+c*e)/f(e))-p(m))/h/u))),a),this.getScaleZoom(l/(e=n,l*(f(m)/f(m+c*e))),a),{flyTo:!0})):this._move(i,o)._moveEnd(!0)}.call(this),this},flyToBounds:function(t,e){t=this._getBoundsCenterZoom(t,e);return this.flyTo(t.center,t.zoom,e)},setMaxBounds:function(t){return(t=p(t)).isValid()?(this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this.options.maxBounds=t,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this.off("moveend",this._panInsideMaxBounds))},setMinZoom:function(t){var e=this.options.minZoom;return this.options.minZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(t):this},setMaxZoom:function(t){var e=this.options.maxZoom;return this.options.maxZoom=t,this._loaded&&e!==t&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(t):this},panInsideBounds:function(t,e){this._enforcingBounds=!0;var n=this.getCenter(),t=this._limitCenter(n,this._zoom,p(t));return n.equals(t)||this.panTo(t,e),this._enforcingBounds=!1,this},panInside:function(t,e){var n,i,o=c((e=e||{}).paddingTopLeft||e.padding||[0,0]),r=c(e.paddingBottomRight||e.padding||[0,0]),s=this.getCenter(),s=this.project(s),t=this.project(t),a=this.getPixelBounds(),l=a.getSize().divideBy(2),a=h([a.min.add(o),a.max.subtract(r)]);return a.contains(t)||(this._enforcingBounds=!0,n=s.subtract(t),i=c(t.x+n.x,t.y+n.y),(t.x<a.min.x||t.x>a.max.x)&&(i.x=s.x-n.x,0<n.x?i.x+=l.x-o.x:i.x-=l.x-r.x),(t.y<a.min.y||t.y>a.max.y)&&(i.y=s.y-n.y,0<n.y?i.y+=l.y-o.y:i.y-=l.y-r.y),this.panTo(this.unproject(i),e),this._enforcingBounds=!1),this},invalidateSize:function(t){if(!this._loaded)return this;t=l({animate:!1,pan:!0},!0===t?{animate:!0}:t);var e=this.getSize(),n=(this._sizeChanged=!0,this._lastCenter=null,this.getSize()),i=e.divideBy(2).round(),o=n.divideBy(2).round(),i=i.subtract(o);return i.x||i.y?(t.animate&&t.pan?this.panBy(i):(t.pan&&this._rawPanBy(i),this.fire("move"),t.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(E(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:e,newSize:n})):this},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(t){var e,n;return(t=this._locateOptions=l({timeout:1e4,watch:!1},t),"geolocation"in navigator)?(e=E(this._handleGeolocationResponse,this),n=E(this._handleGeolocationError,this),t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t)):this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(t){var e=t.code,t=t.message||(1===e?"permission denied":2===e?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:e,message:"Geolocation error: "+t+"."})},_handleGeolocationResponse:function(t){var e,n,i=new g(t.coords.latitude,t.coords.longitude),o=i.toBounds(2*t.coords.accuracy),r=this._locateOptions,s=(r.setView&&(e=this.getBoundsZoom(o),this.setView(i,r.maxZoom?Math.min(e,r.maxZoom):e)),{latlng:i,bounds:o,timestamp:t.timestamp});for(n in t.coords)"number"==typeof t.coords[n]&&(s[n]=t.coords[n]);this.fire("locationfound",s)},addHandler:function(t,e){return e&&(e=this[t]=new e(this),this._handlers.push(e),this.options[t])&&e.enable(),this},remove:function(){if(this._initEvents(!0),this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch(t){this._container._leaflet_id=void 0,this._containerId=void 0}for(var t in void 0!==this._locationWatchId&&this.stopLocate(),this._stop(),y(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(s(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload"),this._layers)this._layers[t].remove();for(t in this._panes)y(this._panes[t]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(t,e){e=v("div","leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),e||this._mapPane);return t&&(this._panes[t]=e),e},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter:this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds();return new d(this.unproject(t.getBottomLeft()),this.unproject(t.getTopRight()))},getMinZoom:function(){return void 0===this.options.minZoom?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return void 0===this.options.maxZoom?void 0===this._layersMaxZoom?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=p(t),n=c(n||[0,0]);var i=this.getZoom()||0,o=this.getMinZoom(),r=this.getMaxZoom(),s=t.getNorthWest(),t=t.getSouthEast(),n=this.getSize().subtract(n),t=h(this.project(t,i),this.project(s,i)).getSize(),s=w?this.options.zoomSnap:1,a=n.x/t.x,n=n.y/t.y,t=e?Math.max(a,n):Math.min(a,n),i=this.getScaleZoom(t,i);return s&&(i=Math.round(i/(s/100))*(s/100),i=e?Math.ceil(i/s)*s:Math.floor(i/s)*s),Math.max(o,Math.min(r,i))},getSize:function(){return this._size&&!this._sizeChanged||(this._size=new f(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(t,e){t=this._getTopLeftPoint(t,e);return new m(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(void 0===t?this.getZoom():t)},getPane:function(t){return"string"==typeof t?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;return e=void 0===e?this._zoom:e,n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs,t=(e=void 0===e?this._zoom:e,n.zoom(t*n.scale(e)));return isNaN(t)?1/0:t},project:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.latLngToPoint(b(t),e)},unproject:function(t,e){return e=void 0===e?this._zoom:e,this.options.crs.pointToLatLng(c(t),e)},layerPointToLatLng:function(t){t=c(t).add(this.getPixelOrigin());return this.unproject(t)},latLngToLayerPoint:function(t){return this.project(b(t))._round()._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(b(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(p(t))},distance:function(t,e){return this.options.crs.distance(b(t),b(e))},containerPointToLayerPoint:function(t){return c(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return c(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){t=this.containerPointToLayerPoint(c(t));return this.layerPointToLatLng(t)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(b(t)))},mouseEventToContainerPoint:function(t){return Ne(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){t=this._container=le(t);if(!t)throw new Error("Map container not found.");if(t._leaflet_id)throw new Error("Map container is already initialized.");O(t,"scroll",this._onScroll,this),this._containerId=A(t)},_initLayout:function(){var t=this._container,e=(this._fadeAnimated=this.options.fadeAnimation&&w,x(t,"leaflet-container"+(Mt?" leaflet-touch":"")+(zt?" leaflet-retina":"")+(mt?" leaflet-oldie":"")+(Ct?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":"")),ue(t,"position"));"absolute"!==e&&"relative"!==e&&"fixed"!==e&&(t.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),P(this._mapPane,new f(0,0)),this.createPane("tilePane"),this.createPane("shadowPane"),this.createPane("overlayPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(x(t.markerPane,"leaflet-zoom-hide"),x(t.shadowPane,"leaflet-zoom-hide"))},_resetView:function(t,e){P(this._mapPane,new f(0,0));var n=!this._loaded,i=(this._loaded=!0,e=this._limitZoom(e),this.fire("viewprereset"),this._zoom!==e);this._moveStart(i,!1)._move(t,e)._moveEnd(i),this.fire("viewreset"),n&&this.fire("load")},_moveStart:function(t,e){return t&&this.fire("zoomstart"),e||this.fire("movestart"),this},_move:function(t,e,n){void 0===e&&(e=this._zoom);var i=this._zoom!==e;return this._zoom=e,this._lastCenter=t,this._pixelOrigin=this._getNewPixelOrigin(t),(i||n&&n.pinch)&&this.fire("zoom",n),this.fire("move",n)},_moveEnd:function(t){return t&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return s(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(t){P(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(t){this._targets={};var e=t?M:O;e((this._targets[A(this._container)]=this)._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&e(window,"resize",this._onResize,this),w&&this.options.transform3DLimit&&(t?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){s(this._resizeRequest),this._resizeRequest=_(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(t,e){for(var n,i=[],o="mouseout"===e||"mouseover"===e,r=t.target||t.srcElement,s=!1;r;){if((n=this._targets[A(r)])&&("click"===e||"preclick"===e)&&!t._simulated&&this._draggableMoved(n)){s=!0;break}if(n&&n.listens(e,!0)){if(o&&!He(r,t))break;if(i.push(n),o)break}if(r===this._container)break;r=r.parentNode}return i=i.length||s||o||!He(r,t)?i:[this]},_handleDOMEvent:function(t){var e;this._loaded&&!Be(t)&&("mousedown"!==(e=t.type)&&"keypress"!==e&&"keyup"!==e&&"keydown"!==e||we(t.target||t.srcElement),this._fireDOMEvent(t,e))},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(t,e,n){if("click"===t.type&&((i=l({},t)).type="preclick",this._fireDOMEvent(i,i.type,n)),!t._stopped&&(n=(n||[]).concat(this._findEventTargets(t,e))).length){var i=n[0];"contextmenu"===e&&i.listens(e,!0)&&D(t);var o,r={originalEvent:t};"keypress"!==t.type&&"keydown"!==t.type&&"keyup"!==t.type&&(o=i.getLatLng&&(!i._radius||i._radius<=10),r.containerPoint=o?this.latLngToContainerPoint(i.getLatLng()):this.mouseEventToContainerPoint(t),r.layerPoint=this.containerPointToLayerPoint(r.containerPoint),r.latlng=o?i.getLatLng():this.layerPointToLatLng(r.layerPoint));for(var s=0;s<n.length;s++)if(n[s].fire(e,r,!0),r.originalEvent._stopped||!1===n[s].options.bubblingMouseEvents&&-1!==$(this._mouseEvents,e))return}},_draggableMoved:function(t){return(t=t.dragging&&t.dragging.enabled()?t:this).dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++)this._handlers[t].disable()},whenReady:function(t,e){return this._loaded?t.call(e||this,{target:this}):this.on("load",t,e),this},_getMapPanePos:function(){return ye(this._mapPane)||new f(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){return(t&&void 0!==e?this._getNewPixelOrigin(t,e):this.getPixelOrigin()).subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){n=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(n)},_latLngBoundsToNewLayerBounds:function(t,e,n){n=this._getNewPixelOrigin(n,e);return h([this.project(t.getSouthWest(),e)._subtract(n),this.project(t.getNorthWest(),e)._subtract(n),this.project(t.getSouthEast(),e)._subtract(n),this.project(t.getNorthEast(),e)._subtract(n)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){var i,o;return!n||(i=this.project(t,e),o=this.getSize().divideBy(2),o=new m(i.subtract(o),i.add(o)),(o=this._getBoundsOffset(o,n,e)).round().equals([0,0]))?t:this.unproject(i.add(o),e)},_limitOffset:function(t,e){var n;return e?(n=new m((n=this.getPixelBounds()).min.add(t),n.max.add(t)),t.add(this._getBoundsOffset(n,e))):t},_getBoundsOffset:function(t,e,n){e=h(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),n=e.min.subtract(t.min),e=e.max.subtract(t.max);return new f(this._rebound(n.x,-e.x),this._rebound(n.y,-e.y))},_rebound:function(t,e){return 0<t+e?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=w?this.options.zoomSnap:1;return i&&(t=Math.round(t/i)*i),Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){S(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(t,e){t=this._getCenterOffset(t)._trunc();return!(!0!==(e&&e.animate)&&!this.getSize().contains(t)||(this.panBy(t,e),0))},_createAnimProxy:function(){var t=this._proxy=v("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t),this.on("zoomanim",function(t){var e=re,n=this._proxy.style[e];ve(this._proxy,this.project(t.center,t.zoom),this.getZoomScale(t.zoom,1)),n===this._proxy.style[e]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){y(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var t=this.getCenter(),e=this.getZoom();ve(this._proxy,this.project(t,e),this.getZoomScale(e,1))},_catchTransitionEnd:function(t){this._animatingZoom&&0<=t.propertyName.indexOf("transform")&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){var i;return!(!this._animatingZoom&&(n=n||{},!this._zoomAnimated||!1===n.animate||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold||(i=this.getZoomScale(e),i=this._getCenterOffset(t)._divideBy(1-1/i),!0!==n.animate&&!this.getSize().contains(i))||(_(function(){this._moveStart(!0,!1)._animateZoom(t,e,!0)},this),0)))},_animateZoom:function(t,e,n,i){this._mapPane&&(n&&(this._animatingZoom=!0,this._animateToCenter=t,this._animateToZoom=e,x(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:t,zoom:e,noUpdate:i}),setTimeout(E(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&S(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom),_(function(){this._moveEnd(!0)},this))}});function We(t){return new z(t)}var z=et.extend({options:{position:"topright"},initialize:function(t){r(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},getContainer:function(){return this._container},addTo:function(t){this.remove(),this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),t=t._controlCorners[n];return x(e,"leaflet-control"),-1!==n.indexOf("bottom")?t.insertBefore(e,t.firstChild):t.appendChild(e),this._map.on("unload",this.remove,this),this},remove:function(){return this._map&&(y(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null),this},_refocusOnMap:function(t){this._map&&t&&0<t.screenX&&0<t.screenY&&this._map.getContainer().focus()}}),Ve=(N.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.remove(),this},_initControlPos:function(){var n=this._controlCorners={},i="leaflet-",o=this._controlContainer=v("div",i+"control-container",this._container);function t(t,e){n[t+e]=v("div",i+t+" "+i+e,o)}t("top","left"),t("top","right"),t("bottom","left"),t("bottom","right")},_clearControlPos:function(){for(var t in this._controlCorners)y(this._controlCorners[t]);y(this._controlContainer),delete this._controlCorners,delete this._controlContainer}}),z.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){for(var i in r(this,n),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,t)this._addLayer(t[i],i);for(i in e)this._addLayer(e[i],i,!0)},onAdd:function(t){this._initLayout(),this._update(),(this._map=t).on("zoomend",this._checkDisabledLayers,this);for(var e=0;e<this._layers.length;e++)this._layers[e].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(t){return z.prototype.addTo.call(this,t),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++)this._layers[t].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(t,e){return this._addLayer(t,e),this._map?this._update():this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);t=this._getLayer(A(t));return t&&this._layers.splice(this._layers.indexOf(t),1),this._map?this._update():this},expand:function(){x(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);return t<this._section.clientHeight?(x(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=t+"px"):S(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return S(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=v("div",t),n=this.options.collapsed,i=(e.setAttribute("aria-haspopup",!0),Me(e),Le(e),this._section=v("section",t+"-list")),o=(n&&(this._map.on("click",this.collapse,this),yt||O(e,{mouseenter:this.expand,mouseleave:this.collapse},this)),this._layersLink=v("a",t+"-toggle",e));o.href="#",o.title="Layers",Mt?(O(o,"click",De),O(o,"click",this.expand,this)):O(o,"focus",this.expand,this),n||this.expand(),this._baseLayersList=v("div",t+"-base",i),this._separator=v("div",t+"-separator",i),this._overlaysList=v("div",t+"-overlays",i),e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++)if(this._layers[e]&&A(this._layers[e].layer)===t)return this._layers[e]},_addLayer:function(t,e,n){this._map&&t.on("add remove",this._onLayerChange,this),this._layers.push({layer:t,name:e,overlay:n}),this.options.sortLayers&&this._layers.sort(E(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this)),this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(this._container){ce(this._baseLayersList),ce(this._overlaysList),this._layerControlInputs=[];for(var t,e,n,i=0,o=0;o<this._layers.length;o++)n=this._layers[o],this._addItem(n),e=e||n.overlay,t=t||!n.overlay,i+=n.overlay?0:1;this.options.hideSingleBase&&(this._baseLayersList.style.display=(t=t&&1<i)?"":"none"),this._separator.style.display=e&&t?"":"none"}return this},_onLayerChange:function(t){this._handlingClick||this._update();var e=this._getLayer(A(t.target)),t=e.overlay?"add"===t.type?"overlayadd":"overlayremove":"add"===t.type?"baselayerchange":null;t&&this._map.fire(t,e)},_createRadioElement:function(t,e){t='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>",e=document.createElement("div");return e.innerHTML=t,e.firstChild},_addItem:function(t){var e,n=document.createElement("label"),i=this._map.hasLayer(t.layer),i=(t.overlay?((e=document.createElement("input")).type="checkbox",e.className="leaflet-control-layers-selector",e.defaultChecked=i):e=this._createRadioElement("leaflet-base-layers_"+A(this),i),this._layerControlInputs.push(e),e.layerId=A(t.layer),O(e,"click",this._onInputClick,this),document.createElement("span")),o=(i.innerHTML=" "+t.name,document.createElement("div"));return n.appendChild(o),o.appendChild(e),o.appendChild(i),(t.overlay?this._overlaysList:this._baseLayersList).appendChild(n),this._checkDisabledLayers(),n},_onInputClick:function(){var t,e,n=this._layerControlInputs,i=[],o=[];this._handlingClick=!0;for(var r=n.length-1;0<=r;r--)t=n[r],e=this._getLayer(t.layerId).layer,t.checked?i.push(e):t.checked||o.push(e);for(r=0;r<o.length;r++)this._map.hasLayer(o[r])&&this._map.removeLayer(o[r]);for(r=0;r<i.length;r++)this._map.hasLayer(i[r])||this._map.addLayer(i[r]);this._handlingClick=!1,this._refocusOnMap()},_checkDisabledLayers:function(){for(var t,e,n=this._layerControlInputs,i=this._map.getZoom(),o=n.length-1;0<=o;o--)t=n[o],e=this._getLayer(t.layerId).layer,t.disabled=void 0!==e.options.minZoom&&i<e.options.minZoom||void 0!==e.options.maxZoom&&i>e.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}})),Ue=z.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"&#x2212;",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=v("div",e+" leaflet-bar"),i=this.options;return this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn),this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut),this._updateDisabled(),t.on("zoomend zoomlevelschange",this._updateDisabled,this),n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(t){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))},_zoomOut:function(t){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))},_createButton:function(t,e,n,i,o){n=v("a",n,i);return n.innerHTML=t,n.href="#",n.title=e,n.setAttribute("role","button"),n.setAttribute("aria-label",e),Me(n),O(n,"click",De),O(n,"click",o,this),O(n,"click",this._refocusOnMap,this),n},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";S(this._zoomInButton,e),S(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMinZoom()||x(this._zoomOutButton,e),!this._disabled&&t._zoom!==t.getMaxZoom()||x(this._zoomInButton,e)}}),Ze=(N.mergeOptions({zoomControl:!0}),N.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new Ue,this.addControl(this.zoomControl))}),z.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(t){var e="leaflet-control-scale",n=v("div",e),i=this.options;return this._addScales(i,e+"-line",n),t.on(i.updateWhenIdle?"moveend":"move",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=v("div",e,n)),t.imperial&&(this._iScale=v("div",e,n))},_update:function(){var t=this._map,e=t.getSize().y/2,t=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(t)},_updateScales:function(t){this.options.metric&&t&&this._updateMetric(t),this.options.imperial&&t&&this._updateImperial(t)},_updateMetric:function(t){var e=this._getRoundNum(t);this._updateScale(this._mScale,e<1e3?e+" m":e/1e3+" km",e/t)},_updateImperial:function(t){var e,n,t=3.2808399*t;5280<t?(n=this._getRoundNum(e=t/5280),this._updateScale(this._iScale,n+" mi",n/e)):(n=this._getRoundNum(t),this._updateScale(this._iScale,n+" ft",n/t))},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px",t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),t=t/e;return e*(10<=t?10:5<=t?5:3<=t?3:2<=t?2:1)}})),qe=z.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){r(this,t),this._attributions={}},onAdd:function(t){for(var e in(t.attributionControl=this)._container=v("div","leaflet-control-attribution"),Me(this._container),t._layers)t._layers[e].getAttribution&&this.addAttribution(t._layers[e].getAttribution());return this._update(),this._container},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t&&(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update()),this},removeAttribution:function(t){return t&&this._attributions[t]&&(this._attributions[t]--,this._update()),this},_update:function(){if(this._map){var t,e=[];for(t in this._attributions)this._attributions[t]&&e.push(t);var n=[];this.options.prefix&&n.push(this.options.prefix),e.length&&n.push(e.join(", ")),this._container.innerHTML=n.join(" | ")}}}),i=(N.mergeOptions({attributionControl:!0}),N.addInitHook(function(){this.options.attributionControl&&(new qe).addTo(this)}),z.Layers=Ve,z.Zoom=Ue,z.Scale=Ze,z.Attribution=qe,We.layers=function(t,e,n){return new Ve(t,e,n)},We.zoom=function(t){return new Ue(t)},We.scale=function(t){return new Ze(t)},We.attribution=function(t){return new qe(t)},et.extend({initialize:function(t){this._map=t},enable:function(){return this._enabled||(this._enabled=!0,this.addHooks()),this},disable:function(){return this._enabled&&(this._enabled=!1,this.removeHooks()),this},enabled:function(){return!!this._enabled}}));i.addTo=function(t,e){return t.addHandler(e,this),this};var $e,Et={Events:e},Ge=Mt?"touchstart mousedown":"mousedown",Ye={mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},Xe={mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"},Ke=nt.extend({options:{clickTolerance:3},initialize:function(t,e,n,i){r(this,i),this._element=t,this._dragStartTarget=e||t,this._preventOutline=n},enable:function(){this._enabled||(O(this._dragStartTarget,Ge,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(Ke._dragging===this&&this.finishDrag(),M(this._dragStartTarget,Ge,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(t){var e,n;!t._simulated&&this._enabled&&(this._moved=!1,pe(this._element,"leaflet-zoom-anim")||Ke._dragging||t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||((Ke._dragging=this)._preventOutline&&we(this._element),_e(),Qt(),this._moving)||(this.fire("down"),e=t.touches?t.touches[0]:t,n=Se(this._element),this._startPoint=new f(e.clientX,e.clientY),this._parentScale=Ce(n),O(document,Xe[t.type],this._onMove,this),O(document,Ye[t.type],this._onUp,this)))},_onMove:function(t){var e;!t._simulated&&this._enabled&&(t.touches&&1<t.touches.length?this._moved=!0:!(e=new f((e=t.touches&&1===t.touches.length?t.touches[0]:t).clientX,e.clientY)._subtract(this._startPoint)).x&&!e.y||Math.abs(e.x)+Math.abs(e.y)<this.options.clickTolerance||(e.x/=this._parentScale.x,e.y/=this._parentScale.y,D(t),this._moved||(this.fire("dragstart"),this._moved=!0,this._startPos=ye(this._element).subtract(e),x(document.body,"leaflet-dragging"),this._lastTarget=t.target||t.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),x(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(e),this._moving=!0,s(this._animRequest),this._lastEvent=t,this._animRequest=_(this._updatePosition,this,!0)))},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t),P(this._element,this._newPos),this.fire("drag",t)},_onUp:function(t){!t._simulated&&this._enabled&&this.finishDrag()},finishDrag:function(){for(var t in S(document.body,"leaflet-dragging"),this._lastTarget&&(S(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Xe)M(document,Xe[t],this._onMove,this),M(document,Ye[t],this._onUp,this);be(),Ee(),this._moved&&this._moving&&(s(this._animRequest),this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})),this._moving=!1,Ke._dragging=!1}});function Je(t,e){if(e&&t.length){var e=e*e,n=t=function(t,e){for(var n,i,o,r=[t[0]],s=1,a=0,l=t.length;s<l;s++)n=t[s],i=t[a],o=void 0,o=i.x-n.x,i=i.y-n.y,e<o*o+i*i&&(r.push(t[s]),a=s);return a<l-1&&r.push(t[l-1]),r}(t,e),i=n.length,o=new(typeof Uint8Array!=void 0+""?Uint8Array:Array)(i);o[0]=o[i-1]=1,function t(e,n,i,o,r){for(var s,a,l=0,u=o+1;u<=r-1;u++)l<(a=on(e[u],e[o],e[r],!0))&&(s=u,l=a);i<l&&(n[s]=1,t(e,n,i,o,s),t(e,n,i,s,r))}(n,o,e,0,i-1);for(var r=[],s=0;s<i;s++)o[s]&&r.push(n[s]);return r}return t.slice()}function Qe(t,e,n){return Math.sqrt(on(t,e,n,!0))}function tn(t,e,n,i,o){var r,s,a,l=i?$e:nn(t,n),u=nn(e,n);for($e=u;;){if(!(l|u))return[t,e];if(l&u)return!1;a=nn(s=en(t,e,r=l||u,n,o),n),r===l?(t=s,l=a):(e=s,u=a)}}function en(t,e,n,i,o){var r,s,a=e.x-t.x,e=e.y-t.y,l=i.min,i=i.max;return 8&n?(r=t.x+a*(i.y-t.y)/e,s=i.y):4&n?(r=t.x+a*(l.y-t.y)/e,s=l.y):2&n?(r=i.x,s=t.y+e*(i.x-t.x)/a):1&n&&(r=l.x,s=t.y+e*(l.x-t.x)/a),new f(r,s,o)}function nn(t,e){var n=0;return t.x<e.min.x?n|=1:t.x>e.max.x&&(n|=2),t.y<e.min.y?n|=4:t.y>e.max.y&&(n|=8),n}function on(t,e,n,i){var o=e.x,e=e.y,r=n.x-o,s=n.y-e,a=r*r+s*s;return 0<a&&(1<(a=((t.x-o)*r+(t.y-e)*s)/a)?(o=n.x,e=n.y):0<a&&(o+=r*a,e+=s*a)),r=t.x-o,s=t.y-e,i?r*r+s*s:new f(o,e)}function rn(t){return!u(t[0])||"object"!=typeof t[0][0]&&void 0!==t[0][0]}function sn(t){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),rn(t)}Pt={simplify:Je,pointToSegmentDistance:Qe,closestPointOnSegment:function(t,e,n){return on(t,e,n)},clipSegment:tn,_getEdgeIntersection:en,_getBitCode:nn,_sqClosestPointOnSegment:on,isFlat:rn,_flat:sn};function an(t,e,n){for(var i,o,r,s,a,l,u,c=[1,4,2,8],h=0,d=t.length;h<d;h++)t[h]._code=nn(t[h],e);for(r=0;r<4;r++){for(l=c[r],i=[],h=0,o=(d=t.length)-1;h<d;o=h++)s=t[h],a=t[o],s._code&l?a._code&l||((u=en(a,s,l,e,n))._code=nn(u,e),i.push(u)):(a._code&l&&((u=en(a,s,l,e,n))._code=nn(u,e),i.push(u)),i.push(s));t=i}return t}var pt={clipPolygon:an},kt={project:function(t){return new f(t.lng,t.lat)},unproject:function(t){return new g(t.y,t.x)},bounds:new m([-180,-90],[180,90])},Lt={R:6378137,R_MINOR:6356752.314245179,bounds:new m([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,o=this.R_MINOR/n,o=Math.sqrt(1-o*o),r=o*Math.sin(i),r=Math.tan(Math.PI/4-i/2)/Math.pow((1-r)/(1+r),o/2),i=-n*Math.log(Math.max(r,1e-10));return new f(t.lng*e*n,i)},unproject:function(t){for(var e,n=180/Math.PI,i=this.R,o=this.R_MINOR/i,r=Math.sqrt(1-o*o),s=Math.exp(-t.y/i),a=Math.PI/2-2*Math.atan(s),l=0,u=.1;l<15&&1e-7<Math.abs(u);l++)e=r*Math.sin(a),e=Math.pow((1-e)/(1+e),r/2),a+=u=Math.PI/2-2*Math.atan(s*e)-a;return new g(a*n,t.x*n/i)}},Nt={LonLat:kt,Mercator:Lt,SphericalMercator:st},At=l({},rt,{code:"EPSG:3395",projection:Lt,transformation:lt(o=.5/(Math.PI*Lt.R),.5,-o,.5)}),ln=l({},rt,{code:"EPSG:4326",projection:kt,transformation:lt(1/180,1,-1/180,.5)}),xt=l({},ot,{projection:kt,transformation:lt(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,e=e.lat-t.lat;return Math.sqrt(n*n+e*e)},infinite:!0}),j=(ot.Earth=rt,ot.EPSG3395=At,ot.EPSG3857=ut,ot.EPSG900913=ct,ot.EPSG4326=ln,ot.Simple=xt,nt.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(t){return t.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){return t&&t.removeLayer(this),this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){return this._map._targets[A(t)]=this},removeInteractiveTarget:function(t){return delete this._map._targets[A(t)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e,n=t.target;n.hasLayer(this)&&(this._map=n,this._zoomAnimated=n._zoomAnimated,this.getEvents&&(e=this.getEvents(),n.on(e,this),this.once("remove",function(){n.off(e,this)},this)),this.onAdd(n),this.getAttribution&&n.attributionControl&&n.attributionControl.addAttribution(this.getAttribution()),this.fire("add"),n.fire("layeradd",{layer:this}))}})),un=(N.include({addLayer:function(t){var e;if(t._layerAdd)return e=A(t),this._layers[e]||((this._layers[e]=t)._mapToAdd=this,t.beforeAdd&&t.beforeAdd(this),this.whenReady(t._layerAdd,t)),this;throw new Error("The provided object is not a Layer.")},removeLayer:function(t){var e=A(t);return this._layers[e]&&(this._loaded&&t.onRemove(this),t.getAttribution&&this.attributionControl&&this.attributionControl.removeAttribution(t.getAttribution()),delete this._layers[e],this._loaded&&(this.fire("layerremove",{layer:t}),t.fire("remove")),t._map=t._mapToAdd=null),this},hasLayer:function(t){return!!t&&A(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},_addLayers:function(t){for(var e=0,n=(t=t?u(t)?t:[t]:[]).length;e<n;e++)this.addLayer(t[e])},_addZoomLimit:function(t){!isNaN(t.options.maxZoom)&&isNaN(t.options.minZoom)||(this._zoomBoundLayers[A(t)]=t,this._updateZoomLevels())},_removeZoomLimit:function(t){t=A(t);this._zoomBoundLayers[t]&&(delete this._zoomBoundLayers[t],this._updateZoomLevels())},_updateZoomLevels:function(){var t,e=1/0,n=-1/0,i=this._getZoomSpan();for(t in this._zoomBoundLayers)var o=this._zoomBoundLayers[t].options,e=void 0===o.minZoom?e:Math.min(e,o.minZoom),n=void 0===o.maxZoom?n:Math.max(n,o.maxZoom);this._layersMaxZoom=n===-1/0?void 0:n,this._layersMinZoom=e===1/0?void 0:e,i!==this._getZoomSpan()&&this.fire("zoomlevelschange"),void 0===this.options.maxZoom&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),void 0===this.options.minZoom&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}}),j.extend({initialize:function(t,e){var n,i;if(r(this,e),this._layers={},t)for(n=0,i=t.length;n<i;n++)this.addLayer(t[n])},addLayer:function(t){var e=this.getLayerId(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){t=t in this._layers?t:this.getLayerId(t);return this._map&&this._layers[t]&&this._map.removeLayer(this._layers[t]),delete this._layers[t],this},hasLayer:function(t){return!!t&&("number"==typeof t?t:this.getLayerId(t))in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(t){var e,n,i=Array.prototype.slice.call(arguments,1);for(e in this._layers)(n=this._layers[e])[t]&&n[t].apply(n,i);return this},onAdd:function(t){this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t)},eachLayer:function(t,e){for(var n in this._layers)t.call(e,this._layers[n]);return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];return this.eachLayer(t.push,t),t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:A})),cn=un.extend({addLayer:function(t){return this.hasLayer(t)?this:(t.addEventParent(this),un.prototype.addLayer.call(this,t),this.fire("layeradd",{layer:t}))},removeLayer:function(t){return this.hasLayer(t)?((t=t in this._layers?this._layers[t]:t).removeEventParent(this),un.prototype.removeLayer.call(this,t),this.fire("layerremove",{layer:t})):this},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t,e=new d;for(t in this._layers){var n=this._layers[t];e.extend(n.getBounds?n.getBounds():n.getLatLng())}return e}}),hn=et.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0]},initialize:function(t){r(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(n)return n=this._createImg(n,e&&"IMG"===e.tagName?e:null),this._setIconStyles(n,t),n;if("icon"===t)throw new Error("iconUrl not set in Icon options (see the docs).");return null},_setIconStyles:function(t,e){var n=this.options,i=n[e+"Size"],i=c(i="number"==typeof i?[i,i]:i),o=c("shadow"===e&&n.shadowAnchor||n.iconAnchor||i&&i.divideBy(2,!0));t.className="leaflet-marker-"+e+" "+(n.className||""),o&&(t.style.marginLeft=-o.x+"px",t.style.marginTop=-o.y+"px"),i&&(t.style.width=i.x+"px",t.style.height=i.y+"px")},_createImg:function(t,e){return(e=e||document.createElement("img")).src=t,e},_getIconUrl:function(t){return zt&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}}),dn=hn.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){return dn.imagePath||(dn.imagePath=this._detectIconPath()),(this.options.imagePath||dn.imagePath)+hn.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=v("div","leaflet-default-icon-path",document.body),e=ue(t,"background-image")||ue(t,"backgroundImage");return document.body.removeChild(t),null===e||0!==e.indexOf("url")?"":e.replace(/^url\(["']?/,"").replace(/marker-icon\.png["']?\)$/,"")}}),pn=i.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new Ke(t,t,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),x(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&S(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(t){var e=this._marker,n=e._map,i=this._marker.options.autoPanSpeed,o=this._marker.options.autoPanPadding,r=ye(e._icon),s=n.getPixelBounds(),a=n.getPixelOrigin(),a=h(s.min._subtract(a).add(o),s.max._subtract(a).subtract(o));a.contains(r)||(o=c((Math.max(a.max.x,r.x)-a.max.x)/(s.max.x-a.max.x)-(Math.min(a.min.x,r.x)-a.min.x)/(s.min.x-a.min.x),(Math.max(a.max.y,r.y)-a.max.y)/(s.max.y-a.max.y)-(Math.min(a.min.y,r.y)-a.min.y)/(s.min.y-a.min.y)).multiplyBy(i),n.panBy(o,{animate:!1}),this._draggable._newPos._add(o),this._draggable._startPos._add(o),P(e._icon,this._draggable._newPos),this._onDrag(t),this._panRequest=_(this._adjustPan.bind(this,t)))},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(t){this._marker.options.autoPan&&(s(this._panRequest),this._panRequest=_(this._adjustPan.bind(this,t)))},_onDrag:function(t){var e=this._marker,n=e._shadow,i=ye(e._icon),o=e._map.layerPointToLatLng(i);n&&P(n,i),e._latlng=o,t.latlng=o,t.oldLatLng=this._oldLatLng,e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){s(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",t)}}),fn=j.extend({options:{icon:new dn,interactive:!0,keyboard:!0,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(t,e){r(this,e),this._latlng=b(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation,this._zoomAnimated&&t.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(t){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&t.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;return this._latlng=b(t),this.update(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){return this.options.zIndexOffset=t,this.update()},getIcon:function(){return this.options.icon},setIcon:function(t){return this.options.icon=t,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){var t;return this._icon&&this._map&&(t=this._map.latLngToLayerPoint(this._latlng).round(),this._setPos(t)),this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),n=t.icon.createIcon(this._icon),i=!1,n=(n!==this._icon&&(this._icon&&this._removeIcon(),i=!0,t.title&&(n.title=t.title),"IMG"===n.tagName)&&(n.alt=t.alt||""),x(n,e),t.keyboard&&(n.tabIndex="0"),this._icon=n,t.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),t.icon.createShadow(this._shadow)),o=!1;n!==this._shadow&&(this._removeShadow(),o=!0),n&&(x(n,e),n.alt=""),this._shadow=n,t.opacity<1&&this._updateOpacity(),i&&this.getPane().appendChild(this._icon),this._initInteraction(),n&&o&&this.getPane(t.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),y(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&y(this._shadow),this._shadow=null},_setPos:function(t){this._icon&&P(this._icon,t),this._shadow&&P(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon&&(this._icon.style.zIndex=this._zIndex+t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(t)},_initInteraction:function(){var t;this.options.interactive&&(x(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),pn)&&(t=this.options.draggable,this.dragging&&(t=this.dragging.enabled(),this.dragging.disable()),this.dragging=new pn(this),t)&&this.dragging.enable()},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var t=this.options.opacity;this._icon&&C(this._icon,t),this._shadow&&C(this._shadow,t)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}}),mn=j.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(t){return r(this,t),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke)&&t&&Object.prototype.hasOwnProperty.call(t,"weight")&&this._updateBounds(),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+this._renderer.options.tolerance}}),gn=mn.extend({options:{fill:!0,radius:10},initialize:function(t,e){r(this,e),this._latlng=b(t),this._radius=this.options.radius},setLatLng:function(t){var e=this._latlng;return this._latlng=b(t),this.redraw(),this.fire("move",{oldLatLng:e,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){return this.options.radius=this._radius=t,this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;return mn.prototype.setStyle.call(this,t),this.setRadius(e),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),t=[t+n,e+n];this._pxBounds=new m(this._point.subtract(t),this._point.add(t))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()}}),vn=gn.extend({initialize:function(t,e,n){if(r(this,e="number"==typeof e?l({},n,{radius:e}):e),this._latlng=b(t),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(t){return this._mRadius=t,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new d(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:mn.prototype.setStyle,_project:function(){var t,e,n,i,o,r=this._latlng.lng,s=this._latlng.lat,a=this._map,l=a.options.crs;l.distance===rt.distance?(i=Math.PI/180,o=this._mRadius/rt.R/i,t=a.project([s+o,r]),e=a.project([s-o,r]),e=t.add(e).divideBy(2),n=a.unproject(e).lat,i=Math.acos((Math.cos(o*i)-Math.sin(s*i)*Math.sin(n*i))/(Math.cos(s*i)*Math.cos(n*i)))/i,!isNaN(i)&&0!==i||(i=o/Math.cos(Math.PI/180*s)),this._point=e.subtract(a.getPixelOrigin()),this._radius=isNaN(i)?0:e.x-a.project([n,r-i]).x,this._radiusY=e.y-t.y):(o=l.unproject(l.project(this._latlng).subtract([this._mRadius,0])),this._point=a.latLngToLayerPoint(this._latlng),this._radius=this._point.x-a.latLngToLayerPoint(o).x),this._updateBounds()}}),yn=mn.extend({options:{smoothFactor:1,noClip:!1},initialize:function(t,e){r(this,e),this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._setLatLngs(t),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){for(var e,n,i=1/0,o=null,r=on,s=0,a=this._parts.length;s<a;s++)for(var l=this._parts[s],u=1,c=l.length;u<c;u++){var h=r(t,e=l[u-1],n=l[u],!0);h<i&&(i=h,o=r(t,e,n))}return o&&(o.distance=Math.sqrt(i)),o},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s=this._rings[0],a=s.length;if(!a)return null;for(e=t=0;t<a-1;t++)e+=s[t].distanceTo(s[t+1])/2;if(0===e)return this._map.layerPointToLatLng(s[0]);for(n=t=0;t<a-1;t++)if(i=s[t],o=s[t+1],e<(n+=r=i.distanceTo(o)))return this._map.layerPointToLatLng([o.x-(r=(n-e)/r)*(o.x-i.x),o.y-r*(o.y-i.y)])},getBounds:function(){return this._bounds},addLatLng:function(t,e){return e=e||this._defaultShape(),t=b(t),e.push(t),this._bounds.extend(t),this.redraw()},_setLatLngs:function(t){this._bounds=new d,this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return rn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){for(var e=[],n=rn(t),i=0,o=t.length;i<o;i++)n?(e[i]=b(t[i]),this._bounds.extend(e[i])):e[i]=this._convertLatLngs(t[i]);return e},_project:function(){var t=new m;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,t),this._bounds.isValid()&&t.isValid()&&(this._rawPxBounds=t,this._updateBounds())},_updateBounds:function(){var t=this._clickTolerance(),t=new f(t,t);this._pxBounds=new m([this._rawPxBounds.min.subtract(t),this._rawPxBounds.max.add(t)])},_projectLatlngs:function(t,e,n){var i,o,r=t[0]instanceof g,s=t.length;if(r){for(o=[],i=0;i<s;i++)o[i]=this._map.latLngToLayerPoint(t[i]),n.extend(o[i]);e.push(o)}else for(i=0;i<s;i++)this._projectLatlngs(t[i],e,n)},_clipPoints:function(){var t=this._renderer._bounds;if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var e,n,i,o,r=this._parts,s=0,a=0,l=this._rings.length;s<l;s++)for(e=0,n=(o=this._rings[s]).length;e<n-1;e++)(i=tn(o[e],o[e+1],t,e,!0))&&(r[a]=r[a]||[],r[a].push(i[0]),i[1]===o[e+1]&&e!==n-2||(r[a].push(i[1]),a++))},_simplifyPoints:function(){for(var t=this._parts,e=this.options.smoothFactor,n=0,i=t.length;n<i;n++)t[n]=Je(t[n],e)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(t,e){var n,i,o,r,s,a,l=this._clickTolerance();if(this._pxBounds&&this._pxBounds.contains(t))for(n=0,r=this._parts.length;n<r;n++)for(i=0,o=(s=(a=this._parts[n]).length)-1;i<s;o=i++)if((e||0!==i)&&Qe(t,a[o],a[i])<=l)return!0;return!1}}),_n=(yn._flat=sn,yn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");var t,e,n,i,o,r,s,a,l,u=this._rings[0],c=u.length;if(!c)return null;for(t=r=s=a=0,e=c-1;t<c;e=t++)n=u[t],i=u[e],o=n.y*i.x-i.y*n.x,s+=(n.x+i.x)*o,a+=(n.y+i.y)*o,r+=3*o;return l=0===r?u[0]:[s/r,a/r],this._map.layerPointToLatLng(l)},_convertLatLngs:function(t){var t=yn.prototype._convertLatLngs.call(this,t),e=t.length;return 2<=e&&t[0]instanceof g&&t[0].equals(t[e-1])&&t.pop(),t},_setLatLngs:function(t){yn.prototype._setLatLngs.call(this,t),rn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return(rn(this._latlngs[0])?this._latlngs:this._latlngs[0])[0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,e=new f(e,e),t=new m(t.min.subtract(e),t.max.add(e));if(this._parts=[],this._pxBounds&&this._pxBounds.intersects(t))if(this.options.noClip)this._parts=this._rings;else for(var n,i=0,o=this._rings.length;i<o;i++)(n=an(this._rings[i],t,!0)).length&&this._parts.push(n)},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(t){var e,n,i,o,r,s,a,l,u=!1;if(!this._pxBounds||!this._pxBounds.contains(t))return!1;for(o=0,a=this._parts.length;o<a;o++)for(r=0,s=(l=(e=this._parts[o]).length)-1;r<l;s=r++)n=e[r],i=e[s],n.y>t.y!=i.y>t.y&&t.x<(i.x-n.x)*(t.y-n.y)/(i.y-n.y)+n.x&&(u=!u);return u||yn.prototype._containsPoint.call(this,t,!0)}})),bn=cn.extend({initialize:function(t,e){r(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,i,o=u(t)?t:t.features;if(o){for(e=0,n=o.length;e<n;e++)((i=o[e]).geometries||i.geometry||i.features||i.coordinates)&&this.addData(i);return this}var r,s=this.options;return(!s.filter||s.filter(t))&&(r=wn(t,s))?(r.feature=Pn(t),r.defaultOptions=r.options,this.resetStyle(r),s.onEachFeature&&s.onEachFeature(t,r),this.addLayer(r)):this},resetStyle:function(t){return void 0===t?this.eachLayer(this.resetStyle,this):(t.options=l({},t.defaultOptions),this._setLayerStyle(t,this.options.style),this)},setStyle:function(e){return this.eachLayer(function(t){this._setLayerStyle(t,e)},this)},_setLayerStyle:function(t,e){t.setStyle&&("function"==typeof e&&(e=e(t.feature)),t.setStyle(e))}});function wn(t,e){var n,i,o,r,s="Feature"===t.type?t.geometry:t,a=s?s.coordinates:null,l=[],u=e&&e.pointToLayer,c=e&&e.coordsToLatLng||Sn;if(!a&&!s)return null;switch(s.type){case"Point":return xn(u,t,n=c(a),e);case"MultiPoint":for(o=0,r=a.length;o<r;o++)n=c(a[o]),l.push(xn(u,t,n,e));return new cn(l);case"LineString":case"MultiLineString":return i=Cn(a,"LineString"===s.type?0:1,c),new yn(i,e);case"Polygon":case"MultiPolygon":return i=Cn(a,"Polygon"===s.type?1:2,c),new _n(i,e);case"GeometryCollection":for(o=0,r=s.geometries.length;o<r;o++){var h=wn({geometry:s.geometries[o],type:"Feature",properties:t.properties},e);h&&l.push(h)}return new cn(l);default:throw new Error("Invalid GeoJSON object.")}}function xn(t,e,n,i){return t?t(e,n):new fn(n,i&&i.markersInheritOptions&&i)}function Sn(t){return new g(t[1],t[0],t[2])}function Cn(t,e,n){for(var i,o=[],r=0,s=t.length;r<s;r++)i=e?Cn(t[r],e-1,n):(n||Sn)(t[r]),o.push(i);return o}function En(t,e){return e="number"==typeof e?e:6,void 0!==t.alt?[n(t.lng,e),n(t.lat,e),n(t.alt,e)]:[n(t.lng,e),n(t.lat,e)]}function An(t,e,n,i){for(var o=[],r=0,s=t.length;r<s;r++)o.push(e?An(t[r],e-1,n,i):En(t[r],i));return!e&&n&&o.push(o[0]),o}function Tn(t,e){return t.feature?l({},t.feature,{geometry:e}):Pn(e)}function Pn(t){return"Feature"===t.type||"FeatureCollection"===t.type?t:{type:"Feature",properties:{},geometry:t}}St={toGeoJSON:function(t){return Tn(this,{type:"Point",coordinates:En(this.getLatLng(),t)})}};function On(t,e){return new bn(t,e)}fn.include(St),vn.include(St),gn.include(St),yn.include({toGeoJSON:function(t){var e=!rn(this._latlngs);return Tn(this,{type:(e?"Multi":"")+"LineString",coordinates:An(this._latlngs,e?1:0,!1,t)})}}),_n.include({toGeoJSON:function(t){var e=!rn(this._latlngs),n=e&&!rn(this._latlngs[0]),t=An(this._latlngs,n?2:e?1:0,!0,t);return Tn(this,{type:(n?"Multi":"")+"Polygon",coordinates:t=e?t:[t]})}}),un.include({toMultiPoint:function(e){var n=[];return this.eachLayer(function(t){n.push(t.toGeoJSON(e).geometry.coordinates)}),Tn(this,{type:"MultiPoint",coordinates:n})},toGeoJSON:function(e){var n,i,t=this.feature&&this.feature.geometry&&this.feature.geometry.type;return"MultiPoint"===t?this.toMultiPoint(e):(n="GeometryCollection"===t,i=[],this.eachLayer(function(t){t.toGeoJSON&&(t=t.toGeoJSON(e),n?i.push(t.geometry):"FeatureCollection"===(t=Pn(t)).type?i.push.apply(i,t.features):i.push(t))}),n?Tn(this,{geometries:i,type:"GeometryCollection"}):{type:"FeatureCollection",features:i})}});var e=On,kn=j.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(t,e,n){this._url=t,this._bounds=p(e),r(this,n)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(x(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){y(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(t){return this.options.opacity=t,this._image&&this._updateOpacity(),this},setStyle:function(t){return t.opacity&&this.setOpacity(t.opacity),this},bringToFront:function(){return this._map&&he(this._image),this},bringToBack:function(){return this._map&&de(this._image),this},setUrl:function(t){return this._url=t,this._image&&(this._image.src=t),this},setBounds:function(t){return this._bounds=p(t),this._map&&this._reset(),this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t="IMG"===this._url.tagName,e=this._image=t?this._url:v("img");x(e,"leaflet-image-layer"),this._zoomAnimated&&x(e,"leaflet-zoom-animated"),this.options.className&&x(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onload=E(this.fire,this,"load"),e.onerror=E(this._overlayOnError,this,"error"),!this.options.crossOrigin&&""!==this.options.crossOrigin||(e.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),t?this._url=e.src:(e.src=this._url,e.alt=this.options.alt)},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),t=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;ve(this._image,t,e)},_reset:function(){var t=this._image,e=new m(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();P(t,e.min),t.style.width=n.x+"px",t.style.height=n.y+"px"},_updateOpacity:function(){C(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var t=this.options.errorOverlayUrl;t&&this._url!==t&&(this._url=t,this._image.src=t)}}),Ln=kn.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1},_initImage:function(){var t="VIDEO"===this._url.tagName,e=this._image=t?this._url:v("video");if(x(e,"leaflet-image-layer"),this._zoomAnimated&&x(e,"leaflet-zoom-animated"),this.options.className&&x(e,this.options.className),e.onselectstart=a,e.onmousemove=a,e.onloadeddata=E(this.fire,this,"load"),t){for(var n=e.getElementsByTagName("source"),i=[],o=0;o<n.length;o++)i.push(n[o].src);this._url=0<n.length?i:[e.src]}else{u(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(e.style,"objectFit")&&(e.style.objectFit="fill"),e.autoplay=!!this.options.autoplay,e.loop=!!this.options.loop,e.muted=!!this.options.muted;for(var r=0;r<this._url.length;r++){var s=v("source");s.src=this._url[r],e.appendChild(s)}}}}),Mn=kn.extend({_initImage:function(){var t=this._image=this._url;x(t,"leaflet-image-layer"),this._zoomAnimated&&x(t,"leaflet-zoom-animated"),this.options.className&&x(t,this.options.className),t.onselectstart=a,t.onmousemove=a}}),Dn=j.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){r(this,t),this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated,this._container||this._initLayout(),t._fadeAnimated&&C(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),t._fadeAnimated&&C(this._container,1),this.bringToFront()},onRemove:function(t){t._fadeAnimated?(C(this._container,0),this._removeTimeout=setTimeout(E(y,void 0,this._container),200)):y(this._container)},getLatLng:function(){return this._latlng},setLatLng:function(t){return this._latlng=b(t),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(t){return this._content=t,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&he(this._container),this},bringToBack:function(){return this._map&&de(this._container),this},_prepareOpen:function(t,e,n){if(e instanceof j||(n=e,e=t),e instanceof cn)for(var i in t._layers){e=t._layers[i];break}if(!n)if(e.getCenter)n=e.getCenter();else{if(!e.getLatLng)throw new Error("Unable to get source layer LatLng.");n=e.getLatLng()}return this._source=e,this.update(),n},_updateContent:function(){if(this._content){var t=this._contentNode,e="function"==typeof this._content?this._content(this._source||this):this._content;if("string"==typeof e)t.innerHTML=e;else{for(;t.hasChildNodes();)t.removeChild(t.firstChild);t.appendChild(e)}this.fire("contentupdate")}},_updatePosition:function(){var t,e,n;this._map&&(e=this._map.latLngToLayerPoint(this._latlng),t=c(this.options.offset),n=this._getAnchor(),this._zoomAnimated?P(this._container,e.add(n)):t=t.add(e).add(n),e=this._containerBottom=-t.y,n=this._containerLeft=-Math.round(this._containerWidth/2)+t.x,this._container.style.bottom=e+"px",this._container.style.left=n+"px")},_getAnchor:function(){return[0,0]}}),Nn=Dn.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(t){return t.openPopup(this),this},onAdd:function(t){Dn.prototype.onAdd.call(this,t),t.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof mn||this._source.on("preclick",ke))},onRemove:function(t){Dn.prototype.onRemove.call(this,t),t.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof mn||this._source.off("preclick",ke))},getEvents:function(){var t=Dn.prototype.getEvents.call(this);return(void 0!==this.options.closeOnClick?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(t.preclick=this._close),this.options.keepInView&&(t.moveend=this._adjustPan),t},_close:function(){this._map&&this._map.closePopup(this)},_initLayout:function(){var t="leaflet-popup",e=this._container=v("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated"),n=this._wrapper=v("div",t+"-content-wrapper",e);this._contentNode=v("div",t+"-content",n),Me(e),Le(this._contentNode),O(e,"contextmenu",ke),this._tipContainer=v("div",t+"-tip-container",e),this._tip=v("div",t+"-tip",this._tipContainer),this.options.closeButton&&((n=this._closeButton=v("a",t+"-close-button",e)).href="#close",n.innerHTML="&#215;",O(n,"click",this._onCloseButtonClick,this))},_updateLayout:function(){var t=this._contentNode,e=t.style,n=(e.width="",e.whiteSpace="nowrap",t.offsetWidth),n=Math.min(n,this.options.maxWidth),n=(n=Math.max(n,this.options.minWidth),e.width=n+1+"px",e.whiteSpace="",e.height="",t.offsetHeight),i=this.options.maxHeight,o="leaflet-popup-scrolled";(i&&i<n?(e.height=i+"px",x):S)(t,o),this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),e=this._getAnchor();P(this._container,t.add(e))},_adjustPan:function(){var t,e,n,i,o,r,s,a,l;this.options.autoPan&&(this._map._panAnim&&this._map._panAnim.stop(),t=this._map,e=parseInt(ue(this._container,"marginBottom"),10)||0,e=this._container.offsetHeight+e,n=this._containerWidth,(i=new f(this._containerLeft,-e-this._containerBottom))._add(ye(this._container)),i=t.layerPointToContainerPoint(i),r=c(this.options.autoPanPadding),o=c(this.options.autoPanPaddingTopLeft||r),r=c(this.options.autoPanPaddingBottomRight||r),s=t.getSize(),l=a=0,i.x+n+r.x>s.x&&(a=i.x+n-s.x+r.x),i.x-a-o.x<0&&(a=i.x-o.x),i.y+e+r.y>s.y&&(l=i.y+e-s.y+r.y),i.y-l-o.y<0&&(l=i.y-o.y),a||l)&&t.fire("autopanstart").panBy([a,l])},_onCloseButtonClick:function(t){this._close(),De(t)},_getAnchor:function(){return c(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),zn=(N.mergeOptions({closePopupOnClick:!0}),N.include({openPopup:function(t,e,n){return t instanceof Nn||(t=new Nn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:(this._popup&&this._popup.options.autoClose&&this.closePopup(),this._popup=t,this.addLayer(t))},closePopup:function(t){return t&&t!==this._popup||(t=this._popup,this._popup=null),t&&this.removeLayer(t),this}}),j.include({bindPopup:function(t,e){return t instanceof Nn?(r(t,e),(this._popup=t)._source=this):(this._popup&&!e||(this._popup=new Nn(e,this)),this._popup.setContent(t)),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(t,e){return this._popup&&this._map&&(e=this._popup._prepareOpen(this,t,e),this._map.openPopup(this._popup,e)),this},closePopup:function(){return this._popup&&this._popup._close(),this},togglePopup:function(t){return this._popup&&(this._popup._map?this.closePopup():this.openPopup(t)),this},isPopupOpen:function(){return!!this._popup&&this._popup.isOpen()},setPopupContent:function(t){return this._popup&&this._popup.setContent(t),this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;this._popup&&this._map&&(De(t),e instanceof mn?this.openPopup(t.layer||t.target,t.latlng):this._map.hasLayer(this._popup)&&this._popup._source===e?this.closePopup():this.openPopup(e,t.latlng))},_movePopup:function(t){this._popup.setLatLng(t.latlng)},_onKeyPress:function(t){13===t.originalEvent.keyCode&&this._openPopup(t)}}),Dn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,interactive:!1,opacity:.9},onAdd:function(t){Dn.prototype.onAdd.call(this,t),this.setOpacity(this.options.opacity),t.fire("tooltipopen",{tooltip:this}),this._source&&this._source.fire("tooltipopen",{tooltip:this},!0)},onRemove:function(t){Dn.prototype.onRemove.call(this,t),t.fire("tooltipclose",{tooltip:this}),this._source&&this._source.fire("tooltipclose",{tooltip:this},!0)},getEvents:function(){var t=Dn.prototype.getEvents.call(this);return Mt&&!this.options.permanent&&(t.preclick=this._close),t},_close:function(){this._map&&this._map.closeTooltip(this)},_initLayout:function(){var t="leaflet-tooltip "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=v("div",t)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e,n=this._map,i=this._container,o=n.latLngToContainerPoint(n.getCenter()),n=n.layerPointToContainerPoint(t),r=this.options.direction,s=i.offsetWidth,a=i.offsetHeight,l=c(this.options.offset),u=this._getAnchor(),n="top"===r?(e=s/2,a):"bottom"===r?(e=s/2,0):(e="center"===r?s/2:"right"===r?0:"left"===r?s:n.x<o.x?(r="right",0):(r="left",s+2*(l.x+u.x)),a/2);t=t.subtract(c(e,n,!0)).add(l).add(u),S(i,"leaflet-tooltip-right"),S(i,"leaflet-tooltip-left"),S(i,"leaflet-tooltip-top"),S(i,"leaflet-tooltip-bottom"),x(i,"leaflet-tooltip-"+r),P(i,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t,this._container&&C(this._container,t)},_animateZoom:function(t){t=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(t)},_getAnchor:function(){return c(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}})),jn=(N.include({openTooltip:function(t,e,n){return t instanceof zn||(t=new zn(n).setContent(t)),e&&t.setLatLng(e),this.hasLayer(t)?this:this.addLayer(t)},closeTooltip:function(t){return t&&this.removeLayer(t),this}}),j.include({bindTooltip:function(t,e){return t instanceof zn?(r(t,e),(this._tooltip=t)._source=this):(this._tooltip&&!e||(this._tooltip=new zn(e,this)),this._tooltip.setContent(t)),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(t){var e,n;!t&&this._tooltipHandlersAdded||(e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip},this._tooltip.options.permanent?n.add=this._openTooltip:(n.mouseover=this._openTooltip,n.mouseout=this.closeTooltip,this._tooltip.options.sticky&&(n.mousemove=this._moveTooltip),Mt&&(n.click=this._openTooltip)),this[e](n),this._tooltipHandlersAdded=!t)},openTooltip:function(t,e){return this._tooltip&&this._map&&(e=this._tooltip._prepareOpen(this,t,e),this._map.openTooltip(this._tooltip,e),this._tooltip.options.interactive)&&this._tooltip._container&&(x(this._tooltip._container,"leaflet-clickable"),this.addInteractiveTarget(this._tooltip._container)),this},closeTooltip:function(){return this._tooltip&&(this._tooltip._close(),this._tooltip.options.interactive)&&this._tooltip._container&&(S(this._tooltip._container,"leaflet-clickable"),this.removeInteractiveTarget(this._tooltip._container)),this},toggleTooltip:function(t){return this._tooltip&&(this._tooltip._map?this.closeTooltip():this.openTooltip(t)),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){return this._tooltip&&this._tooltip.setContent(t),this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;this._tooltip&&this._map&&this.openTooltip(e,this._tooltip.options.sticky?t.latlng:void 0)},_moveTooltip:function(t){var e=t.latlng;this._tooltip.options.sticky&&t.originalEvent&&(t=this._map.mouseEventToContainerPoint(t.originalEvent),t=this._map.containerPointToLayerPoint(t),e=this._map.layerPointToLatLng(t)),this._tooltip.setLatLng(e)}}),hn.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var t=t&&"DIV"===t.tagName?t:document.createElement("div"),e=this.options;return e.html instanceof Element?(ce(t),t.appendChild(e.html)):t.innerHTML=!1!==e.html?e.html:"",e.bgPos&&(e=c(e.bgPos),t.style.backgroundPosition=-e.x+"px "+-e.y+"px"),this._setIconStyles(t,"icon"),t},createShadow:function(){return null}})),In=(hn.Default=dn,j.extend({options:{tileSize:256,opacity:1,updateWhenIdle:Ot,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){r(this,t)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView(),this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles(),y(this._container),t._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(he(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(de(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){return this._map&&(this._removeAllTiles(),this._update()),this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=H(this._onMoveEnd,this.options.updateInterval,this)),t.move=this._onMove),this._zoomAnimated&&(t.zoomanim=this._animateZoom),t},createTile:function(){return document.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof f?t:new f(t,t)},_updateZIndex:function(){this._container&&void 0!==this.options.zIndex&&null!==this.options.zIndex&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t){for(var e,n=this.getPane().children,i=-t(-1/0,1/0),o=0,r=n.length;o<r;o++)e=n[o].style.zIndex,n[o]!==this._container&&e&&(i=t(i,+e));isFinite(i)&&(this.options.zIndex=i+t(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!mt){C(this._container,this.options.opacity);var t,e=+new Date,n=!1,i=!1;for(t in this._tiles){var o,r=this._tiles[t];r.current&&r.loaded&&(o=Math.min(1,(e-r.loaded)/200),C(r.el,o),o<1?n=!0:(r.active?i=!0:this._onOpaqueTile(r),r.active=!0))}i&&!this._noPrune&&this._pruneTiles(),n&&(s(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this))}},_onOpaqueTile:a,_initContainer:function(){this._container||(this._container=v("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(void 0!==t){for(var n in this._levels)n=Number(n),this._levels[n].el.children.length||n===t?(this._levels[n].el.style.zIndex=e-Math.abs(t-n),this._onUpdateLevel(n)):(y(this._levels[n].el),this._removeTilesAtZoom(n),this._onRemoveLevel(n),delete this._levels[n]);var i=this._levels[t],o=this._map;return i||((i=this._levels[t]={}).el=v("div","leaflet-tile-container leaflet-zoom-animated",this._container),i.el.style.zIndex=e,i.origin=o.project(o.unproject(o.getPixelOrigin()),t).round(),i.zoom=t,this._setZoomTransform(i,o.getCenter(),o.getZoom()),a(i.el.offsetWidth),this._onCreateLevel(i)),this._level=i}},_onUpdateLevel:a,_onRemoveLevel:a,_onCreateLevel:a,_pruneTiles:function(){if(this._map){var t,e,n,i=this._map.getZoom();if(i>this.options.maxZoom||i<this.options.minZoom)this._removeAllTiles();else{for(t in this._tiles)(n=this._tiles[t]).retain=n.current;for(t in this._tiles)(n=this._tiles[t]).current&&!n.active&&(e=n.coords,this._retainParent(e.x,e.y,e.z,e.z-5)||this._retainChildren(e.x,e.y,e.z,e.z+2));for(t in this._tiles)this._tiles[t].retain||this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles)this._tiles[e].coords.z===t&&this._removeTile(e)},_removeAllTiles:function(){for(var t in this._tiles)this._removeTile(t)},_invalidateAll:function(){for(var t in this._levels)y(this._levels[t].el),this._onRemoveLevel(Number(t)),delete this._levels[t];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(t,e,n,i){var t=Math.floor(t/2),e=Math.floor(e/2),n=n-1,o=new f(+t,+e),o=(o.z=n,this._tileCoordsToKey(o)),o=this._tiles[o];return o&&o.active?o.retain=!0:(o&&o.loaded&&(o.retain=!0),i<n&&this._retainParent(t,e,n,i))},_retainChildren:function(t,e,n,i){for(var o=2*t;o<2*t+2;o++)for(var r=2*e;r<2*e+2;r++){var s=new f(o,r),s=(s.z=n+1,this._tileCoordsToKey(s)),s=this._tiles[s];s&&s.active?s.retain=!0:(s&&s.loaded&&(s.retain=!0),n+1<i&&this._retainChildren(o,r,n+1,i))}},_resetView:function(t){t=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),t,t)},_animateZoom:function(t){this._setView(t.center,t.zoom,!0,t.noUpdate)},_clampZoom:function(t){var e=this.options;return void 0!==e.minNativeZoom&&t<e.minNativeZoom?e.minNativeZoom:void 0!==e.maxNativeZoom&&e.maxNativeZoom<t?e.maxNativeZoom:t},_setView:function(t,e,n,i){var o=Math.round(e),o=void 0!==this.options.maxZoom&&o>this.options.maxZoom||void 0!==this.options.minZoom&&o<this.options.minZoom?void 0:this._clampZoom(o),r=this.options.updateWhenZooming&&o!==this._tileZoom;i&&!r||(this._tileZoom=o,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),void 0!==o&&this._update(t),n||this._pruneTiles(),this._noPrune=!!n),this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels)this._setZoomTransform(this._levels[n],t,e)},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),e=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();w?ve(t.el,e,i):P(t.el,e)},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom,o=this._map.getPixelWorldBounds(this._tileZoom);o&&(this._globalTileRange=this._pxBoundsToTileRange(o)),this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)],this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){this._map&&!this._map._animatingZoom&&this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),n=e.getZoomScale(n,this._tileZoom),t=e.project(t,this._tileZoom).floor(),e=e.getSize().divideBy(2*n);return new m(t.subtract(e),t.add(e))},_update:function(t){var e=this._map;if(e){var n=this._clampZoom(e.getZoom());if(void 0===t&&(t=e.getCenter()),void 0!==this._tileZoom){var i,e=this._getTiledPixelBounds(t),o=this._pxBoundsToTileRange(e),r=o.getCenter(),s=[],e=this.options.keepBuffer,a=new m(o.getBottomLeft().subtract([e,-e]),o.getTopRight().add([e,-e]));if(!(isFinite(o.min.x)&&isFinite(o.min.y)&&isFinite(o.max.x)&&isFinite(o.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(i in this._tiles){var l=this._tiles[i].coords;l.z===this._tileZoom&&a.contains(new f(l.x,l.y))||(this._tiles[i].current=!1)}if(1<Math.abs(n-this._tileZoom))this._setView(t,n);else{for(var u=o.min.y;u<=o.max.y;u++)for(var c=o.min.x;c<=o.max.x;c++){var h,d=new f(c,u);d.z=this._tileZoom,this._isValidTile(d)&&((h=this._tiles[this._tileCoordsToKey(d)])?h.current=!0:s.push(d))}if(s.sort(function(t,e){return t.distanceTo(r)-e.distanceTo(r)}),0!==s.length){this._loading||(this._loading=!0,this.fire("loading"));for(var p=document.createDocumentFragment(),c=0;c<s.length;c++)this._addTile(s[c],p);this._level.el.appendChild(p)}}}}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y))return!1}return!this.options.bounds||(e=this._tileCoordsToBounds(t),p(this.options.bounds).overlaps(e))},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToNwSe:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),n=i.add(n);return[e.unproject(i,t.z),e.unproject(n,t.z)]},_tileCoordsToBounds:function(t){t=this._tileCoordsToNwSe(t),t=new d(t[0],t[1]);return t=this.options.noWrap?t:this._map.wrapLatLngBounds(t)},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var t=t.split(":"),e=new f(+t[0],+t[1]);return e.z=+t[2],e},_removeTile:function(t){var e=this._tiles[t];e&&(y(e.el),delete this._tiles[t],this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)}))},_initTile:function(t){x(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px",t.style.height=e.y+"px",t.onselectstart=a,t.onmousemove=a,mt&&this.options.opacity<1&&C(t,this.options.opacity),yt&&!_t&&(t.style.WebkitBackfaceVisibility="hidden")},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t),o=this.createTile(this._wrapCoords(t),E(this._tileReady,this,t));this._initTile(o),this.createTile.length<2&&_(E(this._tileReady,this,t,null,o)),P(o,n),this._tiles[i]={el:o,coords:t,current:!0},e.appendChild(o),this.fire("tileloadstart",{tile:o,coords:t})},_tileReady:function(t,e,n){e&&this.fire("tileerror",{error:e,tile:n,coords:t});var i=this._tileCoordsToKey(t);(n=this._tiles[i])&&(n.loaded=+new Date,this._map._fadeAnimated?(C(n.el,0),s(this._fadeFrame),this._fadeFrame=_(this._updateOpacity,this)):(n.active=!0,this._pruneTiles()),e||(x(n.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:n.el,coords:t})),this._noTilesToLoad())&&(this._loading=!1,this.fire("load"),mt||!this._map._fadeAnimated?_(this._pruneTiles,this):setTimeout(E(this._pruneTiles,this),250))},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new f(this._wrapX?F(t.x,this._wrapX):t.x,this._wrapY?F(t.y,this._wrapY):t.y);return e.z=t.z,e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new m(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles)if(!this._tiles[t].loaded)return!1;return!0}})),Rn=In.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1},initialize:function(t,e){this._url=t,(e=r(this,e)).detectRetina&&zt&&0<e.maxZoom&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomReverse?(e.zoomOffset--,e.minZoom++):(e.zoomOffset++,e.maxZoom--),e.minZoom=Math.max(0,e.minZoom)),"string"==typeof e.subdomains&&(e.subdomains=e.subdomains.split("")),yt||this.on("tileunload",this._onTileRemove)},setUrl:function(t,e){return this._url===t&&void 0===e&&(e=!0),this._url=t,e||this.redraw(),this},createTile:function(t,e){var n=document.createElement("img");return O(n,"load",E(this._tileOnLoad,this,e,n)),O(n,"error",E(this._tileOnError,this,e,n)),!this.options.crossOrigin&&""!==this.options.crossOrigin||(n.crossOrigin=!0===this.options.crossOrigin?"":this.options.crossOrigin),n.alt="",n.setAttribute("role","presentation"),n.src=this.getTileUrl(t),n},getTileUrl:function(t){var e={r:zt?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};return this._map&&!this._map.options.crs.infinite&&(t=this._globalTileRange.max.y-t.y,this.options.tms&&(e.y=t),e["-y"]=t),q(this._url,l(e,this.options))},_tileOnLoad:function(t,e){mt?setTimeout(E(t,this,null,e),0):t(null,e)},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;i&&e.getAttribute("src")!==i&&(e.src=i),t(n,e)},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom;return(t=this.options.zoomReverse?e-t:t)+this.options.zoomOffset},_getSubdomain:function(t){t=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[t]},_abortLoading:function(){var t,e;for(t in this._tiles)this._tiles[t].coords.z!==this._tileZoom&&((e=this._tiles[t].el).onload=a,e.onerror=a,e.complete||(e.src=G,y(e),delete this._tiles[t]))},_removeTile:function(t){var e=this._tiles[t];if(e)return wt||e.el.setAttribute("src",G),In.prototype._removeTile.call(this,t)},_tileReady:function(t,e,n){if(this._map&&(!n||n.getAttribute("src")!==G))return In.prototype._tileReady.call(this,t,e,n)}});function Bn(t,e){return new Rn(t,e)}var Hn=Rn.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(t,e){this._url=t;var n,i=l({},this.defaultWmsParams);for(n in e)n in this.options||(i[n]=e[n]);var t=(e=r(this,e)).detectRetina&&zt?2:1,o=this.getTileSize();i.width=o.x*t,i.height=o.y*t,this.wmsParams=i},onAdd:function(t){this._crs=this.options.crs||t.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var e=1.3<=this._wmsVersion?"crs":"srs";this.wmsParams[e]=this._crs.code,Rn.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToNwSe(t),n=this._crs,n=h(n.project(e[0]),n.project(e[1])),e=n.min,n=n.max,e=(1.3<=this._wmsVersion&&this._crs===ln?[e.y,e.x,n.y,n.x]:[e.x,e.y,n.x,n.y]).join(","),n=Rn.prototype.getTileUrl.call(this,t);return n+U(this.wmsParams,n,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+e},setParams:function(t,e){return l(this.wmsParams,t),e||this.redraw(),this}}),Fn=(Rn.WMS=Hn,Bn.wms=function(t,e){return new Hn(t,e)},j.extend({options:{padding:.1,tolerance:0},initialize:function(t){r(this,t),A(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),this._zoomAnimated&&x(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(t.zoomanim=this._onAnimZoom),t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=ye(this._container),o=this._map.getSize().multiplyBy(.5+this.options.padding),r=this._map.project(this._center,e),t=this._map.project(t,e).subtract(r),e=o.multiplyBy(-n).add(i).add(o).subtract(t);w?ve(this._container,e,n):P(this._container,e)},_reset:function(){for(var t in this._update(),this._updateTransform(this._center,this._zoom),this._layers)this._layers[t]._reset()},_onZoomEnd:function(){for(var t in this._layers)this._layers[t]._project()},_updatePaths:function(){for(var t in this._layers)this._layers[t]._update()},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new m(n,n.add(e.multiplyBy(1+2*t)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}})),Wn=Fn.extend({getEvents:function(){var t=Fn.prototype.getEvents.call(this);return t.viewprereset=this._onViewPreReset,t},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){Fn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var t=this._container=document.createElement("canvas");O(t,"mousemove",this._onMouseMove,this),O(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this),O(t,"mouseout",this._handleMouseOut,this),this._ctx=t.getContext("2d")},_destroyContainer:function(){s(this._redrawRequest),delete this._ctx,y(this._container),M(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){for(var t in this._redrawBounds=null,this._layers)this._layers[t]._update();this._redraw()}},_update:function(){var t,e,n,i;this._map._animatingZoom&&this._bounds||(Fn.prototype._update.call(this),t=this._bounds,e=this._container,n=t.getSize(),i=zt?2:1,P(e,t.min),e.width=i*n.x,e.height=i*n.y,e.style.width=n.x+"px",e.style.height=n.y+"px",zt&&this._ctx.scale(2,2),this._ctx.translate(-t.min.x,-t.min.y),this.fire("update"))},_reset:function(){Fn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(t){this._updateDashArray(t);t=(this._layers[A(t)]=t)._order={layer:t,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=t),this._drawLast=t,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order,n=e.next,e=e.prev;n?n.prev=e:this._drawLast=e,e?e.next=n:this._drawFirst=n,delete t._order,delete this._layers[A(t)],this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t),t._project(),t._update(),this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t),this._requestRedraw(t)},_updateDashArray:function(t){if("string"==typeof t.options.dashArray){for(var e,n=t.options.dashArray.split(/[, ]+/),i=[],o=0;o<n.length;o++){if(e=Number(n[o]),isNaN(e))return;i.push(e)}t.options._dashArray=i}else t.options._dashArray=t.options.dashArray},_requestRedraw:function(t){this._map&&(this._extendRedrawBounds(t),this._redrawRequest=this._redrawRequest||_(this._redraw,this))},_extendRedrawBounds:function(t){var e;t._pxBounds&&(e=(t.options.weight||0)+1,this._redrawBounds=this._redrawBounds||new m,this._redrawBounds.extend(t._pxBounds.min.subtract([e,e])),this._redrawBounds.extend(t._pxBounds.max.add([e,e])))},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var t,e=this._redrawBounds;e?(t=e.getSize(),this._ctx.clearRect(e.min.x,e.min.y,t.x,t.y)):(this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore())},_draw:function(){var t,e,n=this._redrawBounds;this._ctx.save(),n&&(e=n.getSize(),this._ctx.beginPath(),this._ctx.rect(n.min.x,n.min.y,e.x,e.y),this._ctx.clip()),this._drawing=!0;for(var i=this._drawFirst;i;i=i.next)t=i.layer,(!n||t._pxBounds&&t._pxBounds.intersects(n))&&t._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(t,e){if(this._drawing){var n,i,o,r,s=t._parts,a=s.length,l=this._ctx;if(a){for(l.beginPath(),n=0;n<a;n++){for(i=0,o=s[n].length;i<o;i++)r=s[n][i],l[i?"lineTo":"moveTo"](r.x,r.y);e&&l.closePath()}this._fillStroke(l,t)}}},_updateCircle:function(t){var e,n,i,o;this._drawing&&!t._empty()&&(e=t._point,n=this._ctx,i=Math.max(Math.round(t._radius),1),1!=(o=(Math.max(Math.round(t._radiusY),1)||i)/i)&&(n.save(),n.scale(1,o)),n.beginPath(),n.arc(e.x,e.y/o,i,0,2*Math.PI,!1),1!=o&&n.restore(),this._fillStroke(n,t))},_fillStroke:function(t,e){var n=e.options;n.fill&&(t.globalAlpha=n.fillOpacity,t.fillStyle=n.fillColor||n.color,t.fill(n.fillRule||"evenodd")),n.stroke&&0!==n.weight&&(t.setLineDash&&t.setLineDash(e.options&&e.options._dashArray||[]),t.globalAlpha=n.opacity,t.lineWidth=n.weight,t.strokeStyle=n.color,t.lineCap=n.lineCap,t.lineJoin=n.lineJoin,t.stroke())},_onClick:function(t){for(var e,n,i=this._map.mouseEventToLayerPoint(t),o=this._drawFirst;o;o=o.next)(e=o.layer).options.interactive&&e._containsPoint(i)&&(("click"===t.type||"preclick"!==t.type)&&this._map._draggableMoved(e)||(n=e));n&&(Re(t),this._fireEvent([n],t))},_onMouseMove:function(t){var e;!this._map||this._map.dragging.moving()||this._map._animatingZoom||(e=this._map.mouseEventToLayerPoint(t),this._handleMouseHover(t,e))},_handleMouseOut:function(t){var e=this._hoveredLayer;e&&(S(this._container,"leaflet-interactive"),this._fireEvent([e],t,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(t,e){if(!this._mouseHoverThrottled){for(var n,i,o=this._drawFirst;o;o=o.next)(n=o.layer).options.interactive&&n._containsPoint(e)&&(i=n);i!==this._hoveredLayer&&(this._handleMouseOut(t),i)&&(x(this._container,"leaflet-interactive"),this._fireEvent([i],t,"mouseover"),this._hoveredLayer=i),this._hoveredLayer&&this._fireEvent([this._hoveredLayer],t),this._mouseHoverThrottled=!0,setTimeout(E(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e,n,i=t._order;i&&(e=i.next,n=i.prev,e)&&((e.prev=n)?n.next=e:e&&(this._drawFirst=e),i.prev=this._drawLast,(this._drawLast.next=i).next=null,this._drawLast=i,this._requestRedraw(t))},_bringToBack:function(t){var e,n,i=t._order;i&&(e=i.next,n=i.prev)&&((n.next=e)?e.prev=n:n&&(this._drawLast=n),i.prev=null,i.next=this._drawFirst,this._drawFirst.prev=i,this._drawFirst=i,this._requestRedraw(t))}});function Vn(t){return It?new Wn(t):null}var Un=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(t){return document.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return document.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}(),st={_initContainer:function(){this._container=v("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(Fn.prototype._update.call(this),this.fire("update"))},_initPath:function(t){var e=t._container=Un("shape");x(e,"leaflet-vml-shape "+(this.options.className||"")),e.coordsize="1 1",t._path=Un("path"),e.appendChild(t._path),this._updateStyle(t),this._layers[A(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e),t.options.interactive&&t.addInteractiveTarget(e)},_removePath:function(t){var e=t._container;y(e),t.removeInteractiveTarget(e),delete this._layers[A(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,o=t._container;o.stroked=!!i.stroke,o.filled=!!i.fill,i.stroke?(e=e||(t._stroke=Un("stroke")),o.appendChild(e),e.weight=i.weight+"px",e.color=i.color,e.opacity=i.opacity,i.dashArray?e.dashStyle=u(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," "):e.dashStyle="",e.endcap=i.lineCap.replace("butt","flat"),e.joinstyle=i.lineJoin):e&&(o.removeChild(e),t._stroke=null),i.fill?(n=n||(t._fill=Un("fill")),o.appendChild(n),n.color=i.fillColor||i.color,n.opacity=i.fillOpacity):n&&(o.removeChild(n),t._fill=null)},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,23592600")},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){he(t._container)},_bringToBack:function(t){de(t._container)}},Zn=Bt?Un:ht,qn=Fn.extend({getEvents:function(){var t=Fn.prototype.getEvents.call(this);return t.zoomstart=this._onZoomStart,t},_initContainer:function(){this._container=Zn("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Zn("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){y(this._container),M(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_onZoomStart:function(){this._update()},_update:function(){var t,e,n;this._map._animatingZoom&&this._bounds||(Fn.prototype._update.call(this),e=(t=this._bounds).getSize(),n=this._container,this._svgSize&&this._svgSize.equals(e)||(this._svgSize=e,n.setAttribute("width",e.x),n.setAttribute("height",e.y)),P(n,t.min),n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" ")),this.fire("update"))},_initPath:function(t){var e=t._path=Zn("path");t.options.className&&x(e,t.options.className),t.options.interactive&&x(e,"leaflet-interactive"),this._updateStyle(t),this._layers[A(t)]=t},_addPath:function(t){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(t._path),t.addInteractiveTarget(t._path)},_removePath:function(t){y(t._path),t.removeInteractiveTarget(t._path),delete this._layers[A(t)]},_updatePath:function(t){t._project(),t._update()},_updateStyle:function(t){var e=t._path,t=t.options;e&&(t.stroke?(e.setAttribute("stroke",t.color),e.setAttribute("stroke-opacity",t.opacity),e.setAttribute("stroke-width",t.weight),e.setAttribute("stroke-linecap",t.lineCap),e.setAttribute("stroke-linejoin",t.lineJoin),t.dashArray?e.setAttribute("stroke-dasharray",t.dashArray):e.removeAttribute("stroke-dasharray"),t.dashOffset?e.setAttribute("stroke-dashoffset",t.dashOffset):e.removeAttribute("stroke-dashoffset")):e.setAttribute("stroke","none"),t.fill?(e.setAttribute("fill",t.fillColor||t.color),e.setAttribute("fill-opacity",t.fillOpacity),e.setAttribute("fill-rule",t.fillRule||"evenodd")):e.setAttribute("fill","none"))},_updatePoly:function(t,e){this._setPath(t,dt(t._parts,e))},_updateCircle:function(t){var e=t._point,n=Math.max(Math.round(t._radius),1),i="a"+n+","+(Math.max(Math.round(t._radiusY),1)||n)+" 0 1,0 ",e=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+i+2*n+",0 "+i+2*-n+",0 ";this._setPath(t,e)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){he(t._path)},_bringToBack:function(t){de(t._path)}});function $n(t){return Rt||Bt?new qn(t):null}Bt&&qn.include(st),N.include({getRenderer:function(t){t=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer||(this._renderer=this._createRenderer());return this.hasLayer(t)||this.addLayer(t),t},_getPaneRenderer:function(t){var e;return"overlayPane"!==t&&void 0!==t&&(void 0===(e=this._paneRenderers[t])&&(e=this._createRenderer({pane:t}),this._paneRenderers[t]=e),e)},_createRenderer:function(t){return this.options.preferCanvas&&Vn(t)||$n(t)}});var Gn=_n.extend({initialize:function(t,e){_n.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return[(t=p(t)).getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}}),Lt=(qn.create=Zn,qn.pointsToPath=dt,bn.geometryToLayer=wn,bn.coordsToLatLng=Sn,bn.coordsToLatLngs=Cn,bn.latLngToCoords=En,bn.latLngsToCoords=An,bn.getFeature=Tn,bn.asFeature=Pn,N.mergeOptions({boxZoom:!0}),i.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane,this._resetStateTimeout=0,t.on("unload",this._destroy,this)},addHooks:function(){O(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){M(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){y(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){0!==this._resetStateTimeout&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(t){if(!t.shiftKey||1!==t.which&&1!==t.button)return!1;this._clearDeferredResetState(),this._resetState(),Qt(),_e(),this._startPoint=this._map.mouseEventToContainerPoint(t),O(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){this._moved||(this._moved=!0,this._box=v("div","leaflet-zoom-box",this._container),x(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(t);var t=new m(this._point,this._startPoint),e=t.getSize();P(this._box,t.min),this._box.style.width=e.x+"px",this._box.style.height=e.y+"px"},_finish:function(){this._moved&&(y(this._box),S(this._container,"leaflet-crosshair")),Ee(),be(),M(document,{contextmenu:De,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){1!==t.which&&1!==t.button||(this._finish(),this._moved&&(this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(E(this._resetState,this),0),t=new d(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point)),this._map.fitBounds(t).fire("boxzoomend",{boxZoomBounds:t})))},_onKeyDown:function(t){27===t.keyCode&&this._finish()}})),o=(N.addInitHook("addHandler","boxZoom",Lt),N.mergeOptions({doubleClickZoom:!0}),i.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,n=t.originalEvent.shiftKey?n-i:n+i;"center"===e.options.doubleClickZoom?e.setZoom(n):e.setZoomAround(t.containerPoint,n)}})),kt=(N.addInitHook("addHandler","doubleClickZoom",o),N.mergeOptions({dragging:!0,inertia:!_t,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0}),i.extend({addHooks:function(){var t;this._draggable||(t=this._map,this._draggable=new Ke(t._mapPane,t._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),t.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),t.on("zoomend",this._onZoomEnd,this),t.whenReady(this._onZoomEnd,this))),x(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){S(this._map._container,"leaflet-grab"),S(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var t,e=this._map;e._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity?(t=p(this._map.options.maxBounds),this._offsetLimit=h(this._map.latLngToContainerPoint(t.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(t.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))):this._offsetLimit=null,e.fire("movestart").fire("dragstart"),e.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(t){var e,n;this._map.options.inertia&&(e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos,this._positions.push(n),this._times.push(e),this._prunePositions(e)),this._map.fire("move",t).fire("drag",t)},_prunePositions:function(t){for(;1<this._positions.length&&50<t-this._times[0];)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){var t,e;this._viscosity&&this._offsetLimit&&(t=this._draggable._newPos.subtract(this._draggable._startPos),e=this._offsetLimit,t.x<e.min.x&&(t.x=this._viscousLimit(t.x,e.min.x)),t.y<e.min.y&&(t.y=this._viscousLimit(t.y,e.min.y)),t.x>e.max.x&&(t.x=this._viscousLimit(t.x,e.max.x)),t.y>e.max.y&&(t.y=this._viscousLimit(t.y,e.max.y)),this._draggable._newPos=this._draggable._startPos.add(t))},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,o=(i-e+n)%t+e-n,i=(i+e+n)%t-e-n,t=Math.abs(o+n)<Math.abs(i+n)?o:i;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=t},_onDragEnd:function(t){var e,n,i,o,r=this._map,s=r.options,a=!s.inertia||this._times.length<2;r.fire("dragend",t),!a&&(this._prunePositions(+new Date),t=this._lastPos.subtract(this._positions[0]),a=(this._lastTime-this._times[0])/1e3,e=s.easeLinearity,a=(t=t.multiplyBy(e/a)).distanceTo([0,0]),n=Math.min(s.inertiaMaxSpeed,a),t=t.multiplyBy(n/a),i=n/(s.inertiaDeceleration*e),(o=t.multiplyBy(-i/2).round()).x||o.y)?(o=r._limitOffset(o,r.options.maxBounds),_(function(){r.panBy(o,{duration:i,easeLinearity:e,noMoveStart:!0,animate:!0})})):r.fire("moveend")}})),At=(N.addInitHook("addHandler","dragging",kt),N.mergeOptions({keyboard:!0,keyboardPanDelta:80}),i.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t,this._setPanDelta(t.options.keyboardPanDelta),this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;t.tabIndex<=0&&(t.tabIndex="0"),O(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),M(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){var t,e,n;this._focused||(n=document.body,t=document.documentElement,e=n.scrollTop||t.scrollTop,n=n.scrollLeft||t.scrollLeft,this._map._container.focus(),window.scrollTo(n,e))},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(t){for(var e=this._panKeys={},n=this.keyCodes,i=0,o=n.left.length;i<o;i++)e[n.left[i]]=[-1*t,0];for(i=0,o=n.right.length;i<o;i++)e[n.right[i]]=[t,0];for(i=0,o=n.down.length;i<o;i++)e[n.down[i]]=[0,t];for(i=0,o=n.up.length;i<o;i++)e[n.up[i]]=[0,-1*t]},_setZoomDelta:function(t){for(var e=this._zoomKeys={},n=this.keyCodes,i=0,o=n.zoomIn.length;i<o;i++)e[n.zoomIn[i]]=t;for(i=0,o=n.zoomOut.length;i<o;i++)e[n.zoomOut[i]]=-t},_addHooks:function(){O(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){M(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e,n=t.keyCode,i=this._map;if(n in this._panKeys)i._panAnim&&i._panAnim._inProgress||(e=this._panKeys[n],t.shiftKey&&(e=c(e).multiplyBy(3)),i.panBy(e),i.options.maxBounds&&i.panInsideBounds(i.options.maxBounds));else if(n in this._zoomKeys)i.setZoom(i.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[n]);else{if(27!==n||!i._popup||!i._popup.options.closeOnEscapeKey)return;i.closePopup()}De(t)}}})),ut=(N.addInitHook("addHandler","keyboard",At),N.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60}),i.extend({addHooks:function(){O(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){M(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=je(t),n=this._map.options.wheelDebounceTime,e=(this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date),Math.max(n-(new Date-this._startTime),0));clearTimeout(this._timer),this._timer=setTimeout(E(this._performZoom,this),e),De(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0,i=(t._stop(),this._delta/(4*this._map.options.wheelPxPerZoomLevel)),i=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,n=n?Math.ceil(i/n)*n:i,i=t._limitZoom(e+(0<this._delta?n:-n))-e;this._delta=0,this._startTime=null,i&&("center"===t.options.scrollWheelZoom?t.setZoom(e+i):t.setZoomAround(this._lastMousePos,e+i))}})),ct=(N.addInitHook("addHandler","scrollWheelZoom",ut),N.mergeOptions({tap:!0,tapTolerance:15}),i.extend({addHooks:function(){O(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){M(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){var e;t.touches&&(D(t),this._fireClick=!0,1<t.touches.length?(this._fireClick=!1,clearTimeout(this._holdTimeout)):(t=(e=t.touches[0]).target,this._startPos=this._newPos=new f(e.clientX,e.clientY),t.tagName&&"a"===t.tagName.toLowerCase()&&x(t,"leaflet-active"),this._holdTimeout=setTimeout(E(function(){this._isTapValid()&&(this._fireClick=!1,this._onUp(),this._simulateEvent("contextmenu",e))},this),1e3),this._simulateEvent("mousedown",e),O(document,{touchmove:this._onMove,touchend:this._onUp},this)))},_onUp:function(t){var e;clearTimeout(this._holdTimeout),M(document,{touchmove:this._onMove,touchend:this._onUp},this),this._fireClick&&t&&t.changedTouches&&((e=(t=t.changedTouches[0]).target)&&e.tagName&&"a"===e.tagName.toLowerCase()&&S(e,"leaflet-active"),this._simulateEvent("mouseup",t),this._isTapValid())&&this._simulateEvent("click",t)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){t=t.touches[0];this._newPos=new f(t.clientX,t.clientY),this._simulateEvent("mousemove",t)},_simulateEvent:function(t,e){var n=document.createEvent("MouseEvents");n._simulated=!0,e.target._simulatedClick=!0,n.initMouseEvent(t,!0,!0,window,1,e.screenX,e.screenY,e.clientX,e.clientY,!1,!1,!1,!1,0,null),e.target.dispatchEvent(n)}})),xt=(!Mt||T&&!Ct||N.addInitHook("addHandler","tap",ct),N.mergeOptions({touchZoom:Mt&&!_t,bounceAtZoomLimits:!0}),i.extend({addHooks:function(){x(this._map._container,"leaflet-touch-zoom"),O(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){S(this._map._container,"leaflet-touch-zoom"),M(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e,n,i=this._map;!t.touches||2!==t.touches.length||i._animatingZoom||this._zooming||(e=i.mouseEventToContainerPoint(t.touches[0]),n=i.mouseEventToContainerPoint(t.touches[1]),this._centerPoint=i.getSize()._divideBy(2),this._startLatLng=i.containerPointToLatLng(this._centerPoint),"center"!==i.options.touchZoom&&(this._pinchStartLatLng=i.containerPointToLatLng(e.add(n)._divideBy(2))),this._startDist=e.distanceTo(n),this._startZoom=i.getZoom(),this._moved=!1,this._zooming=!0,i._stop(),O(document,"touchmove",this._onTouchMove,this),O(document,"touchend",this._onTouchEnd,this),D(t))},_onTouchMove:function(t){if(t.touches&&2===t.touches.length&&this._zooming){var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),o=n.distanceTo(i)/this._startDist;if(this._zoom=e.getScaleZoom(o,this._startZoom),!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&o<1||this._zoom>e.getMaxZoom()&&1<o)&&(this._zoom=e._limitZoom(this._zoom)),"center"===e.options.touchZoom){if(this._center=this._startLatLng,1==o)return}else{n=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(1==o&&0===n.x&&0===n.y)return;this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(n),this._zoom)}this._moved||(e._moveStart(!0,!1),this._moved=!0),s(this._animRequest);i=E(e._move,e,this._center,this._zoom,{pinch:!0,round:!1});this._animRequest=_(i,this,!0),D(t)}},_onTouchEnd:function(){this._moved&&this._zooming?(this._zooming=!1,s(this._animRequest),M(document,"touchmove",this._onTouchMove,this),M(document,"touchend",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))):this._zooming=!1}})),Yn=(N.addInitHook("addHandler","touchZoom",xt),N.BoxZoom=Lt,N.DoubleClickZoom=o,N.Drag=kt,N.Keyboard=At,N.ScrollWheelZoom=ut,N.Tap=ct,N.TouchZoom=xt,t.version="1.7.1",t.Control=z,t.control=We,t.Browser=ft,t.Evented=nt,t.Mixin=Et,t.Util=tt,t.Class=et,t.Handler=i,t.extend=l,t.bind=E,t.stamp=A,t.setOptions=r,t.DomEvent=bt,t.DomUtil=vt,t.PosAnimation=Fe,t.Draggable=Ke,t.LineUtil=Pt,t.PolyUtil=pt,t.Point=f,t.point=c,t.Bounds=m,t.bounds=h,t.Transformation=at,t.transformation=lt,t.Projection=Nt,t.LatLng=g,t.latLng=b,t.LatLngBounds=d,t.latLngBounds=p,t.CRS=ot,t.GeoJSON=bn,t.geoJSON=On,t.geoJson=e,t.Layer=j,t.LayerGroup=un,t.layerGroup=function(t,e){return new un(t,e)},t.FeatureGroup=cn,t.featureGroup=function(t,e){return new cn(t,e)},t.ImageOverlay=kn,t.imageOverlay=function(t,e,n){return new kn(t,e,n)},t.VideoOverlay=Ln,t.videoOverlay=function(t,e,n){return new Ln(t,e,n)},t.SVGOverlay=Mn,t.svgOverlay=function(t,e,n){return new Mn(t,e,n)},t.DivOverlay=Dn,t.Popup=Nn,t.popup=function(t,e){return new Nn(t,e)},t.Tooltip=zn,t.tooltip=function(t,e){return new zn(t,e)},t.Icon=hn,t.icon=function(t){return new hn(t)},t.DivIcon=jn,t.divIcon=function(t){return new jn(t)},t.Marker=fn,t.marker=function(t,e){return new fn(t,e)},t.TileLayer=Rn,t.tileLayer=Bn,t.GridLayer=In,t.gridLayer=function(t){return new In(t)},t.SVG=qn,t.svg=$n,t.Renderer=Fn,t.Canvas=Wn,t.canvas=Vn,t.Path=mn,t.CircleMarker=gn,t.circleMarker=function(t,e){return new gn(t,e)},t.Circle=vn,t.circle=function(t,e,n){return new vn(t,e,n)},t.Polyline=yn,t.polyline=function(t,e){return new yn(t,e)},t.Polygon=_n,t.polygon=function(t,e){return new _n(t,e)},t.Rectangle=Gn,t.rectangle=function(t,e){return new Gn(t,e)},t.Map=N,t.map=function(t,e){return new N(t,e)},window.L);t.noConflict=function(){return window.L=Yn,this},window.L=t}),!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).Annotorious={})}(this,function(j){"use strict";var I,w,R,B,H,F=Object.defineProperty,u=(t,e,n)=>{return i=n,(e="symbol"!=typeof e?e+"":e)in(t=t)?F(t,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[e]=i,n;var i},W={},V=[],U=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Z(t,e){for(var n in e)t[n]=e[n];return t}function q(t){var e=t.parentNode;e&&e.removeChild(t)}function c(t,e,n){var i,o,r,s={};for(r in e)"key"==r?i=e[r]:"ref"==r?o=e[r]:s[r]=e[r];if(2<arguments.length&&(s.children=3<arguments.length?I.call(arguments,2):n),"function"==typeof t&&null!=t.defaultProps)for(r in t.defaultProps)void 0===s[r]&&(s[r]=t.defaultProps[r]);return $(t,s,i,o,null)}function $(t,e,n,i,o){t={type:t,props:e,key:n,ref:i,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==o?++R:o};return null==o&&null!=w.vnode&&w.vnode(t),t}function G(){return{current:null}}function Y(t){return t.children}function x(t,e){this.props=t,this.context=e}function X(t,e){if(null==e)return t.__?X(t.__,t.__.__k.indexOf(t)+1):null;for(var n;e<t.__k.length;e++)if(null!=(n=t.__k[e])&&null!=n.__e)return n.__e;return"function"==typeof t.type?X(t):null}function K(t){(t.__d||(t.__d=!0,!gt.push(t))||J.__r++)&&H===w.debounceRendering||((H=w.debounceRendering)||vt)(J)}function J(){for(var t;J.__r=gt.length;)t=gt.sort(function(t,e){return t.__v.__b-e.__v.__b}),gt=[],t.some(function(t){var e,n,i,o,r;t.__d&&(o=(i=(t=t).__v).__e,r=t.__P)&&(e=[],(n=Z({},i)).__v=i.__v+1,st(r,i,n,t.__n,void 0!==r.ownerSVGElement,null!=i.__h?[o]:null,e,null==o?X(i):o,i.__h),at(e,i),i.__e!=o)&&function t(e){var n,i;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,n=0;n<e.__k.length;n++)if(null!=(i=e.__k[n])&&null!=i.__e){e.__e=e.__c.base=i.__e;break}return t(e)}}(i)})}function Q(t,e,n,i,o,r,s,a,l,u){var c,h,d,p,f,m,g,v=i&&i.__k||V,y=v.length;for(n.__k=[],c=0;c<e.length;c++)if(null!=(p=n.__k[c]=null==(p=e[c])||"boolean"==typeof p?null:"string"==typeof p||"number"==typeof p||"bigint"==typeof p?$(null,p,null,null,p):Array.isArray(p)?$(Y,{children:p},null,null,null):0<p.__b?$(p.type,p.props,p.key,null,p.__v):p)){if(p.__=n,p.__b=n.__b+1,null===(d=v[c])||d&&p.key==d.key&&p.type===d.type)v[c]=void 0;else for(h=0;h<y;h++){if((d=v[h])&&p.key==d.key&&p.type===d.type){v[h]=void 0;break}d=null}st(t,p,d=d||W,o,r,s,a,l,u),f=p.__e,(h=p.ref)&&d.ref!=h&&(g=g||[],d.ref&&g.push(d.ref,null,p),g.push(h,p.__c||f,p)),null!=f?(null==m&&(m=f),"function"==typeof p.type&&p.__k===d.__k?p.__d=l=function t(e,n,i){for(var o,r=e.__k,s=0;r&&s<r.length;s++)(o=r[s])&&(o.__=e,n="function"==typeof o.type?t(o,n,i):et(i,o,o,r,o.__e,n));return n}(p,l,t):l=et(t,p,d,v,f,l),"function"==typeof n.type&&(n.__d=l)):l&&d.__e==l&&l.parentNode!=t&&(l=X(d))}for(n.__e=m,c=y;c--;)null!=v[c]&&("function"==typeof n.type&&null!=v[c].__e&&v[c].__e==n.__d&&(n.__d=X(i,c+1)),function t(e,n,i){var o,r;if(w.unmount&&w.unmount(e),!(o=e.ref)||o.current&&o.current!==e.__e||lt(o,null,n),null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(t){w.__e(t,n)}o.base=o.__P=null}if(o=e.__k)for(r=0;r<o.length;r++)o[r]&&t(o[r],n,"function"!=typeof e.type);i||null==e.__e||q(e.__e),e.__e=e.__d=void 0}(v[c],v[c]));if(g)for(c=0;c<g.length;c++)lt(g[c],g[++c],g[++c])}function tt(t,e){return e=e||[],null!=t&&"boolean"!=typeof t&&(Array.isArray(t)?t.some(function(t){tt(t,e)}):e.push(t)),e}function et(t,e,n,i,o,r){var s,a,l;if(void 0!==e.__d)s=e.__d,e.__d=void 0;else if(null==n||o!=r||null==o.parentNode)t:if(null==r||r.parentNode!==t)t.appendChild(o),s=null;else{for(a=r,l=0;(a=a.nextSibling)&&l<i.length;l+=2)if(a==o)break t;t.insertBefore(o,r),s=r}return void 0!==s?s:o.nextSibling}function nt(t,e,n){"-"===e[0]?t.setProperty(e,n):t[e]=null==n?"":"number"!=typeof n||U.test(e)?n:n+"px"}function it(t,e,n,i,o){var r;t:if("style"===e)if("string"==typeof n)t.style.cssText=n;else{if("string"==typeof i&&(t.style.cssText=i=""),i)for(e in i)n&&e in n||nt(t.style,e,"");if(n)for(e in n)i&&n[e]===i[e]||nt(t.style,e,n[e])}else if("o"===e[0]&&"n"===e[1])r=e!==(e=e.replace(/Capture$/,"")),e=(e.toLowerCase()in t?e.toLowerCase():e).slice(2),t.l||(t.l={}),(t.l[e+r]=n)?i||t.addEventListener(e,r?rt:ot,r):t.removeEventListener(e,r?rt:ot,r);else if("dangerouslySetInnerHTML"!==e){if(o)e=e.replace(/xlink[H:h]/,"h").replace(/sName$/,"s");else if("href"!==e&&"list"!==e&&"form"!==e&&"tabIndex"!==e&&"download"!==e&&e in t)try{t[e]=null==n?"":n;break t}catch{}"function"!=typeof n&&(null!=n&&(!1!==n||"a"===e[0]&&"r"===e[1])?t.setAttribute(e,n):t.removeAttribute(e))}}function ot(t){this.l[t.type+!1](w.event?w.event(t):t)}function rt(t){this.l[t.type+!0](w.event?w.event(t):t)}function st(t,e,n,i,o,r,s,a,l){var u,c,h,d,p,f,m,g,v,y,_,b=e.type;if(void 0===e.constructor){null!=n.__h&&(l=n.__h,a=e.__e=n.__e,e.__h=null,r=[a]),(u=w.__b)&&u(e);try{t:if("function"==typeof b){if(g=e.props,v=(u=b.contextType)&&i[u.__c],y=u?v?v.props.value:u.__:i,n.__c?m=(c=e.__c=n.__c).__=c.__E:("prototype"in b&&b.prototype.render?e.__c=c=new b(g,y):(e.__c=c=new x(g,y),c.constructor=b,c.render=ut),v&&v.sub(c),c.props=g,c.state||(c.state={}),c.context=y,c.__n=i,h=c.__d=!0,c.__h=[]),null==c.__s&&(c.__s=c.state),null!=b.getDerivedStateFromProps&&(c.__s==c.state&&(c.__s=Z({},c.__s)),Z(c.__s,b.getDerivedStateFromProps(g,c.__s))),d=c.props,p=c.state,h)null==b.getDerivedStateFromProps&&null!=c.componentWillMount&&c.componentWillMount(),null!=c.componentDidMount&&c.__h.push(c.componentDidMount);else{if(null==b.getDerivedStateFromProps&&g!==d&&null!=c.componentWillReceiveProps&&c.componentWillReceiveProps(g,y),!c.__e&&null!=c.shouldComponentUpdate&&!1===c.shouldComponentUpdate(g,c.__s,y)||e.__v===n.__v){c.props=g,c.state=c.__s,e.__v!==n.__v&&(c.__d=!1),(c.__v=e).__e=n.__e,e.__k=n.__k,e.__k.forEach(function(t){t&&(t.__=e)}),c.__h.length&&s.push(c);break t}null!=c.componentWillUpdate&&c.componentWillUpdate(g,c.__s,y),null!=c.componentDidUpdate&&c.__h.push(function(){c.componentDidUpdate(d,p,f)})}c.context=y,c.props=g,c.state=c.__s,(u=w.__r)&&u(e),c.__d=!1,c.__v=e,c.__P=t,u=c.render(c.props,c.state,c.context),c.state=c.__s,null!=c.getChildContext&&(i=Z(Z({},i),c.getChildContext())),h||null==c.getSnapshotBeforeUpdate||(f=c.getSnapshotBeforeUpdate(d,p)),_=null!=u&&u.type===Y&&null==u.key?u.props.children:u,Q(t,Array.isArray(_)?_:[_],e,n,i,o,r,s,a,l),c.base=e.__e,e.__h=null,c.__h.length&&s.push(c),m&&(c.__E=c.__=null),c.__e=!1}else null==r&&e.__v===n.__v?(e.__k=n.__k,e.__e=n.__e):e.__e=function(t,e,n,i,o,r,s,a){var l,u,c,h=n.props,d=e.props,p=e.type,f=0;if("svg"===p&&(o=!0),null!=r)for(;f<r.length;f++)if((l=r[f])&&"setAttribute"in l==!!p&&(p?l.localName===p:3===l.nodeType)){t=l,r[f]=null;break}if(null==t){if(null===p)return document.createTextNode(d);t=o?document.createElementNS("http://www.w3.org/2000/svg",p):document.createElement(p,d.is&&d),r=null,a=!1}if(null===p)h===d||a&&t.data===d||(t.data=d);else{if(r=r&&I.call(t.childNodes),u=(h=n.props||W).dangerouslySetInnerHTML,c=d.dangerouslySetInnerHTML,!a){if(null!=r)for(h={},f=0;f<t.attributes.length;f++)h[t.attributes[f].name]=t.attributes[f].value;!c&&!u||c&&(u&&c.__html==u.__html||c.__html===t.innerHTML)||(t.innerHTML=c&&c.__html||"")}if(function(t,e,n,i,o){for(var r in n)"children"===r||"key"===r||r in e||it(t,r,null,n[r],i);for(r in e)o&&"function"!=typeof e[r]||"children"===r||"key"===r||"value"===r||"checked"===r||n[r]===e[r]||it(t,r,e[r],n[r],i)}(t,d,h,o,a),c)e.__k=[];else if(f=e.props.children,Q(t,Array.isArray(f)?f:[f],e,n,i,o&&"foreignObject"!==p,r,s,r?r[0]:n.__k&&X(n,0),a),null!=r)for(f=r.length;f--;)null!=r[f]&&q(r[f]);a||("value"in d&&void 0!==(f=d.value)&&(f!==h.value||f!==t.value||"progress"===p&&!f)&&it(t,"value",f,h.value,!1),"checked"in d&&void 0!==(f=d.checked)&&f!==t.checked&&it(t,"checked",f,h.checked,!1))}return t}(n.__e,e,n,i,o,r,s,l);(u=w.diffed)&&u(e)}catch(t){e.__v=null,!l&&null==r||(e.__e=a,e.__h=!!l,r[r.indexOf(a)]=null),w.__e(t,e,n)}}}function at(t,e){w.__c&&w.__c(e,t),t.some(function(e){try{t=e.__h,e.__h=[],t.some(function(t){t.call(e)})}catch(t){w.__e(t,e.__v)}})}function lt(t,e,n){try{"function"==typeof t?t(e):t.current=e}catch(t){w.__e(t,n)}}function ut(t,e,n){return this.constructor(t,n)}function ct(t,e,n){var i,o,r;w.__&&w.__(t,e),o=(i="function"==typeof n)?null:n&&n.__k||e.__k,r=[],st(e,t=(!i&&n||e).__k=c(Y,null,[t]),o||W,W,void 0!==e.ownerSVGElement,!i&&n?[n]:!o&&e.firstChild?I.call(e.childNodes):null,r,!i&&n?n:o?o.__e:e.firstChild,i),at(r,t)}function ht(t,e){ct(t,e,ht)}function dt(t,e,n){var i,o,r,s=Z({},t.props);for(r in e)"key"==r?i=e[r]:"ref"==r?o=e[r]:s[r]=e[r];return 2<arguments.length&&(s.children=3<arguments.length?I.call(arguments,2):n),$(t.type,s,i||t.key,o||t.ref,null)}function pt(t,i){t={__c:i="__cC"+yt++,__:t,Consumer:function(t,e){return t.children(e)},Provider:function(t){var n,e;return this.getChildContext||(n=[],((e={})[i]=this).getChildContext=function(){return e},this.shouldComponentUpdate=function(t){this.props.value!==t.value&&n.some(K)},this.sub=function(t){n.push(t);var e=t.componentWillUnmount;t.componentWillUnmount=function(){n.splice(n.indexOf(t),1),e&&e.call(t)}}),t.children}};return t.Provider.__=t.Consumer.contextType=t}I=V.slice,w={__e:function(e,t){for(var n,i,o;t=t.__;)if((n=t.__c)&&!n.__)try{if((i=n.constructor)&&null!=i.getDerivedStateFromError&&(n.setState(i.getDerivedStateFromError(e)),o=n.__d),null!=n.componentDidCatch&&(n.componentDidCatch(e),o=n.__d),o)return n.__E=n}catch(t){e=t}throw e}},R=0,B=function(t){return null!=t&&void 0===t.constructor},x.prototype.setState=function(t,e){var n=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=Z({},this.state);(t="function"==typeof t?t(Z({},n),this.props):t)&&Z(n,t),null!=t&&this.__v&&(e&&this.__h.push(e),K(this))},x.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),K(this))},x.prototype.render=Y;var ft,o,mt,gt=[],vt="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,yt=J.__r=0,_t=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",render:ct,hydrate:ht,createElement:c,h:c,Fragment:Y,createRef:G,get isValidElement(){return B},Component:x,cloneElement:dt,createContext:pt,toChildArray:tt,get options(){return w}}),bt=0,wt=[],xt=w.__b,St=w.__r,Ct=w.diffed,Et=w.__c,At=w.unmount;function Tt(t,e){w.__h&&w.__h(o,t,bt||e),bt=0;e=o.__H||(o.__H={__:[],__h:[]});return t>=e.__.length&&e.__.push({}),e.__[t]}function Pt(t){return bt=1,Ot(Vt,t)}function Ot(t,e,n){var i=Tt(ft++,2);return i.t=t,i.__c||(i.__=[n?n(e):Vt(void 0,e),function(t){t=i.t(i.__[0],t);i.__[0]!==t&&(i.__=[t,i.__[1]],i.__c.setState({}))}],i.__c=o),i.__}function kt(t,e){var n=Tt(ft++,3);!w.__s&&Wt(n.__H,e)&&(n.__=t,n.__H=e,o.__H.__h.push(n))}function Lt(t,e){var n=Tt(ft++,4);!w.__s&&Wt(n.__H,e)&&(n.__=t,n.__H=e,o.__h.push(n))}function Mt(t){return bt=5,Nt(function(){return{current:t}},[])}function Dt(t,e,n){bt=6,Lt(function(){"function"==typeof t?t(e()):t&&(t.current=e())},null==n?n:n.concat(t))}function Nt(t,e){var n=Tt(ft++,7);return Wt(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function zt(t,e){return bt=8,Nt(function(){return t},e)}function jt(t){var e=o.context[t.__c],n=Tt(ft++,9);return n.c=t,e?(null==n.__&&(n.__=!0,e.sub(o)),e.props.value):t.__}function It(t,e){w.useDebugValue&&w.useDebugValue(e?e(t):t)}function Rt(){var e;for(wt.sort(function(t,e){return t.__v.__b-e.__v.__b});e=wt.pop();)if(e.__P)try{e.__H.__h.forEach(Ht),e.__H.__h.forEach(Ft),e.__H.__h=[]}catch(t){e.__H.__h=[],w.__e(t,e.__v)}}w.__b=function(t){o=null,xt&&xt(t)},w.__r=function(t){St&&St(t),ft=0;t=(o=t.__c).__H;t&&(t.__h.forEach(Ht),t.__h.forEach(Ft),t.__h=[])},w.diffed=function(t){Ct&&Ct(t);t=t.__c;t&&t.__H&&t.__H.__h.length&&(1!==wt.push(t)&&mt===w.requestAnimationFrame||((mt=w.requestAnimationFrame)||function(t){function e(){clearTimeout(i),Bt&&cancelAnimationFrame(n),setTimeout(t)}var n,i=setTimeout(e,100);Bt&&(n=requestAnimationFrame(e))})(Rt)),o=null},w.__c=function(t,n){n.some(function(e){try{e.__h.forEach(Ht),e.__h=e.__h.filter(function(t){return!t.__||Ft(t)})}catch(t){n.some(function(t){t.__h&&(t.__h=[])}),n=[],w.__e(t,e.__v)}}),Et&&Et(t,n)},w.unmount=function(t){At&&At(t);var e,t=t.__c;t&&t.__H&&(t.__H.__.forEach(function(t){try{Ht(t)}catch(t){e=t}}),e)&&w.__e(e,t.__v)};var Bt="function"==typeof requestAnimationFrame;function Ht(t){var e=o,n=t.__c;"function"==typeof n&&(t.__c=void 0,n()),o=e}function Ft(t){var e=o;t.__c=t.__(),o=e}function Wt(n,t){return!n||n.length!==t.length||t.some(function(t,e){return t!==n[e]})}function Vt(t,e){return"function"==typeof e?e(t):e}function Ut(t,e){for(var n in e)t[n]=e[n];return t}function Zt(t,e){for(var n in t)if("__source"!==n&&!(n in e))return!0;for(var i in e)if("__source"!==i&&t[i]!==e[i])return!0;return!1}function qt(t){this.props=t}function $t(e,i){function n(t){var e=this.props.ref,n=e==t.ref;return!n&&e&&(e.call?e(null):e.current=null),i?!i(this.props,t)||!n:Zt(this.props,t)}function t(t){return this.shouldComponentUpdate=n,c(e,t)}return t.displayName="Memo("+(e.displayName||e.name)+")",t.prototype.isReactComponent=!0,t.__f=!0,t}(qt.prototype=new x).isPureReactComponent=!0,qt.prototype.shouldComponentUpdate=function(t,e){return Zt(this.props,t)||Zt(this.state,e)};var Gt=w.__b,Yt=(w.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Gt&&Gt(t)},"undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.forward_ref")||3911);function Xt(i){function t(t,e){var n=Ut({},t);return delete n.ref,i(n,(e=t.ref||e)&&("object"!=typeof e||"current"in e)?e:null)}return t.$$typeof=Yt,(t.render=t).prototype.isReactComponent=t.__f=!0,t.displayName="ForwardRef("+(i.displayName||i.name)+")",t}function Kt(t,e){return null==t?null:tt(tt(t).map(e))}var Jt={map:Kt,forEach:Kt,count:function(t){return t?tt(t).length:0},only:function(t){t=tt(t);if(1!==t.length)throw"Children.only";return t[0]},toArray:tt},Qt=w.__e,te=(w.__e=function(t,e,n){if(t.then)for(var i,o=e;o=o.__;)if((i=o.__c)&&i.__c)return null==e.__e&&(e.__e=n.__e,e.__k=n.__k),i.__c(t,e);Qt(t,e,n)},w.unmount);function ee(){this.__u=0,this.t=null,this.__b=null}function ne(t){var e=t.__.__c;return e&&e.__e&&e.__e(t)}function ie(e){var n,i,o;function t(t){if(n||(n=e()).then(function(t){i=t.default||t},function(t){o=t}),o)throw o;if(i)return c(i,t);throw n}return t.displayName="Lazy",t.__f=!0,t}function oe(){this.u=null,this.o=null}w.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&!0===t.__h&&(t.type=null),te&&te(t)},(ee.prototype=new x).__c=function(t,e){function n(){s||(s=!0,i.__R=null,r?r(a):a())}var i=e.__c,o=this,r=(null==o.t&&(o.t=[]),o.t.push(i),ne(o.__v)),s=!1,a=(i.__R=n,function(){var t,e;if(!--o.__u)for(o.state.__e&&(t=o.state.__e,o.__v.__k[0]=function e(t,n,i){return t&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)}),t.__c)&&t.__c.__P===n&&(t.__e&&i.insertBefore(t.__e,t.__d),t.__c.__e=!0,t.__c.__P=i),t}(t,t.__c.__P,t.__c.__O)),o.setState({__e:o.__b=null});e=o.t.pop();)e.forceUpdate()}),e=!0===e.__h;o.__u++||e||o.setState({__e:o.__b=o.__v.__k[0]}),t.then(n,n)},ee.prototype.componentWillUnmount=function(){this.t=[]},ee.prototype.render=function(t,e){this.__b&&(this.__v.__k&&(i=document.createElement("div"),n=this.__v.__k[0].__c,this.__v.__k[0]=function e(t,n,i){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(t){"function"==typeof t.__c&&t.__c()}),t.__c.__H=null),null!=(t=Ut({},t)).__c&&(t.__c.__P===i&&(t.__c.__P=n),t.__c=null),t.__k=t.__k&&t.__k.map(function(t){return e(t,n,i)})),t}(this.__b,i,n.__O=n.__P)),this.__b=null);var n,i=e.__e&&c(Y,null,t.fallback);return i&&(i.__h=null),[c(Y,null,e.__e?null:t.children),i]};function re(t,e,n){if(++n[1]===n[0]&&t.o.delete(e),t.props.revealOrder&&("t"!==t.props.revealOrder[0]||!t.o.size))for(n=t.u;n;){for(;3<n.length;)n.pop()();if(n[1]<n[0])break;t.u=n=n[2]}}function se(t){return this.getChildContext=function(){return t.context},t.children}function ae(t){var n=this,e=t.i;n.componentWillUnmount=function(){ct(null,n.l),n.l=null,n.i=null},n.i&&n.i!==e&&n.componentWillUnmount(),t.__v?(n.l||(n.i=e,n.l={nodeType:1,parentNode:e,childNodes:[],appendChild:function(t){this.childNodes.push(t),n.i.appendChild(t)},insertBefore:function(t,e){this.childNodes.push(t),n.i.appendChild(t)},removeChild:function(t){this.childNodes.splice(this.childNodes.indexOf(t)>>>1,1),n.i.removeChild(t)}}),ct(c(se,{context:n.context},t.__v),n.l)):n.l&&n.componentWillUnmount()}function le(t,e){return c(ae,{__v:t,i:e})}(oe.prototype=new x).__e=function(n){var i=this,o=ne(i.__v),r=i.o.get(n);return r[0]++,function(t){function e(){i.props.revealOrder?(r.push(t),re(i,n,r)):t()}o?o(e):e()}},oe.prototype.render=function(t){this.u=null,this.o=new Map;var e=tt(t.children);t.revealOrder&&"b"===t.revealOrder[0]&&e.reverse();for(var n=e.length;n--;)this.o.set(e[n],this.u=[1,0,this.u]);return t.children},oe.prototype.componentDidUpdate=oe.prototype.componentDidMount=function(){var n=this;this.o.forEach(function(t,e){re(n,e,t)})};var ue="undefined"!=typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103,ce=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|marker(?!H|W|U)|overline|paint|stop|strikethrough|stroke|text(?!L)|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,he="undefined"!=typeof document;function de(t,e,n){return null==e.__k&&(e.textContent=""),ct(t,e),"function"==typeof n&&n(),t?t.__c:null}function pe(t,e,n){return ht(t,e),"function"==typeof n&&n(),t?t.__c:null}x.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(e){Object.defineProperty(x.prototype,e,{configurable:!0,get:function(){return this["UNSAFE_"+e]},set:function(t){Object.defineProperty(this,e,{configurable:!0,writable:!0,value:t})}})});var fe=w.event;function me(){}function ge(){return this.cancelBubble}function ve(){return this.defaultPrevented}w.event=function(t){return(t=fe?fe(t):t).persist=me,t.isPropagationStopped=ge,t.isDefaultPrevented=ve,t.nativeEvent=t};var ye,_e={configurable:!0,get:function(){return this.class}},be=w.vnode,we=(w.vnode=function(t){var e,n=t.type,i=t.props,o=i;if("string"==typeof n){var r,s=-1===n.indexOf("-"),o={};for(r in i){var a=i[r];he&&"children"===r&&"noscript"===n||"value"===r&&"defaultValue"in i&&null==a||("defaultValue"===r&&"value"in i&&null==i.value?r="value":"download"===r&&!0===a?a="":/ondoubleclick/i.test(r)?r="ondblclick":/^onchange(textarea|input)/i.test(r+n)&&(e=i.type,!("undefined"!=typeof Symbol&&"symbol"==typeof Symbol()?/fil|che|rad/i:/fil|che|ra/i).test(e))?r="oninput":/^onfocus$/i.test(r)?r="onfocusin":/^onblur$/i.test(r)?r="onfocusout":/^on(Ani|Tra|Tou|BeforeInp)/.test(r)?r=r.toLowerCase():s&&ce.test(r)?r=r.replace(/[A-Z0-9]/,"-$&").toLowerCase():null===a&&(a=void 0),o[r]=a)}"select"==n&&o.multiple&&Array.isArray(o.value)&&(o.value=tt(i.children).forEach(function(t){t.props.selected=-1!=o.value.indexOf(t.props.value)})),"select"==n&&null!=o.defaultValue&&(o.value=tt(i.children).forEach(function(t){t.props.selected=o.multiple?-1!=o.defaultValue.indexOf(t.props.value):o.defaultValue==t.props.value})),t.props=o,i.class!=i.className&&(_e.enumerable="className"in i,null!=i.className&&(o.class=i.className),Object.defineProperty(o,"className",_e))}t.$$typeof=ue,be&&be(t)},w.__r),xe=(w.__r=function(t){we&&we(t),ye=t.__c},{ReactCurrentDispatcher:{current:{readContext:function(t){return ye.__n[t.__c].props.value}}}});function Se(t){return c.bind(null,t)}function Ce(t){return!!t&&t.$$typeof===ue}function Ee(t){return Ce(t)?dt.apply(null,arguments):t}function Ae(t){return!!t.__k&&(ct(null,t),!0)}function Te(t){return t&&(t.base||1===t.nodeType&&t)||null}function Pe(t,e){return t(e)}function Oe(t,e){return t(e)}var k={useState:Pt,useReducer:Ot,useEffect:kt,useLayoutEffect:Lt,useRef:Mt,useImperativeHandle:Dt,useMemo:Nt,useCallback:zt,useContext:jt,useDebugValue:It,version:"17.0.2",Children:Jt,render:de,hydrate:pe,unmountComponentAtNode:Ae,createPortal:le,createElement:c,createContext:pt,createFactory:Se,cloneElement:Ee,createRef:G,Fragment:Y,isValidElement:Ce,findDOMNode:Te,Component:x,PureComponent:qt,memo:$t,forwardRef:Xt,flushSync:Oe,unstable_batchedUpdates:Pe,StrictMode:Y,Suspense:ee,SuspenseList:oe,lazy:ie,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xe},Jt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:k,version:"17.0.2",Children:Jt,render:de,hydrate:pe,unmountComponentAtNode:Ae,createPortal:le,createFactory:Se,cloneElement:Ee,isValidElement:Ce,findDOMNode:Te,PureComponent:qt,memo:$t,forwardRef:Xt,flushSync:Oe,unstable_batchedUpdates:Pe,StrictMode:Y,Suspense:ee,SuspenseList:oe,lazy:ie,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:xe,createElement:c,createContext:pt,createRef:G,Fragment:Y,Component:x,useState:Pt,useReducer:Ot,useEffect:kt,useLayoutEffect:Lt,useRef:Mt,useImperativeHandle:Dt,useMemo:Nt,useCallback:zt,useContext:jt,useDebugValue:It,useErrorBoundary:function(t){var e=Tt(ft++,10),n=Pt();return e.__=t,o.componentDidCatch||(o.componentDidCatch=function(t){e.__&&e.__(t),n[1](t)}),[n[0],function(){n[1](void 0)}]}}),xe="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function ke(n){var i;return n.__esModule?n:(i=Object.defineProperty({},"__esModule",{value:!0}),Object.keys(n).forEach(function(t){var e=Object.getOwnPropertyDescriptor(n,t);Object.defineProperty(i,t,e.get?e:{enumerable:!0,get:function(){return n[t]}})}),i)}var t={exports:{}};function Le(){}Le.prototype={on:function(t,e,n){var i=this.e||(this.e={});return(i[t]||(i[t]=[])).push({fn:e,ctx:n}),this},once:function(t,e,n){var i=this;function o(){i.off(t,o),e.apply(n,arguments)}return o._=e,this.on(t,o,n)},emit:function(t){for(var e=[].slice.call(arguments,1),n=((this.e||(this.e={}))[t]||[]).slice(),i=0,o=n.length;i<o;i++)n[i].fn.apply(n[i].ctx,e);return this},off:function(t,e){var n=this.e||(this.e={}),i=n[t],o=[];if(i&&e)for(var r=0,s=i.length;r<s;r++)i[r].fn!==e&&i[r].fn._!==e&&o.push(i[r]);return o.length?n[t]=o:delete n[t],this}},t.exports=Le,t.exports.TinyEmitter=Le;var Me=t.exports;const h="http://www.w3.org/2000/svg",De=t=>{t=t.getAttribute("class");return t?new Set(t.split(" ")):new Set},Ne=(t,e)=>{var n=De(t);n.add(e),t.setAttribute("class",Array.from(n).join(" "))},ze=(t,e)=>De(t).has(e),je=(o,r)=>{o=o.selector("FragmentSelector");if(null!=o&&o.conformsTo.startsWith("http://www.w3.org/TR/media-frags")){var o=o["value"],s=o.includes(":")?o.substring(o.indexOf("=")+1,o.indexOf(":")):"pixel";let[t,e,n,i]=(o.includes(":")?o.substring(o.indexOf(":")+1):o.substring(o.indexOf("=")+1)).split(",").map(parseFloat);return"percent"===s.toLowerCase()&&(t=t*r.naturalWidth/100,e=e*r.naturalHeight/100,n=n*r.naturalWidth/100,i=i*r.naturalHeight/100),{x:t,y:e,w:n,h:i}}},Ie=(t,e,n,i,o,r)=>{var s,a,l;return"percent"===(null==r?void 0:r.toLowerCase())?(r=e,s=n,a=i,l=(l=t)/o.naturalWidth*100,r=e/o.naturalHeight*100,s=n/o.naturalWidth*100,a=i/o.naturalHeight*100,{source:o.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=percent:${l},${r},${s},`+a}}):{source:null==(l=o)?void 0:l.src,selector:{type:"FragmentSelector",conformsTo:"http://www.w3.org/TR/media-frags/",value:`xywh=pixel:${t},${e},${n},`+i}}},Re=(t,e,n,i,o)=>{t.setAttribute("x",e),t.setAttribute("y",n),t.setAttribute("width",i),t.setAttribute("height",o)},Be=(t,e,n)=>{t.setAttribute("cx",e),t.setAttribute("cy",n),t.setAttribute("r",7)},He=(t,e,n,i,o)=>{var r=document.createElementNS(h,"path"),{naturalWidth:t,naturalHeight:s}=(r.setAttribute("fill-rule","evenodd"),t);return r.setAttribute("d",`M0 0 h${t} v${s} h-${t} z M${e} ${n} h${i} v${o} h-${i} z`),r},Fe=(t,e,n,i,o,r)=>{var{naturalWidth:e,naturalHeight:s}=e;t.setAttribute("d",`M0 0 h${e} v${s} h-${e} z M${n} ${i} h${o} v${r} h-${o} z`)},We=(t,e,n,i)=>{var o,r,{x:t,y:e,w:n,h:i}="Annotation"===t.type||"Selection"===t.type?je(t,e):{x:t,y:e,w:n,h:i},s=document.createElementNS(h,"g");return 0===n&&0===i?(Ne(s,"a9s-point"),Ne(s,"a9s-non-scaling"),s.setAttribute("transform-origin",t+" "+e),o=document.createElementNS(h,"circle"),(r=document.createElementNS(h,"circle")).setAttribute("class","a9s-inner"),Be(r,t,e),o.setAttribute("class","a9s-outer"),Be(o,t,e),s.appendChild(o),s.appendChild(r)):(o=document.createElementNS(h,"rect"),(r=document.createElementNS(h,"rect")).setAttribute("class","a9s-inner"),Re(r,t,e,n,i),o.setAttribute("class","a9s-outer"),Re(o,t,e,n,i),s.appendChild(o),s.appendChild(r)),s},Ve=t=>{t=t.querySelector(".a9s-outer");return"rect"===t.nodeName?{x:parseFloat(t.getAttribute("x")),y:parseFloat(t.getAttribute("y")),w:parseFloat(t.getAttribute("width")),h:parseFloat(t.getAttribute("height"))}:{x:parseFloat(t.getAttribute("cx")),y:parseFloat(t.getAttribute("cy")),w:0,h:0}},Ue=(t,e,n,i,o)=>{var r=t.querySelector(".a9s-inner"),t=t.querySelector(".a9s-outer");"rect"===t.nodeName?(Re(r,e,n,i,o),Re(t,e,n,i,o)):(Be(r,e,n),Be(t,e,n))},Ze=e=>{let n=0,i=e.length-1;for(let t=0;t<e.length;t++)n+=(e[i][0]+e[t][0])*(e[i][1]-e[t][1]),i=t;return Math.abs(.5*n)},qe=(t,e)=>{for(var n of t)if(!((t,n)=>{var i=t[0],o=t[1];let r=!1;for(let t=0,e=n.length-1;t<n.length;e=t++){var s=n[t][0],a=n[t][1],l=n[e][0],u=n[e][1];o<a!=o<u&&i<(l-s)*(o-a)/(u-a)+s&&(r=!r)}return r})(n,e))return!1;return!0},$e=t=>{var e,n=[];let i=[];for(e of t.getAttribute("d").split(/(?=M|m|L|l|H|h|V|v|Z|z)/g).map(t=>t.trim())){var o,r,s=e.substring(0,1);"z"===s.toLowerCase()?(n.push([...i]),i=[]):(o=e.substring(1).split(" ").map(t=>parseFloat(t.trim())),r=(s=s===s.toUpperCase())?o[0]:o[0]+i[i.length-1][0],s=s?o[1]:o[1]+i[i.length-1][1],i.push([r,s]))}return 0<i.length&&n.push([...i]),n},Ge=t=>{t=(new XMLSerializer).serializeToString(t.documentElement).replace("<svg>",`<svg xmlns="${h}">`);return(new DOMParser).parseFromString(t,"image/svg+xml").documentElement},Ye=t=>{var e=e=>{Array.from(e.attributes).forEach(t=>{t.name.startsWith("on")&&e.removeAttribute(t.name)})},n=t.getElementsByTagName("script");return Array.from(n).reverse().forEach(t=>t.parentNode.removeChild(t)),e(t),Array.from(t.querySelectorAll("*")).forEach(e),t},Xe=t=>{var e,n,t=t.selector("SvgSelector");if(t)return t=t["value"],e=(t=(new DOMParser).parseFromString(t,"image/svg+xml")).lookupPrefix(h),n=t.lookupNamespaceURI(null),(e||n?Ye(t):Ye(Ge(t))).firstChild},Ke=t=>{var t=Xe(t),e=document.createElementNS(h,"g"),n=t.cloneNode(!0),t=(n.setAttribute("class","a9s-inner"),t.cloneNode(!0));return t.setAttribute("class","a9s-outer"),e.appendChild(t),e.appendChild(n),e},Je=(t,e)=>{t=t.querySelector(".a9s-inner").cloneNode(!0);t.removeAttribute("class"),t.removeAttribute("xmlns");let n=t.outerHTML||(new XMLSerializer).serializeToString(t);return n=n.replace(` xmlns="${h}"`,""),{source:null==e?void 0:e.src,selector:{type:"SvgSelector",value:`<svg>${n}</svg>`}}},Qe={FragmentSelector:We,SvgSelector:Ke},tn={FragmentSelector:(t,e)=>{var{w:t,h:e}=je(t,e);return t*e},SvgSelector:t=>{var e,n,t=Xe(t),i=t.nodeName.toLowerCase();if("polygon"===i)return e=t.getAttribute("points").trim().split(" ").map(t=>t.split(",").map(t=>parseFloat(t.trim()))),Ze(e);if("circle"===i)return(e=t.getAttribute("r"))*e*Math.PI;if("ellipse"===i)return o=(n=t).getAttribute("rx"),n=n.getAttribute("ry"),o*n*Math.PI;if("path"==i){var o=t;const s=$e(o);if(1==s.length)return Ze(s[0]);{var r;let t=0;for(r of s)(e=>s.find(t=>{if(e!==t)return qe(e,t)}))(r)?t-=Ze(r):t+=Ze(r);return t}}if("line"==i)return 0;throw"Unsupported SVG shape type: "+i}},en=t=>{t=t.targets[0];if(t)return Array.isArray(t.selector)?t.selector[0]:t.selector},nn=(t,e)=>tn[en(t).type](t,e);var t={exports:{}},e={},Jt=ke(Jt),on={exports:{}};function rn(){}function sn(){}sn.resetWarningCache=rn;function an(t,e,n,i,o,r){if("SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"!==r)throw(r=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")).name="Invariant Violation",r}function ln(){return an}on.exports=(n={array:an.isRequired=an,bigint:an,bool:an,func:an,number:an,object:an,string:an,symbol:an,any:an,arrayOf:ln,element:an,elementType:an,instanceOf:ln,node:an,objectOf:ln,oneOf:ln,oneOfType:ln,shape:ln,exact:ln,checkPropTypes:sn,resetWarningCache:rn}).PropTypes=n;var n=ke(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:function(){for(var t,e=0,n="";e<arguments.length;)(t=arguments[e++])&&(t=function t(e){var n,i,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(n=0;n<e.length;n++)e[n]&&(i=t(e[n]))&&(o&&(o+=" "),o+=i);else for(n in e)e[n]&&(o&&(o+=" "),o+=n);return o}(t))&&(n&&(n+=" "),n+=t);return n}})),i={},r={};Object.defineProperty(r,"__esModule",{value:!0}),r.findInArray=function(t,e){for(var n=0,i=t.length;n<i;n++)if(e.apply(e,[t[n],n,t]))return t[n]},r.isFunction=function(t){return"function"==typeof t||"[object Function]"===Object.prototype.toString.call(t)},r.isNum=function(t){return"number"==typeof t&&!isNaN(t)},r.int=function(t){return parseInt(t,10)},r.dontSetMe=function(t,e,n){if(t[e])return new Error("Invalid prop ".concat(e," passed to ").concat(n," - do not set this, set it on the child."))};var s={},un=(Object.defineProperty(s,"__esModule",{value:!0}),s.getPrefix=cn,s.browserPrefixToKey=hn,s.browserPrefixToStyle=function(t,e){return e?"-".concat(e.toLowerCase(),"-").concat(t):t},s.default=void 0,["Moz","Webkit","O","ms"]);function cn(){var t,e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"transform";if("undefined"!=typeof window){var n=null==(t=window.document)||null==(t=t.documentElement)?void 0:t.style;if(n&&!(e in n))for(var i=0;i<un.length;i++)if(hn(e,un[i])in n)return un[i]}return""}function hn(t,e){return e?"".concat(e).concat(function(t){for(var e="",n=!0,i=0;i<t.length;i++)n?(e+=t[i].toUpperCase(),n=!1):"-"===t[i]?n=!0:e+=t[i];return e}(t)):t}var a=cn();function dn(t){return(dn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}s.default=a,Object.defineProperty(i,"__esModule",{value:!0}),i.matchesSelector=bn,i.matchesSelectorAndParentsTo=function(t,e,n){var i=t;do{if(bn(i,e))return!0;if(i===n)return!1}while(i=i.parentNode,i);return!1},i.addEvent=function(t,e,n,i){t&&(i=vn({capture:!0},i),t.addEventListener?t.addEventListener(e,n,i):t.attachEvent?t.attachEvent("on"+e,n):t["on"+e]=n)},i.removeEvent=function(t,e,n,i){t&&(i=vn({capture:!0},i),t.removeEventListener?t.removeEventListener(e,n,i):t.detachEvent?t.detachEvent("on"+e,n):t["on"+e]=null)},i.outerHeight=function(t){var e=t.clientHeight,t=t.ownerDocument.defaultView.getComputedStyle(t);return e=(e+=(0,pn.int)(t.borderTopWidth))+(0,pn.int)(t.borderBottomWidth)},i.outerWidth=function(t){var e=t.clientWidth,t=t.ownerDocument.defaultView.getComputedStyle(t);return e=(e+=(0,pn.int)(t.borderLeftWidth))+(0,pn.int)(t.borderRightWidth)},i.innerHeight=function(t){var e=t.clientHeight,t=t.ownerDocument.defaultView.getComputedStyle(t);return e=(e-=(0,pn.int)(t.paddingTop))-(0,pn.int)(t.paddingBottom)},i.innerWidth=function(t){var e=t.clientWidth,t=t.ownerDocument.defaultView.getComputedStyle(t);return e=(e-=(0,pn.int)(t.paddingLeft))-(0,pn.int)(t.paddingRight)},i.offsetXYFromParent=function(t,e,n){var i=e===e.ownerDocument.body?{left:0,top:0}:e.getBoundingClientRect(),o=(t.clientX+e.scrollLeft-i.left)/n,t=(t.clientY+e.scrollTop-i.top)/n;return{x:o,y:t}},i.createCSSTransform=function(t,e){t=wn(t,e,"px");return yn({},(0,fn.browserPrefixToKey)("transform",fn.default),t)},i.createSVGTransform=function(t,e){return wn(t,e,"")},i.getTranslation=wn,i.getTouch=function(t,e){return t.targetTouches&&(0,pn.findInArray)(t.targetTouches,function(t){return e===t.identifier})||t.changedTouches&&(0,pn.findInArray)(t.changedTouches,function(t){return e===t.identifier})},i.getTouchIdentifier=function(t){return t.targetTouches&&t.targetTouches[0]?t.targetTouches[0].identifier:t.changedTouches&&t.changedTouches[0]?t.changedTouches[0].identifier:void 0},i.addUserSelectStyles=function(t){{var e;t&&((e=t.getElementById("react-draggable-style-el"))||((e=t.createElement("style")).type="text/css",e.id="react-draggable-style-el",e.innerHTML=`.react-draggable-transparent-selection *::-moz-selection {all: inherit;}
`,e.innerHTML+=`.react-draggable-transparent-selection *::selection {all: inherit;}
`,t.getElementsByTagName("head")[0].appendChild(e)),t.body)&&xn(t.body,"react-draggable-transparent-selection")}},i.removeUserSelectStyles=function(t){if(t)try{var e;t.body&&Sn(t.body,"react-draggable-transparent-selection"),t.selection?t.selection.empty():(e=(t.defaultView||window).getSelection())&&"Caret"!==e.type&&e.removeAllRanges()}catch{}},i.addClassName=xn,i.removeClassName=Sn;var pn=r,fn=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==dn(t)&&"function"!=typeof t)return{default:t};e=mn(e);if(e&&e.has(t))return e.get(t);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n])}return i.default=t,e&&e.set(t,i),i}(s);function mn(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(mn=function(t){return t?n:e})(t))}function gn(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function vn(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?gn(Object(n),!0).forEach(function(t){yn(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gn(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function yn(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var _n="";function bn(e,t){return _n=_n||(0,pn.findInArray)(["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"],function(t){return(0,pn.isFunction)(e[t])}),!!(0,pn.isFunction)(e[_n])&&e[_n](t)}function wn(t,e,n){var i=t.x,t=t.y,i="translate(".concat(i).concat(n,",").concat(t).concat(n,")");return e&&(t="".concat("string"==typeof e.x?e.x:e.x+n),e="".concat("string"==typeof e.y?e.y:e.y+n),i="translate(".concat(t,", ").concat(e,")")+i),i}function xn(t,e){t.classList?t.classList.add(e):t.className.match(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)")))||(t.className+=" ".concat(e))}function Sn(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(?:^|\\s)".concat(e,"(?!\\S)"),"g"),"")}var a={},Cn=(Object.defineProperty(a,"__esModule",{value:!0}),a.getBoundPosition=function(t,e,n){if(t.props.bounds){var i=t.props.bounds,t=(i="string"==typeof i?i:function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom}}(i),An(t));if("string"==typeof i){var o=t.ownerDocument,r=o.defaultView;if(!((o="parent"===i?t.parentNode:o.querySelector(i))instanceof r.HTMLElement))throw new Error('Bounds selector "'+i+'" could not find an element.');var s=r.getComputedStyle(t),r=r.getComputedStyle(o);i={left:-t.offsetLeft+(0,Cn.int)(r.paddingLeft)+(0,Cn.int)(s.marginLeft),top:-t.offsetTop+(0,Cn.int)(r.paddingTop)+(0,Cn.int)(s.marginTop),right:(0,En.innerWidth)(o)-(0,En.outerWidth)(t)-t.offsetLeft+(0,Cn.int)(r.paddingRight)-(0,Cn.int)(s.marginRight),bottom:(0,En.innerHeight)(o)-(0,En.outerHeight)(t)-t.offsetTop+(0,Cn.int)(r.paddingBottom)-(0,Cn.int)(s.marginBottom)}}(0,Cn.isNum)(i.right)&&(e=Math.min(e,i.right)),(0,Cn.isNum)(i.bottom)&&(n=Math.min(n,i.bottom)),(0,Cn.isNum)(i.left)&&(e=Math.max(e,i.left)),(0,Cn.isNum)(i.top)&&(n=Math.max(n,i.top))}return[e,n]},a.snapToGrid=function(t,e,n){e=Math.round(e/t[0])*t[0],n=Math.round(n/t[1])*t[1];return[e,n]},a.canDragX=function(t){return"both"===t.props.axis||"x"===t.props.axis},a.canDragY=function(t){return"both"===t.props.axis||"y"===t.props.axis},a.getControlPosition=function(t,e,n){var i="number"==typeof e?(0,En.getTouch)(t,e):null;return"number"!=typeof e||i?(e=An(n),e=n.props.offsetParent||e.offsetParent||e.ownerDocument.body,(0,En.offsetXYFromParent)(i||t,e,n.props.scale)):null},a.createCoreData=function(t,e,n){var i=t.state,o=!(0,Cn.isNum)(i.lastX),t=An(t);return o?{node:t,deltaX:0,deltaY:0,lastX:e,lastY:n,x:e,y:n}:{node:t,deltaX:e-i.lastX,deltaY:n-i.lastY,lastX:i.lastX,lastY:i.lastY,x:e,y:n}},a.createDraggableData=function(t,e){var n=t.props.scale;return{node:e.node,x:t.state.x+e.deltaX/n,y:t.state.y+e.deltaY/n,deltaX:e.deltaX/n,deltaY:e.deltaY/n,lastX:t.state.x,lastY:t.state.y}},r),En=i;function An(t){t=t.findDOMNode();if(t)return t;throw new Error("<DraggableCore>: Unmounted during event!")}var s={},l={};function Tn(t){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}Object.defineProperty(l,"__esModule",{value:!0}),l.default=function(){},Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var Pn=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==Tn(t)&&"function"!=typeof t)return{default:t};e=Dn(e);if(e&&e.has(t))return e.get(t);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n])}return i.default=t,e&&e.set(t,i),i}(Jt),d=Mn(on.exports),On=Mn(Jt),p=i,kn=a,f=r,Ln=Mn(l);function Mn(t){return t&&t.__esModule?t:{default:t}}function Dn(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(Dn=function(t){return t?n:e})(t))}function Nn(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}}(t,e)||function(t,e){{var n;if(t)return"string"==typeof t?zn(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?zn(t,e):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function zn(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function jn(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function In(t,e){return(In=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function Rn(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,e=Bn(n),e=(t=i?(t=Bn(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return m(e)}}function m(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function Bn(t){return(Bn=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function Hn(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}var Fn,Wn,Vn,Un,Zn,qn,$n,Gn,Yn={start:"touchstart",move:"touchmove",stop:"touchend"},Xn={start:"mousedown",move:"mousemove",stop:"mouseup"},Kn=Xn,g=function(t){var e=a;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&In(e,t);var n,r=Rn(a);function a(){var s,t=this,e=a;if(!(t instanceof e))throw new TypeError("Cannot call a class as a function");for(var n=arguments.length,i=new Array(n),o=0;o<n;o++)i[o]=arguments[o];return Hn(m(s=r.call.apply(r,[this].concat(i))),"state",{dragging:!1,lastX:NaN,lastY:NaN,touchIdentifier:null}),Hn(m(s),"mounted",!1),Hn(m(s),"handleDragStart",function(t){if(s.props.onMouseDown(t),!s.props.allowAnyClick&&"number"==typeof t.button&&0!==t.button)return!1;var e=s.findDOMNode();if(!e||!e.ownerDocument||!e.ownerDocument.body)throw new Error("<DraggableCore> not mounted on DragStart!");var n,i,o=e.ownerDocument;s.props.disabled||!(t.target instanceof o.defaultView.Node)||s.props.handle&&!(0,p.matchesSelectorAndParentsTo)(t.target,s.props.handle,e)||s.props.cancel&&(0,p.matchesSelectorAndParentsTo)(t.target,s.props.cancel,e)||("touchstart"===t.type&&t.preventDefault(),e=(0,p.getTouchIdentifier)(t),s.setState({touchIdentifier:e}),null!=(e=(0,kn.getControlPosition)(t,e,m(s)))&&(n=e.x,e=e.y,i=(0,kn.createCoreData)(m(s),n,e),(0,Ln.default)("DraggableCore: handleDragStart: %j",i),(0,Ln.default)("calling",s.props.onStart),!1!==s.props.onStart(t,i))&&!1!==s.mounted&&(s.props.enableUserSelectHack&&(0,p.addUserSelectStyles)(o),s.setState({dragging:!0,lastX:n,lastY:e}),(0,p.addEvent)(o,Kn.move,s.handleDrag),(0,p.addEvent)(o,Kn.stop,s.handleDragStop)))}),Hn(m(s),"handleDrag",function(t){var e=(0,kn.getControlPosition)(t,s.state.touchIdentifier,m(s));if(null!=e){var n=e.x,e=e.y;if(Array.isArray(s.props.grid)){var i=n-s.state.lastX,o=e-s.state.lastY,r=Nn((0,kn.snapToGrid)(s.props.grid,i,o),2),i=r[0],o=r[1];if(!i&&!o)return;n=s.state.lastX+i,e=s.state.lastY+o}r=(0,kn.createCoreData)(m(s),n,e);if((0,Ln.default)("DraggableCore: handleDrag: %j",r),!1===s.props.onDrag(t,r)||!1===s.mounted)try{s.handleDragStop(new MouseEvent("mouseup"))}catch{i=document.createEvent("MouseEvents");i.initMouseEvent("mouseup",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),s.handleDragStop(i)}else s.setState({lastX:n,lastY:e})}}),Hn(m(s),"handleDragStop",function(t){if(s.state.dragging){var e=(0,kn.getControlPosition)(t,s.state.touchIdentifier,m(s));if(null!=e){var n=e.x,e=e.y,n=(0,kn.createCoreData)(m(s),n,e);if(!1===s.props.onStop(t,n)||!1===s.mounted)return!1;e=s.findDOMNode();e&&s.props.enableUserSelectHack&&(0,p.removeUserSelectStyles)(e.ownerDocument),(0,Ln.default)("DraggableCore: handleDragStop: %j",n),s.setState({dragging:!1,lastX:NaN,lastY:NaN}),e&&((0,Ln.default)("DraggableCore: Removing handlers"),(0,p.removeEvent)(e.ownerDocument,Kn.move,s.handleDrag),(0,p.removeEvent)(e.ownerDocument,Kn.stop,s.handleDragStop))}}}),Hn(m(s),"onMouseDown",function(t){return Kn=Xn,s.handleDragStart(t)}),Hn(m(s),"onMouseUp",function(t){return Kn=Xn,s.handleDragStop(t)}),Hn(m(s),"onTouchStart",function(t){return Kn=Yn,s.handleDragStart(t)}),Hn(m(s),"onTouchEnd",function(t){return Kn=Yn,s.handleDragStop(t)}),s}return e=a,(t=[{key:"componentDidMount",value:function(){this.mounted=!0;var t=this.findDOMNode();t&&(0,p.addEvent)(t,Yn.start,this.onTouchStart,{passive:!1})}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var t,e=this.findDOMNode();e&&(t=e.ownerDocument,(0,p.removeEvent)(t,Xn.move,this.handleDrag),(0,p.removeEvent)(t,Yn.move,this.handleDrag),(0,p.removeEvent)(t,Xn.stop,this.handleDragStop),(0,p.removeEvent)(t,Yn.stop,this.handleDragStop),(0,p.removeEvent)(e,Yn.start,this.onTouchStart,{passive:!1}),this.props.enableUserSelectHack)&&(0,p.removeUserSelectStyles)(t)}},{key:"findDOMNode",value:function(){var t;return null!=(t=null==(t=this.props)||null==(t=t.nodeRef)?void 0:t.current)?t:On.default.findDOMNode(this)}},{key:"render",value:function(){return Pn.cloneElement(Pn.Children.only(this.props.children),{onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onTouchEnd:this.onTouchEnd})}}])&&jn(e.prototype,t),n&&jn(e,n),a}(Pn.Component);function Jn(t){return(Jn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function Qn(t){return t&&t.__esModule?t:{default:t}}function ti(t){var e,n;return"function"!=typeof WeakMap?null:(e=new WeakMap,n=new WeakMap,(ti=function(t){return t?n:e})(t))}function ei(){return(ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function ni(t,e){if(null==t)return{};var n,i=function(t,e){if(null==t)return{};var n,i,o={},r=Object.keys(t);for(i=0;i<r.length;i++)n=r[i],0<=e.indexOf(n)||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n]);return i}function ii(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function oi(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ii(Object(n),!0).forEach(function(t){di(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ii(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ri(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var i,o,r=[],s=!0,a=!1;try{for(n=n.call(t);!(s=(i=n.next()).done)&&(r.push(i.value),!e||r.length!==e);s=!0);}catch(t){a=!0,o=t}finally{try{s||null==n.return||n.return()}finally{if(a)throw o}}return r}}(t,e)||function(t,e){{var n;if(t)return"string"==typeof t?si(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?si(t,e):void 0}}(t,e)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function si(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function ai(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function li(t,e){return(li=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function ui(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var t,e=hi(n),e=(t=i?(t=hi(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments),this);if(t&&("object"===Jn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ci(e)}}function ci(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function hi(t){return(hi=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function di(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}Hn(s.default=g,"displayName","DraggableCore"),Hn(g,"propTypes",{allowAnyClick:d.default.bool,disabled:d.default.bool,enableUserSelectHack:d.default.bool,offsetParent:function(t,e){if(t[e]&&1!==t[e].nodeType)throw new Error("Draggable's offsetParent must be a DOM Node.")},grid:d.default.arrayOf(d.default.number),handle:d.default.string,cancel:d.default.string,nodeRef:d.default.object,onStart:d.default.func,onDrag:d.default.func,onStop:d.default.func,onMouseDown:d.default.func,scale:d.default.number,className:f.dontSetMe,style:f.dontSetMe,transform:f.dontSetMe}),Hn(g,"defaultProps",{allowAnyClick:!1,disabled:!1,enableUserSelectHack:!0,onStart:function(){},onDrag:function(){},onStop:function(){},onMouseDown:function(){},scale:1}),d=e,Object.defineProperty(d,"__esModule",{value:!0}),Object.defineProperty(d,"DraggableCore",{enumerable:!0,get:function(){return qn.default}}),d.default=void 0,Fn=function(t,e){if(!e&&t&&t.__esModule)return t;if(null===t||"object"!==Jn(t)&&"function"!=typeof t)return{default:t};e=ti(e);if(e&&e.has(t))return e.get(t);var n,i={},o=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(n in t){var r;"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&((r=o?Object.getOwnPropertyDescriptor(t,n):null)&&(r.get||r.set)?Object.defineProperty(i,n,r):i[n]=t[n])}return i.default=t,e&&e.set(t,i),i}(Jt),f=Qn(on.exports),Wn=Qn(Jt),Vn=Qn(n),Un=i,Zn=a,g=r,qn=Qn(s),$n=Qn(l),Gn=["axis","bounds","children","defaultPosition","defaultClassName","defaultClassNameDragging","defaultClassNameDragged","position","positionOffset","scale"],n=function(t){var e=o;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&li(e,t);var n,i=ui(o);function o(t){var a;if(this instanceof o)return di(ci(a=i.call(this,t)),"onDragStart",function(t,e){if((0,$n.default)("Draggable: onDragStart: %j",e),!1===a.props.onStart(t,(0,Zn.createDraggableData)(ci(a),e)))return!1;a.setState({dragging:!0,dragged:!0})}),di(ci(a),"onDrag",function(t,e){if(!a.state.dragging)return!1;(0,$n.default)("Draggable: onDrag: %j",e);var n,i,o,r,e=(0,Zn.createDraggableData)(ci(a),e),s={x:e.x,y:e.y};if(a.props.bounds&&(n=s.x,i=s.y,s.x+=a.state.slackX,s.y+=a.state.slackY,o=(r=ri((0,Zn.getBoundPosition)(ci(a),s.x,s.y),2))[0],r=r[1],s.x=o,s.y=r,s.slackX=a.state.slackX+(n-s.x),s.slackY=a.state.slackY+(i-s.y),e.x=s.x,e.y=s.y,e.deltaX=s.x-a.state.x,e.deltaY=s.y-a.state.y),!1===a.props.onDrag(t,e))return!1;a.setState(s)}),di(ci(a),"onDragStop",function(t,e){if(!a.state.dragging)return!1;if(!1===a.props.onStop(t,(0,Zn.createDraggableData)(ci(a),e)))return!1;(0,$n.default)("Draggable: onDragStop: %j",e);var n,t={dragging:!1,slackX:0,slackY:0};Boolean(a.props.position)&&(n=(e=a.props.position).x,e=e.y,t.x=n,t.y=e),a.setState(t)}),a.state={dragging:!1,dragged:!1,x:(t.position||t.defaultPosition).x,y:(t.position||t.defaultPosition).y,prevPropsPosition:oi({},t.position),slackX:0,slackY:0,isElementSVG:!1},!t.position||t.onDrag||t.onStop||console.warn("A `position` was applied to this <Draggable>, without drag handlers. This will make this component effectively undraggable. Please attach `onDrag` or `onStop` handlers so you can adjust the `position` of this element."),a;throw new TypeError("Cannot call a class as a function")}return e=o,t=[{key:"getDerivedStateFromProps",value:function(t,e){t=t.position,e=e.prevPropsPosition;return!t||e&&t.x===e.x&&t.y===e.y?null:((0,$n.default)("Draggable: getDerivedStateFromProps %j",{position:t,prevPropsPosition:e}),{x:t.x,y:t.y,prevPropsPosition:oi({},t)})}}],(n=[{key:"componentDidMount",value:function(){void 0!==window.SVGElement&&this.findDOMNode()instanceof window.SVGElement&&this.setState({isElementSVG:!0})}},{key:"componentWillUnmount",value:function(){this.setState({dragging:!1})}},{key:"findDOMNode",value:function(){var t;return null!=(t=null==(t=this.props)||null==(t=t.nodeRef)?void 0:t.current)?t:Wn.default.findDOMNode(this)}},{key:"render",value:function(){var t=this.props,e=(t.axis,t.bounds,t.children),n=t.defaultPosition,i=t.defaultClassName,o=t.defaultClassNameDragging,r=t.defaultClassNameDragged,s=t.position,a=t.positionOffset,t=(t.scale,ni(t,Gn)),l={},u=null,c=!Boolean(s)||this.state.dragging,s=s||n,n={x:((0,Zn.canDragX)(this)&&c?this.state:s).x,y:((0,Zn.canDragY)(this)&&c?this.state:s).y},s=(this.state.isElementSVG?u=(0,Un.createSVGTransform)(n,a):l=(0,Un.createCSSTransform)(n,a),(0,Vn.default)(e.props.className||"",i,(di(c={},o,this.state.dragging),di(c,r,this.state.dragged),c)));return Fn.createElement(qn.default,ei({},t,{onStart:this.onDragStart,onDrag:this.onDrag,onStop:this.onDragStop}),Fn.cloneElement(Fn.Children.only(e),{className:s,style:oi(oi({},e.props.style),l),transform:u}))}}])&&ai(e.prototype,n),t&&ai(e,t),o}(Fn.Component),di(d.default=n,"displayName","Draggable"),di(n,"propTypes",oi(oi({},qn.default.propTypes),{},{axis:f.default.oneOf(["both","x","y","none"]),bounds:f.default.oneOfType([f.default.shape({left:f.default.number,right:f.default.number,top:f.default.number,bottom:f.default.number}),f.default.string,f.default.oneOf([!1])]),defaultClassName:f.default.string,defaultClassNameDragging:f.default.string,defaultClassNameDragged:f.default.string,defaultPosition:f.default.shape({x:f.default.number,y:f.default.number}),positionOffset:f.default.shape({x:f.default.oneOfType([f.default.number,f.default.string]),y:f.default.oneOfType([f.default.number,f.default.string])}),position:f.default.shape({x:f.default.number,y:f.default.number}),className:g.dontSetMe,style:g.dontSetMe,transform:g.dontSetMe})),di(n,"defaultProps",oi(oi({},qn.default.defaultProps),{},{axis:"both",bounds:!1,defaultClassName:"react-draggable",defaultClassNameDragging:"react-draggable-dragging",defaultClassNameDragged:"react-draggable-dragged",defaultPosition:{x:0,y:0},scale:1}));var i=e.default,a=e.DraggableCore,pi=(t.exports=i,t.exports.default=i,t.exports.DraggableCore=a,t.exports),fi=["second","minute","hour","day","week","month","year"];var mi=["秒","分钟","小时","天","周","个月","年"];function v(t,e){vi[t]=e}function gi(t){return vi[t]||vi.en_US}var vi={},yi=[60,60,24,7,365/7/12,12];function _i(t){return t instanceof Date?t:!isNaN(t)||/^\d+$/.test(t)?new Date(parseInt(t)):(t=(t||"").trim().replace(/\.\d+/,"").replace(/-/,"/").replace(/-/,"/").replace(/(\d)T(\d)/,"$1 $2").replace(/Z/," UTC").replace(/([+-]\d\d):?(\d\d)/," $1$2"),new Date(t))}function bi(t,e){for(var n=t<0?1:0,i=t=Math.abs(t),o=0;t>=yi[o]&&o<yi.length;o++)t/=yi[o];return(0===(o*=2)?9:1)<(t=Math.floor(t))&&(o+=1),e(t,o,i)[n].replace("%s",t.toString())}function wi(t,e){return(+(e?_i(e):new Date)-+_i(t))/1e3}var xi="timeago-id";function Si(t){return parseInt(t.getAttribute(xi))}var Ci={},Ei=function(t){clearTimeout(t),delete Ci[t]};function Ai(t,e,n,i){Ei(Si(t));var o=i.relativeDate,r=i.minInterval,o=wi(e,o),o=(t.innerText=bi(o,n),setTimeout(function(){Ai(t,e,n,i)},Math.min(1e3*Math.max(function(t){for(var e=1,n=0,i=Math.abs(t);t>=yi[n]&&n<yi.length;n++)t/=yi[n],e*=yi[n];return i=(i%=e)?e-i:e,Math.ceil(i)}(o),r||1),2147483647)));Ci[o]=0,t.setAttribute(xi,o)}function Ti(t){t?Ei(Si(t)):Object.keys(Ci).forEach(Ei)}v("en_US",function(t,e){return 0===e?["just now","right now"]:(e=fi[Math.floor(e/2)],1<t&&(e+="s"),[t+" "+e+" ago","in "+t+" "+e])}),v("zh_CN",function(t,e){return 0===e?["刚刚","片刻后"]:[t+" "+(e=mi[~~(e/2)])+"前",t+" "+e+"后"]});var Pi,Oi,r=globalThis&&globalThis.__extends||(Oi=function(t,e){return(Oi=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}))(t,e)},function(t,e){function n(){this.constructor=t}Oi(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),ki=globalThis&&globalThis.__assign||function(){return(ki=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},Li=globalThis&&globalThis.__rest||function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&Object.prototype.propertyIsEnumerable.call(t,o[i])&&(n[o[i]]=t[o[i]]);return n},Mi=(r(Di,Pi=qt),Di.prototype.componentDidMount=function(){this.renderTimeAgo()},Di.prototype.componentDidUpdate=function(){this.renderTimeAgo()},Di.prototype.renderTimeAgo=function(){var e,n,t=this.props,i=t.live,o=t.datetime,r=t.locale,t=t.opts;Ti(this.dom),!1!==i&&(this.dom.setAttribute("datetime",""+((i=o)instanceof Date?i.getTime():i)),o=this.dom,e=r,n=t,(o=o.length?o:[o]).forEach(function(t){Ai(t,t.getAttribute("datetime"),gi(e),n||{})}))},Di.prototype.componentWillUnmount=function(){Ti(this.dom)},Di.prototype.render=function(){var e=this,t=this.props,n=t.datetime,i=(t.live,t.locale),o=t.opts,t=Li(t,["datetime","live","locale","opts"]);return c("time",ki({ref:function(t){e.dom=t}},t),(t=i,bi(wi(n,(i=o)&&i.relativeDate),gi(t))))},Di.defaultProps={live:!0,className:""},Di);function Di(){var t=null!==Pi&&Pi.apply(this,arguments)||this;return t.dom=null,t}function Ni(t){var e=Ui.call(t);return"[object Arguments]"===e||"[object Array]"!==e&&null!==t&&"object"==typeof t&&"number"==typeof t.length&&0<=t.length&&"[object Function]"===Ui.call(t.callee)}var zi,ji,Ii,Ri,Bi,Hi,Fi,Wi,Vi,Ui=Object.prototype.toString,l=(Object.keys||(zi=Object.prototype.hasOwnProperty,ji=Object.prototype.toString,Ii=Ni,s=Object.prototype.propertyIsEnumerable,Ri=!s.call({toString:null},"toString"),Bi=s.call(function(){},"prototype"),Hi=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],Fi=function(t){var e=t.constructor;return e&&e.prototype===t},Wi={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},Vi=function(){if("undefined"!=typeof window)for(var t in window)try{if(!Wi["$"+t]&&zi.call(window,t)&&null!==window[t]&&"object"==typeof window[t])try{Fi(window[t])}catch{return!0}}catch{return!0}return!1}(),Vo=function(t){var e=null!==t&&"object"==typeof t,n="[object Function]"===ji.call(t),i=Ii(t),o=e&&"[object String]"===ji.call(t),r=[];if(!e&&!n&&!i)throw new TypeError("Object.keys called on a non-object");var s=Bi&&n;if(o&&0<t.length&&!zi.call(t,0))for(var a=0;a<t.length;++a)r.push(String(a));if(i&&0<t.length)for(var l=0;l<t.length;++l)r.push(String(l));else for(var u in t)s&&"prototype"===u||!zi.call(t,u)||r.push(String(u));if(Ri)for(var c=function(t){if("undefined"==typeof window||!Vi)return Fi(t);try{return Fi(t)}catch{return!1}}(t),h=0;h<Hi.length;++h)c&&"constructor"===Hi[h]||!zi.call(t,Hi[h])||r.push(Hi[h]);return r}),Vo),Zi=Array.prototype.slice,qi=Ni,$i=Object.keys,Gi=$i?function(t){return $i(t)}:l,Yi=Object.keys;Gi.shim=function(){return Object.keys?function(){var t=Object.keys(arguments);return t&&t.length===arguments.length}(1,2)||(Object.keys=function(t){return qi(t)?Yi(Zi.call(t)):Yi(t)}):Object.keys=Gi,Object.keys||Gi};function Xi(t,e){var n=2<arguments.length?arguments[2]:{},i=to(e);eo&&(i=io.call(i,Object.getOwnPropertySymbols(e)));for(var o,r,s,a,l=0;l<i.length;l+=1)o=t,r=i[l],s=e[i[l]],a=n[i[l]],r in o&&(!ro(a)||!a())||(so?oo(o,r,{configurable:!0,enumerable:!1,value:s,writable:!0}):o[r]=s)}function Ki(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"!=typeof Symbol.iterator){var t={},e=Symbol("test"),n=Object(e);if("string"==typeof e||"[object Symbol]"!==Object.prototype.toString.call(e)||"[object Symbol]"!==Object.prototype.toString.call(n))return!1;for(e in t[e]=42,t)return!1;if("function"==typeof Object.keys&&0!==Object.keys(t).length||"function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(t).length)return!1;n=Object.getOwnPropertySymbols(t);if(1!==n.length||n[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){n=Object.getOwnPropertyDescriptor(t,e);if(42!==n.value||!0!==n.enumerable)return!1}}return!0}function Ji(){return"function"==typeof uo&&"function"==typeof Symbol&&"symbol"==typeof uo("foo")&&"symbol"==typeof Symbol("bar")&&co()}function Qi(t){try{return po('"use strict"; return ('+t+").constructor;")()}catch{}}var to=Gi,eo="function"==typeof Symbol&&"symbol"==typeof Symbol("foo"),no=Object.prototype.toString,io=Array.prototype.concat,oo=Object.defineProperty,ro=function(t){return"function"==typeof t&&"[object Function]"===no.call(t)},so=oo&&function(){var t={};try{for(var e in oo(t,"x",{enumerable:!1,value:t}),t)return!1;return t.x===t}catch{return!1}}(),d=(Xi.supportsDescriptors=!!so,Xi),f={exports:{}},ao=Array.prototype.slice,lo=Object.prototype.toString,g=Function.prototype.bind||function(e){var n=this;if("function"!=typeof n||"[object Function]"!==lo.call(n))throw new TypeError("Function.prototype.bind called on incompatible "+n);for(var i=ao.call(arguments,1),t=Math.max(0,n.length-i.length),o=[],r=0;r<t;r++)o.push("$"+r);var s,a=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(function(){var t;return this instanceof a?(t=n.apply(this,i.concat(ao.call(arguments))),Object(t)===t?t:this):n.apply(e,i.concat(ao.call(arguments)))});return n.prototype&&((s=function(){}).prototype=n.prototype,a.prototype=new s,s.prototype=null),a},uo="undefined"!=typeof Symbol&&Symbol,co=Ki,n=g.call(Function.call,Object.prototype.hasOwnProperty),ho=SyntaxError,po=Function,fo=TypeError,mo=Object.getOwnPropertyDescriptor;if(mo)try{mo({},"")}catch{mo=null}function go(){throw new fo}function y(t,e){if("string"!=typeof t||0===t.length)throw new fo("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof e)throw new fo('"allowMissing" argument must be a boolean');var n=function(t){var e=Ao(t,0,1),n=Ao(t,-1);if("%"===e&&"%"!==n)throw new ho("invalid intrinsic syntax, expected closing `%`");if("%"===n&&"%"!==e)throw new ho("invalid intrinsic syntax, expected opening `%`");var o=[];return Eo(t,To,function(t,e,n,i){o[o.length]=n?Eo(i,Po,"$1"):e||t}),o}(t),i=0<n.length?n[0]:"",o=function(t,e){var n,i=t;if(xo(wo,i)&&(i="%"+(n=wo[i])[0]+"%"),xo(_o,i)){var o=_o[i];if(void 0!==(o=o===yo?bo(i):o)||e)return{alias:n,name:i,value:o};throw new fo("intrinsic "+t+" exists, but is not available. Please file an issue!")}throw new ho("intrinsic "+t+" does not exist!")}("%"+i+"%",e),r=(o.name,o.value),s=!1;(o=o.alias)&&(i=o[0],Co(n,So([0,1],o)));for(var a=1,l=!0;a<n.length;a+=1){var u=n[a],c=Ao(u,0,1),h=Ao(u,-1);if(('"'===c||"'"===c||"`"===c||'"'===h||"'"===h||"`"===h)&&c!==h)throw new ho("property names with quotes must have matching quotes");if("constructor"!==u&&l||(s=!0),xo(_o,c="%"+(i+="."+u)+"%"))r=_o[c];else if(null!=r){if(!(u in r)){if(e)return;throw new fo("base intrinsic for "+t+" exists, but the property is not available.")}r=mo&&a+1>=n.length?(l=!!(h=mo(r,u)))&&"get"in h&&!("originalValue"in h.get)?h.get:r[u]:(l=xo(r,u),r[u]),l&&!s&&(_o[c]=r)}}return r}var e=mo?function(){try{return go}catch{try{return mo(arguments,"callee").get}catch{return go}}}():go,i=Ji(),vo=Object.getPrototypeOf||function(t){return t.__proto__},yo={},a="undefined"==typeof Uint8Array?_:vo(Uint8Array),_o={"%AggregateError%":"undefined"==typeof AggregateError?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?_:ArrayBuffer,"%ArrayIteratorPrototype%":i?vo([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":yo,"%AsyncGenerator%":yo,"%AsyncGeneratorFunction%":yo,"%AsyncIteratorPrototype%":yo,"%Atomics%":"undefined"==typeof Atomics?_:Atomics,"%BigInt%":"undefined"==typeof BigInt?_:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?_:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?_:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?_:FinalizationRegistry,"%Function%":po,"%GeneratorFunction%":yo,"%Int8Array%":"undefined"==typeof Int8Array?_:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?_:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":i?vo(vo([][Symbol.iterator]())):_,"%JSON%":"object"==typeof JSON?JSON:_,"%Map%":"undefined"==typeof Map?_:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&i?vo((new Map)[Symbol.iterator]()):_,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?_:Promise,"%Proxy%":"undefined"==typeof Proxy?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?_:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?_:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&i?vo((new Set)[Symbol.iterator]()):_,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":i?vo(""[Symbol.iterator]()):_,"%Symbol%":i?Symbol:_,"%SyntaxError%":ho,"%ThrowTypeError%":e,"%TypedArray%":a,"%TypeError%":fo,"%Uint8Array%":"undefined"==typeof Uint8Array?_:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?_:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?_:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?_:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?_:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?_:WeakSet},bo=function t(e){var n,i;return"%AsyncFunction%"===e?n=Qi("async function () {}"):"%GeneratorFunction%"===e?n=Qi("function* () {}"):"%AsyncGeneratorFunction%"===e?n=Qi("async function* () {}"):"%AsyncGenerator%"===e?(i=t("%AsyncGeneratorFunction%"))&&(n=i.prototype):"%AsyncIteratorPrototype%"===e&&(i=t("%AsyncGenerator%"))&&(n=vo(i.prototype)),_o[e]=n},wo={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},t=g,xo=n,So=t.call(Function.call,Array.prototype.concat),Co=t.call(Function.apply,Array.prototype.splice),Eo=t.call(Function.call,String.prototype.replace),Ao=t.call(Function.call,String.prototype.slice),To=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,Po=/\\(\\)?/g,r=f,Oo=g,s=y,ko=s("%Function.prototype.apply%"),Lo=s("%Function.prototype.call%"),Mo=s("%Reflect.apply%",!0)||Oo.call(Lo,ko),Do=s("%Object.getOwnPropertyDescriptor%",!0),No=s("%Object.defineProperty%",!0),zo=s("%Math.max%");if(No)try{No({},"a",{value:1})}catch{No=null}function jo(){return Mo(Oo,ko,arguments)}r.exports=function(t){var e=Mo(Oo,Lo,arguments);return Do&&No&&Do(e,"length").configurable&&No(e,"length",{value:1+zo(0,t.length-(arguments.length-1))}),e},No?No(r.exports,"apply",{value:jo}):r.exports.apply=jo;function Io(t,e){return"function"==typeof(e=Bo(t,!!e))&&-1<Fo(t,".prototype.")?Ho(e):e}function Ro(t,e){if(null==t)throw new Wo(e||"Cannot call method on "+t);return t}var Bo=y,Ho=f.exports,Fo=Ho(Bo("String.prototype.indexOf")),Wo=y("%TypeError%"),Vo=y("%Array%"),Uo=!Vo.isArray&&Io("Object.prototype.toString"),l=Vo.isArray||function(t){return"[object Array]"===Uo(t)},i=y,e=Io,Zo=i("%TypeError%"),qo=l,$o=i("%Reflect.apply%",!0)||e("%Function.prototype.apply%"),a=ke(Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:{}})),_="function"==typeof Map&&Map.prototype,t=Object.getOwnPropertyDescriptor&&_?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,Go=_&&t&&"function"==typeof t.get?t.get:null,Yo=_&&Map.prototype.forEach,g="function"==typeof Set&&Set.prototype,s=Object.getOwnPropertyDescriptor&&g?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,Xo=g&&s&&"function"==typeof s.get?s.get:null,Ko=g&&Set.prototype.forEach,Jo="function"==typeof WeakMap&&WeakMap.prototype?WeakMap.prototype.has:null,Qo="function"==typeof WeakSet&&WeakSet.prototype?WeakSet.prototype.has:null,tr="function"==typeof WeakRef&&WeakRef.prototype?WeakRef.prototype.deref:null,er=Boolean.prototype.valueOf,nr=Object.prototype.toString,ir=Function.prototype.toString,or=String.prototype.match,rr=String.prototype.slice,sr=String.prototype.replace,ar=String.prototype.toUpperCase,lr=String.prototype.toLowerCase,ur=RegExp.prototype.test,cr=Array.prototype.concat,hr=Array.prototype.join,dr=Array.prototype.slice,pr=Math.floor,fr="function"==typeof BigInt?BigInt.prototype.valueOf:null,mr=Object.getOwnPropertySymbols,gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol.prototype.toString:null,vr="function"==typeof Symbol&&"object"==typeof Symbol.iterator,b="function"==typeof Symbol&&Symbol.toStringTag&&(Symbol.toStringTag,1)?Symbol.toStringTag:null,yr=Object.prototype.propertyIsEnumerable,_r=("function"==typeof Reflect?Reflect:Object).getPrototypeOf||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function br(t,e){if(t===1/0||t===-1/0||t!=t||t&&-1e3<t&&t<1e3||ur.call(/e/,e))return e;var n=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if("number"==typeof t){var i=t<0?-pr(-t):pr(t);if(i!==t)return t=String(i),i=rr.call(e,t.length+1),sr.call(t,n,"$&_")+"."+sr.call(sr.call(i,/([0-9]{3})/g,"$&_"),/_$/,"")}return sr.call(e,n,"$&_")}function wr(n,t,i,o){var r=t||{};if(Tr(r,"quoteStyle")&&"single"!==r.quoteStyle&&"double"!==r.quoteStyle)throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Tr(r,"maxStringLength")&&("number"==typeof r.maxStringLength?r.maxStringLength<0&&r.maxStringLength!==1/0:null!==r.maxStringLength))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');if("boolean"!=typeof(t=!Tr(r,"customInspect")||r.customInspect)&&"symbol"!==t)throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Tr(r,"indent")&&null!==r.indent&&"\t"!==r.indent&&!(parseInt(r.indent,10)===r.indent&&0<r.indent))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Tr(r,"numericSeparator")&&"boolean"!=typeof r.numericSeparator)throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var e=r.numericSeparator;if(void 0===n)return"undefined";if(null===n)return"null";if("boolean"==typeof n)return n?"true":"false";if("string"==typeof n)return function t(e,n){if(e.length>n.maxStringLength)return i=e.length-n.maxStringLength,i="... "+i+" more character"+(1<i?"s":""),t(rr.call(e,0,n.maxStringLength),n)+i;var i=sr.call(sr.call(e,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,kr);return Sr(i,"single",n)}(n,r);if("number"==typeof n)return 0===n?0<1/0/n?"0":"-0":(h=String(n),e?br(n,h):h);if("bigint"==typeof n)return h=String(n)+"n",e?br(n,h):h;if((e=void 0===r.depth?5:r.depth)<=(i=void 0===i?0:i)&&0<e&&"object"==typeof n)return Cr(n)?"[Array]":"[Object]";var s,a,l,u,c,h=function(t,e){var n;if("\t"===t.indent)n="\t";else{if(!("number"==typeof t.indent&&0<t.indent))return null;n=hr.call(Array(t.indent+1)," ")}return{base:n,prev:hr.call(Array(e+1),n)}}(r,i);if(void 0===o)o=[];else if(0<=Or(o,n))return"[Circular]";function d(t,e,n){return e&&(o=dr.call(o)).push(e),n?(e={depth:r.depth},Tr(r,"quoteStyle")&&(e.quoteStyle=r.quoteStyle),wr(t,e,i+1,o)):wr(t,r,i+1,o)}if("function"==typeof n)return"[Function"+((e=(e=n).name||((e=or.call(ir.call(e),/^function\s*([\w$]+)/))?e[1]:null))?": "+e:" (anonymous)")+"]"+(0<(e=zr(n,d)).length?" { "+hr.call(e,", ")+" }":"");if(Er(n))return e=vr?sr.call(String(n),/^(Symbol\(.*\))_[^)]*$/,"$1"):gr.call(n),"object"!=typeof n||vr?e:Lr(e);if((e=n)&&"object"==typeof e&&("undefined"!=typeof HTMLElement&&e instanceof HTMLElement||"string"==typeof e.nodeName&&"function"==typeof e.getAttribute)){for(var p="<"+lr.call(String(n.nodeName)),f=n.attributes||[],m=0;m<f.length;m++)p+=" "+f[m].name+"="+Sr((s=f[m].value,sr.call(String(s),/"/g,"&quot;")),"double",r);return p+=">",n.childNodes&&n.childNodes.length&&(p+="..."),p+="</"+lr.call(String(n.nodeName))+">"}if(Cr(n))return 0===n.length?"[]":(e=zr(n,d),h&&!function(t){for(var e=0;e<t.length;e++)if(0<=Or(t[e],`
`))return;return 1}(e)?"["+Nr(e,h)+"]":"[ "+hr.call(e,", ")+" ]");if(!("[object Error]"!==Pr(e=n)||b&&"object"==typeof e&&b in e))return e=zr(n,d),"cause"in n&&!yr.call(n,"cause")?"{ ["+String(n)+"] "+hr.call(cr.call("[cause]: "+d(n.cause),e),", ")+" }":0===e.length?"["+String(n)+"]":"{ ["+String(n)+"] "+hr.call(e,", ")+" }";if("object"==typeof n&&t){if(xr&&"function"==typeof n[xr])return n[xr]();if("symbol"!==t&&"function"==typeof n.inspect)return n.inspect()}return function(t){if(Go&&t&&"object"==typeof t)try{Go.call(t);try{Xo.call(t)}catch{return 1}return t instanceof Map}catch{}return}(n)?(a=[],Yo.call(n,function(t,e){a.push(d(e,n,!0)+" => "+d(t,n))}),Dr("Map",Go.call(n),a,h)):function(t){if(Xo&&t&&"object"==typeof t)try{Xo.call(t);try{Go.call(t)}catch{return 1}return t instanceof Set}catch{}return}(n)?(l=[],Ko.call(n,function(t){l.push(d(t,n))}),Dr("Set",Xo.call(n),l,h)):function(t){if(Jo&&t&&"object"==typeof t)try{Jo.call(t,Jo);try{Qo.call(t,Qo)}catch{return 1}return t instanceof WeakMap}catch{}return}(n)?Mr("WeakMap"):function(t){if(Qo&&t&&"object"==typeof t)try{Qo.call(t,Qo);try{Jo.call(t,Jo)}catch{return 1}return t instanceof WeakSet}catch{}return}(n)?Mr("WeakSet"):function(t){if(tr&&t&&"object"==typeof t)try{return tr.call(t),1}catch{}return}(n)?Mr("WeakRef"):"[object Number]"!==Pr(e=n)||b&&"object"==typeof e&&b in e?function(t){if(t&&"object"==typeof t&&fr)try{return fr.call(t),1}catch{}return}(n)?Lr(d(fr.call(n))):"[object Boolean]"!==Pr(t=n)||b&&"object"==typeof t&&b in t?"[object String]"!==Pr(e=n)||b&&"object"==typeof e&&b in e?("[object Date]"!==Pr(t=n)||b&&"object"==typeof t&&b in t)&&("[object RegExp]"!==Pr(e=n)||b&&"object"==typeof e&&b in e)?(t=zr(n,d),e=_r?_r(n)===Object.prototype:n instanceof Object||n.constructor===Object,u=n instanceof Object?"":"null prototype",c=!e&&b&&Object(n)===n&&b in n?rr.call(Pr(n),8,-1):u?"Object":"",e=(!e&&"function"==typeof n.constructor&&n.constructor.name?n.constructor.name+" ":"")+(c||u?"["+hr.call(cr.call([],c||[],u||[]),": ")+"] ":""),0===t.length?e+"{}":h?e+"{"+Nr(t,h)+"}":e+"{ "+hr.call(t,", ")+" }"):String(n):Lr(d(String(n))):Lr(er.call(n)):Lr(d(Number(n)))}var r=a.custom,xr=r&&Er(r)?r:null;function Sr(t,e,n){n="double"===(n.quoteStyle||e)?'"':"'";return n+t+n}function Cr(t){return!("[object Array]"!==Pr(t)||b&&"object"==typeof t&&b in t)}function Er(t){if(vr)return t&&"object"==typeof t&&t instanceof Symbol;if("symbol"==typeof t)return 1;if(t&&"object"==typeof t&&gr)try{return gr.call(t),1}catch{}}var Ar=Object.prototype.hasOwnProperty||function(t){return t in this};function Tr(t,e){return Ar.call(t,e)}function Pr(t){return nr.call(t)}function Or(t,e){if(t.indexOf)return t.indexOf(e);for(var n=0,i=t.length;n<i;n++)if(t[n]===e)return n;return-1}function kr(t){var t=t.charCodeAt(0),e={8:"b",9:"t",10:"n",12:"f",13:"r"}[t];return e?"\\"+e:"\\x"+(t<16?"0":"")+ar.call(t.toString(16))}function Lr(t){return"Object("+t+")"}function Mr(t){return t+" { ? }"}function Dr(t,e,n,i){return t+" ("+e+") {"+(i?Nr(n,i):hr.call(n,", "))+"}"}function Nr(t,e){var n;return 0===t.length?"":(n=`
`+e.prev+e.base)+hr.call(t,","+n)+`
`+e.prev}function zr(t,e){var n=Cr(t),i=[];if(n){i.length=t.length;for(var o=0;o<t.length;o++)i[o]=Tr(t,o)?e(t[o],t):""}var r,s="function"==typeof mr?mr(t):[];if(vr)for(var a={},l=0;l<s.length;l++)a["$"+s[l]]=s[l];for(r in t)!Tr(t,r)||n&&String(Number(r))===r&&r<t.length||vr&&a["$"+r]instanceof Symbol||(ur.call(/[^\w$]/,r)?i.push(e(r,t)+": "+e(t[r],t)):i.push(r+": "+e(t[r],t)));if("function"==typeof mr)for(var u=0;u<s.length;u++)yr.call(t,s[u])&&i.push("["+e(s[u])+"]: "+e(t[s[u]],t));return i}function jr(t){return"string"==typeof t||"symbol"==typeof t}function Ir(t){return"symbol"==typeof t?"Symbol":"bigint"==typeof t?"BigInt":Fr(t)}function Rr(t,e){if("Object"!==Zr(t))throw new Wr("Assertion failed: Type(O) is not Object");if(Ur(e))return t[e];throw new Wr("Assertion failed: IsPropertyKey(P) is not true, got "+Vr(e))}var Br,Hr,Fr=function(t){return null===t?"Null":void 0===t?"Undefined":"function"==typeof t||"object"==typeof t?"Object":"number"==typeof t?"Number":"boolean"==typeof t?"Boolean":"string"==typeof t?"String":void 0},Wr=y("%TypeError%"),Vr=wr,Ur=jr,Zr=Ir,qr=y("%TypeError%"),$r=jr,Gr=Ir,Yr=Function.prototype.toString,Xr="object"==typeof Reflect&&null!==Reflect&&Reflect.apply;if("function"==typeof Xr&&"function"==typeof Object.defineProperty)try{Br=Object.defineProperty({},"length",{get:function(){throw Hr}}),Hr={},Xr(function(){throw 42},null,Br)}catch(t){t!==Hr&&(Xr=null)}else Xr=null;function Kr(t){try{var e=Yr.call(t);return ps.test(e)}catch{return}}function Jr(t){return null===t||"function"!=typeof t&&"object"!=typeof t}function Qr(){return Ds()&&!!Symbol.toStringTag}function ts(t){if("symbol"==typeof t)throw new pa("Cannot convert a Symbol value to a string");return da(t)}function es(t){var e,n=Sa(this),i=Ta&&Ea(this)?Aa(this,""):n,o=xa(i);if(!wa(t))throw new va("Array.prototype.forEach callback must be a function");1<arguments.length&&(e=arguments[1]);for(var r=0;r<o;){var s=Ca(r);ba(i,s)&&(s=_a(i,s),ya(t,e,[s,r,i])),r+=1}}function ns(){var t=Array.prototype.forEach;return Pa(t)?t:Oa}function is(){var t=La();return ka(Array.prototype,{forEach:t},{forEach:function(){return Array.prototype.forEach!==t}}),t}function os(t,e){return Ma(t),Na(t,Da(arguments,1))}function rs(t){var e,n=za(t),i=[];for(e in n)ja(n,e)&&Ia(i,[e,n[e]]);return i}function ss(){return"function"==typeof Object.entries?Object.entries:Ra}function as(){var t=Ba();return Ha(Object,{entries:t},{entries:function(){return Object.entries!==t}}),t}function ls(){var t=Wa(Fa(this));return Va(Va(t,Ua,""),Za,"")}function us(){return String.prototype.trim&&"​"==="​".trim()?String.prototype.trim:qa}function cs(){var t=Ga();return $a(String.prototype,{trim:t},{trim:function(){return String.prototype.trim!==t}}),t}var hs,ds,ps=/^\s*class\b/,fs=Object.prototype.toString,ms="function"==typeof Symbol&&!!Symbol.toStringTag,gs="object"==typeof document&&void 0===document.all&&void 0!==document.all?document.all:{},Vo=Xr?function(t){if(t===gs)return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;try{Xr(t,null,Br)}catch(t){if(t!==Hr)return!1}return!Kr(t)}:function(t){if(t===gs)return!0;if(!t||"function"!=typeof t&&"object"!=typeof t)return!1;if("function"==typeof t&&!t.prototype)return!0;if(!ms)return!Kr(t)&&("[object Function]"===(e=fs.call(t))||"[object GeneratorFunction]"===e);var e=t;try{return!Kr(e)&&(Yr.call(e),!0)}catch{return!1}},l=Vo,i=y,e=i("%Math%"),t=i("%Number%").MAX_SAFE_INTEGER||e.pow(2,53)-1,vs=y("%Math.abs%"),ys=Math.floor,_s=Object.prototype.toString,bs=Jr,ws=Vo,xs=function(t){var e=1<arguments.length?arguments[1]:"[object Date]"===_s.call(t)?String:Number;if(e!==String&&e!==Number)throw new TypeError("invalid [[DefaultValue]] hint supplied");for(var n,i=e===String?["toString","valueOf"]:["valueOf","toString"],o=0;o<i.length;++o)if(ws(t[i[o]])&&(n=t[i[o]](),bs(n)))return n;throw new TypeError("No default value")},Ss=function(t){return bs(t)?t:1<arguments.length?xs(t,arguments[1]):xs(t)},_=Number.isNaN||function(t){return t!=t},Cs=Number.isNaN||function(t){return t!=t},s=Number.isFinite||function(t){return"number"==typeof t&&!Cs(t)&&t!==1/0&&t!==-1/0},Es=function(t){return vs(t)},As=function(t){return ys(t)},Ts=function(t){var t=Ss(t,Number);return"string"==typeof t&&(t=t.replace(/^[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+|[ \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u0085]+$/g,""),/^0[ob]|^[+-]0x/.test(t))?NaN:+t},Ps=_,Os=s,ks=function(t){return 0<=t?1:-1},Ls=y("RegExp.prototype.test"),Ms=f.exports,Ds=Ki,Ns=Date.prototype.getDay,zs=Object.prototype.toString,js=Qr(),g={exports:{}},Is=Object.prototype.toString,Rs=(Ji()?(hs=Symbol.prototype.toString,ds=/^Symbol\(.*\)$/,g.exports=function(t){if("symbol"==typeof t)return!0;if("[object Symbol]"!==Is.call(t))return!1;try{return"symbol"==typeof(e=t).valueOf()&&ds.test(hs.call(e))}catch{return!1}var e}):g.exports=function(t){return!1},"function"==typeof Symbol&&"symbol"==typeof Symbol.iterator),Bs=Jr,Hs=Vo,Fs=function(t){return"object"==typeof t&&null!==t&&(js?function(t){try{return Ns.call(t),!0}catch{return!1}}(t):"[object Date]"===zs.call(t))},Ws=g.exports,Vs=function(t){if(Bs(t))return t;var e,n="default";if(1<arguments.length&&(arguments[1]===String?n="string":arguments[1]===Number&&(n="number")),Rs&&(Symbol.toPrimitive?e=function(t,e){var n=t[e];if(null!=n){if(Hs(n))return n;throw new TypeError(n+" returned for property "+e+" of object "+t+" is not a function")}}(t,Symbol.toPrimitive):Ws(t)&&(e=Symbol.prototype.valueOf)),void 0===e){"default"===n&&(Fs(t)||Ws(t))&&(n="string");var i=t,o="default"===n?"number":n;if(null==i)throw new TypeError("Cannot call method on "+i);if("string"!=typeof o||"number"!==o&&"string"!==o)throw new TypeError('hint must be "string" or "number"');for(var r,s,a="string"===o?["toString","valueOf"]:["valueOf","toString"],l=0;l<a.length;++l)if(r=i[a[l]],Hs(r)&&(s=r.call(i),Bs(s)))return s;throw new TypeError("No default value")}o=e.call(t,n);if(Bs(o))return o;throw new TypeError("unable to convert exotic object to primitive")},a=y,Us=a("%TypeError%"),Zs=a("%Number%"),r=a("%RegExp%"),qs=a("%parseInt%"),i=Io,e=function(t){return Ms(Ls,t)},$s=function(t){return null===t||"function"!=typeof t&&"object"!=typeof t},Gs=i("String.prototype.slice"),Ys=e(/^0b[01]+$/i),Xs=e(/^0o[0-7]+$/i),Ks=e(/^[-+]0x[0-9a-f]+$/i),Js=e(new r("["+["","​","￾"].join("")+"]","g")),_=[`	
\r   ᠎    `,"         　\u2028","\u2029\ufeff"].join(""),Qs=new RegExp("(^["+_+"]+)|(["+_+"]+$)","g"),ta=i("String.prototype.replace"),ea=function(t){return 1<arguments.length?Vs(t,arguments[1]):Vs(t)},na=function(t){t=Ts(t);return Ps(t)?0:0!==t&&Os(t)?ks(t)*As(Es(t)):t},ia=function t(e){e=$s(e)?e:ea(e,Zs);if("symbol"==typeof e)throw new Us("Cannot convert a Symbol value to a number");if("bigint"==typeof e)throw new Us("Conversion from 'BigInt' to 'number' is not allowed.");if("string"==typeof e){if(Ys(e))return t(qs(Gs(e,2),2));if(Xs(e))return t(qs(Gs(e,2),8));if(Js(e)||Ks(e))return NaN;var n=ta(e,Qs,"");if(n!==e)return t(n)}return Zs(e)},oa=t,ra=function(t){t=ia(t);return 0===(t=0!==t?na(t):t)?0:t},sa=y("%TypeError%"),aa=Rr,la=function(t){t=ra(t);return t<=0?0:oa<t?oa:t},ua=Ir,ca=y("%Object%"),ha=Ro,s=y,da=s("%String%"),pa=s("%TypeError%"),fa=String.prototype.valueOf,ma=Object.prototype.toString,ga=Qr(),Vo=Io,va=y("%TypeError%"),ya=function(t,e){var n=2<arguments.length?arguments[2]:[];if(qo(n))return $o(t,e,n);throw new Zo("Assertion failed: optional `argumentsList`, if provided, must be a List")},_a=Rr,ba=function(t,e){if("Object"!==Gr(t))throw new qr("Assertion failed: `O` must be an Object");if($r(e))return e in t;throw new qr("Assertion failed: `P` must be a Property Key")},wa=l,xa=function(t){if("Object"!==ua(t))throw new sa("Assertion failed: `obj` must be an Object");return la(aa(t,"length"))},Sa=function(t){return ha(t),ca(t)},Ca=ts,Ea=function(t){return"string"==typeof t||"object"==typeof t&&(ga?function(t){try{return fa.call(t),!0}catch{return!1}}(t):"[object String]"===ma.call(t))},Aa=Vo("String.prototype.split"),g=Object("a"),Ta="a"!==g[0]||!(0 in g),Pa=function(t){var i=!0,e=!0,n=!1;if("function"!=typeof t)return!1;try{t.call("f",function(t,e,n){"object"!=typeof n&&(i=!1)}),t.call([null],function(){e="string"==typeof this},"x")}catch{n=!0}return!n&&i&&e},Oa=es,ka=d,La=ns,a=d,e=f.exports,r=Io,Ma=Ro,_=es,i=ns,t=i(),Da=r("Array.prototype.slice"),Na=e.apply(t),s=(a(os,{getPolyfill:i,implementation:_,shim:is}),os),za=Ro,l=Io,ja=l("Object.prototype.propertyIsEnumerable"),Ia=l("Array.prototype.push"),Ra=rs,Ba=ss,Ha=d,Vo=d,g=rs,r=ss,e=(0,f.exports)(r(),Object),t=(Vo(e,{getPolyfill:r,implementation:g,shim:as}),e),Fa=Ro,Wa=ts,Va=Io("String.prototype.replace"),Ua=/^[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+/,Za=/[\x09\x0A\x0B\x0C\x0D\x20\xA0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u3000\u2028\u2029\uFEFF]+$/,qa=ls,$a=d,Ga=us,a=d,i=ls,_=us,l=(0,f.exports)(_());a(l,{getPolyfill:_,implementation:i,shim:cs});function Ya(t){}function Xa(t){var e=(t=t%100)%10;return 11!=t&&1==e?0:2<=e&&e<=4&&!(12<=t&&t<=14)?1:2}var Ka=s,Ja=t,Qa=n,tl=l,el=String.prototype.replace,nl=String.prototype.split,il="||||",ol={pluralTypes:{arabic:function(t){return t<3?t:3<=(t=t%100)&&t<=10?3:11<=t?4:5},bosnian_serbian:Xa,chinese:function(){return 0},croatian:Xa,french:function(t){return 2<=t?1:0},german:function(t){return 1!==t?1:0},russian:Xa,lithuanian:function(t){return t%10==1&&t%100!=11?0:2<=t%10&&t%10<=9&&(t%100<11||19<t%100)?1:2},czech:function(t){return 1===t?0:2<=t&&t<=4?1:2},polish:function(t){var e;return 1===t?0:2<=(e=t%10)&&e<=4&&(t%100<10||20<=t%100)?1:2},icelandic:function(t){return t%10!=1||t%100==11?1:0},slovenian:function(t){t%=100;return 1==t?0:2==t?1:3==t||4==t?2:3}},pluralTypeToLanguages:{arabic:["ar"],bosnian_serbian:["bs-Latn-BA","bs-Cyrl-BA","srl-RS","sr-RS"],chinese:["id","id-ID","ja","ko","ko-KR","lo","ms","th","th-TH","zh"],croatian:["hr","hr-HR"],german:["fa","da","de","en","es","fi","el","he","hi-IN","hu","hu-HU","it","nl","no","pt","sv","tr"],french:["fr","tl","pt-br"],russian:["ru","ru-RU"],lithuanian:["lt"],czech:["cs","cs-CZ","sk"],polish:["pl"],icelandic:["is"],slovenian:["sl-SL"]}};function rl(t,e){t=t.pluralTypeToLanguages,n={},Ka(Ja(t),function(t){var e=t[0],t=t[1];Ka(t,function(t){n[t]=e})});var n,t=n;return t[e]||t[nl.call(e,/-/,1)[0]]||t.en}function sl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}al={};var al,ll=function(t,e){var n=al[e];return n&&!t.pluralTypes[n]&&(al[e]=n=null),n||(n=rl(t,e))&&(al[e]=n),n},ul=/%\{(.*?)\}/g;function cl(t,e,n,i,o){if("string"!=typeof t)throw new TypeError("Polyglot.transformPhrase expects argument #1 to be string");var r,s;return null==e?t:(s=t,i=i||ul,null!=(r="number"==typeof e?{smart_count:e}:e).smart_count&&t&&(e=o||ol,o=nl.call(t,il),t=ll(e,n||"en"),n=r.smart_count,e=e.pluralTypes[t](n),s=tl(o[e]||o[0])),el.call(s,i,function(t,e){return Qa(r,e)&&null!=r[e]?r[e]:t}))}function hl(t){var t=t||{},e=(this.phrases={},this.extend(t.phrases||{}),this.currentLocale=t.locale||"en",t.allowMissing?cl:null);this.onMissingKey="function"==typeof t.onMissingKey?t.onMissingKey:e,this.warn=t.warn||Ya,this.tokenRegex=function(t){var e=t&&t.prefix||"%{",t=t&&t.suffix||"}";if(e===il||t===il)throw new RangeError('"'+il+'" token is reserved for pluralization');return new RegExp(sl(e)+"(.*?)"+sl(t),"g")}(t.interpolation),this.pluralRules=t.pluralRules||ol}hl.prototype.locale=function(t){return t&&(this.currentLocale=t),this.currentLocale},hl.prototype.extend=function(t,n){Ka(Ja(t||{}),function(t){var e=t[0],t=t[1],e=n?n+"."+e:e;"object"==typeof t?this.extend(t,e):this.phrases[e]=t},this)},hl.prototype.unset=function(t,n){"string"==typeof t?delete this.phrases[t]:Ka(Ja(t||{}),function(t){var e=t[0],t=t[1],e=n?n+"."+e:e;"object"==typeof t?this.unset(t,e):delete this.phrases[e]},this)},hl.prototype.clear=function(){this.phrases={}},hl.prototype.replace=function(t){this.clear(),this.extend(t)},hl.prototype.t=function(t,e){var n,i,e=null==e?{}:e;return"string"==typeof this.phrases[t]?n=this.phrases[t]:"string"==typeof e._?n=e._:i=this.onMissingKey?(0,this.onMissingKey)(t,e,this.currentLocale,this.tokenRegex,this.pluralRules):(this.warn('Missing translation for key: "'+t+'"'),t),i="string"==typeof n?cl(n,e,this.currentLocale,this.tokenRegex,this.pluralRules):i},hl.prototype.has=function(t){return Qa(this.phrases,t)},hl.transformPhrase=function(t,e,n){return cl(t,e,n)};var Vo=hl,r={},dl=(Object.defineProperty(r,"__esModule",{value:!0}),[["ثانية","ثانيتين","%s ثوان","%s ثانية"],["دقيقة","دقيقتين","%s دقائق","%s دقيقة"],["ساعة","ساعتين","%s ساعات","%s ساعة"],["يوم","يومين","%s أيام","%s يوماً"],["أسبوع","أسبوعين","%s أسابيع","%s أسبوعاً"],["شهر","شهرين","%s أشهر","%s شهراً"],["عام","عامين","%s أعوام","%s عاماً"]]);g=r.default=function(t,e){return 0===e?["منذ لحظات","بعد لحظات"]:(e=Math.floor(e/2),["منذ "+(t=(t=t)<3?dl[e][t-1]:3<=t&&t<=10?dl[e][2]:dl[e][3]),"بعد "+t])},e={};Object.defineProperty(e,"__esModule",{value:!0});d=e.default=function(t,e){var n=0;return[[["právě teď","právě teď"]],[["před %s vteřinami","za %s vteřiny"],["před %s vteřinami","za %s vteřin"]],[["před minutou","za minutu"]],[["před %s minutami","za %s minuty"],["před %s minutami","za %s minut"]],[["před hodinou","za hodinu"]],[["před %s hodinami","za %s hodiny"],["před %s hodinami","za %s hodin"]],[["včera","zítra"]],[["před %s dny","za %s dny"],["před %s dny","za %s dnů"]],[["minulý týden","příští týden"]],[["před %s týdny","za %s týdny"],["před %s týdny","za %s týdnů"]],[["minulý měsíc","přístí měsíc"]],[["před %s měsíci","za %s měsíce"],["před %s měsíci","za %s měsíců"]],[["před rokem","přístí rok"]],[["před %s lety","za %s roky"],["před %s lety","za %s let"]]][e][n=(1==e||3==e||5==e||7==e||9==e||11==e||13==e)&&5<=t?1:n]},f={};Object.defineProperty(f,"__esModule",{value:!0});a=f.default=function(t,e){return[["gerade eben","vor einer Weile"],["vor %s Sekunden","in %s Sekunden"],["vor 1 Minute","in 1 Minute"],["vor %s Minuten","in %s Minuten"],["vor 1 Stunde","in 1 Stunde"],["vor %s Stunden","in %s Stunden"],["vor 1 Tag","in 1 Tag"],["vor %s Tagen","in %s Tagen"],["vor 1 Woche","in 1 Woche"],["vor %s Wochen","in %s Wochen"],["vor 1 Monat","in 1 Monat"],["vor %s Monaten","in %s Monaten"],["vor 1 Jahr","in 1 Jahr"],["vor %s Jahren","in %s Jahren"]][e]},_={};Object.defineProperty(_,"__esModule",{value:!0});i=_.default=function(t,e){return[["μόλις τώρα","σε λίγο"],["%s δευτερόλεπτα πριν","σε %s δευτερόλεπτα"],["1 λεπτό πριν","σε 1 λεπτό"],["%s λεπτά πριν","σε %s λεπτά"],["1 ώρα πριν","σε 1 ώρα"],["%s ώρες πριν","σε %s ώρες"],["1 μέρα πριν","σε 1 μέρα"],["%s μέρες πριν","σε %s μέρες"],["1 εβδομάδα πριν","σε 1 εβδομάδα"],["%s εβδομάδες πριν","σε %s εβδομάδες"],["1 μήνα πριν","σε 1 μήνα"],["%s μήνες πριν","σε %s μήνες"],["1 χρόνο πριν","σε 1 χρόνο"],["%s χρόνια πριν","σε %s χρόνια"]][e]},s={};Object.defineProperty(s,"__esModule",{value:!0});t=s.default=function(t,e){return[["justo ahora","en un rato"],["hace %s segundos","en %s segundos"],["hace 1 minuto","en 1 minuto"],["hace %s minutos","en %s minutos"],["hace 1 hora","en 1 hora"],["hace %s horas","en %s horas"],["hace 1 día","en 1 día"],["hace %s días","en %s días"],["hace 1 semana","en 1 semana"],["hace %s semanas","en %s semanas"],["hace 1 mes","en 1 mes"],["hace %s meses","en %s meses"],["hace 1 año","en 1 año"],["hace %s años","en %s años"]][e]},n={};Object.defineProperty(n,"__esModule",{value:!0});l=n.default=function(t,e){return[["juuri äsken","juuri nyt"],["%s sekuntia sitten","%s sekunnin päästä"],["minuutti sitten","minuutin päästä"],["%s minuuttia sitten","%s minuutin päästä"],["tunti sitten","tunnin päästä"],["%s tuntia sitten","%s tunnin päästä"],["päivä sitten","päivän päästä"],["%s päivää sitten","%s päivän päästä"],["viikko sitten","viikon päästä"],["%s viikkoa sitten","%s viikon päästä"],["kuukausi sitten","kuukauden päästä"],["%s kuukautta sitten","%s kuukauden päästä"],["vuosi sitten","vuoden päästä"],["%s vuotta sitten","%s vuoden päästä"]][e]},r={};Object.defineProperty(r,"__esModule",{value:!0});e=r.default=function(t,e){return[["à l'instant","dans un instant"],["il y a %s secondes","dans %s secondes"],["il y a 1 minute","dans 1 minute"],["il y a %s minutes","dans %s minutes"],["il y a 1 heure","dans 1 heure"],["il y a %s heures","dans %s heures"],["il y a 1 jour","dans 1 jour"],["il y a %s jours","dans %s jours"],["il y a 1 semaine","dans 1 semaine"],["il y a %s semaines","dans %s semaines"],["il y a 1 mois","dans 1 mois"],["il y a %s mois","dans %s mois"],["il y a 1 an","dans 1 an"],["il y a %s ans","dans %s ans"]][e]},f={};Object.defineProperty(f,"__esModule",{value:!0});_=f.default=function(t,e){return[["xusto agora","daquí a un pouco"],["hai %s segundos","en %s segundos"],["hai 1 minuto","nun minuto"],["hai %s minutos","en %s minutos"],["hai 1 hora","nunha hora"],["hai %s horas","en %s horas"],["hai 1 día","nun día"],["hai %s días","en %s días"],["hai 1 semana","nunha semana"],["hai %s semanas","en %s semanas"],["hai 1 mes","nun mes"],["hai %s meses","en %s meses"],["hai 1 ano","nun ano"],["hai %s anos","en %s anos"]][e]},s={};Object.defineProperty(s,"__esModule",{value:!0});n=s.default=function(t,e){return[["अभी","कुछ समय"],["%s सेकंड पहले","%s सेकंड में"],["1 मिनट पहले","1 मिनट में"],["%s मिनट पहले","%s मिनट में"],["1 घंटे पहले","1 घंटे में"],["%s घंटे पहले","%s घंटे में"],["1 दिन पहले","1 दिन में"],["%s दिन पहले","%s दिनों में"],["1 सप्ताह पहले","1 सप्ताह में"],["%s हफ्ते पहले","%s हफ्तों में"],["1 महीने पहले","1 महीने में"],["%s महीने पहले","%s महीनों में"],["1 साल पहले","1 साल में"],["%s साल पहले","%s साल में"]][e]},r={};Object.defineProperty(r,"__esModule",{value:!0});f=r.default=function(t,e){return[["poco fa","fra poco"],["%s secondi fa","fra %s secondi"],["un minuto fa","fra un minuto"],["%s minuti fa","fra %s minuti"],["un'ora fa","fra un'ora"],["%s ore fa","fra %s ore"],["un giorno fa","fra un giorno"],["%s giorni fa","fra %s giorni"],["una settimana fa","fra una settimana"],["%s settimane fa","fra %s settimane"],["un mese fa","fra un mese"],["%s mesi fa","fra %s mesi"],["un anno fa","fra un anno"],["%s anni fa","fra %s anni"]][e]},s={};Object.defineProperty(s,"__esModule",{value:!0});r=s.default=function(t,e){return[["すこし前","すぐに"],["%s秒前","%s秒以内"],["1分前","1分以内"],["%s分前","%s分以内"],["1時間前","1時間以内"],["%s時間前","%s時間以内"],["1日前","1日以内"],["%s日前","%s日以内"],["1週間前","1週間以内"],["%s週間前","%s週間以内"],["1ヶ月前","1ヶ月以内"],["%sヶ月前","%sヶ月以内"],["1年前","1年以内"],["%s年前","%s年以内"]][e]},s={};Object.defineProperty(s,"__esModule",{value:!0});var s=s.default=function(t,e){return[["방금","곧"],["%s초 전","%s초 후"],["1분 전","1분 후"],["%s분 전","%s분 후"],["1시간 전","1시간 후"],["%s시간 전","%s시간 후"],["1일 전","1일 후"],["%s일 전","%s일 후"],["1주일 전","1주일 후"],["%s주일 전","%s주일 후"],["1개월 전","1개월 후"],["%s개월 전","%s개월 후"],["1년 전","1년 후"],["%s년 전","%s년 후"]][e]},pl={};Object.defineProperty(pl,"__esModule",{value:!0});var pl=pl.default=function(t,e){return[["recent","binnenkort"],["%s seconden geleden","binnen %s seconden"],["1 minuut geleden","binnen 1 minuut"],["%s minuten geleden","binnen %s minuten"],["1 uur geleden","binnen 1 uur"],["%s uur geleden","binnen %s uur"],["1 dag geleden","binnen 1 dag"],["%s dagen geleden","binnen %s dagen"],["1 week geleden","binnen 1 week"],["%s weken geleden","binnen %s weken"],["1 maand geleden","binnen 1 maand"],["%s maanden geleden","binnen %s maanden"],["1 jaar geleden","binnen 1 jaar"],["%s jaar geleden","binnen %s jaar"]][e]},S={};Object.defineProperty(S,"__esModule",{value:!0});var S=S.default=function(t,e){return[["agora mesmo","agora"],["há %s segundos","em %s segundos"],["há um minuto","em um minuto"],["há %s minutos","em %s minutos"],["há uma hora","em uma hora"],["há %s horas","em %s horas"],["há um dia","em um dia"],["há %s dias","em %s dias"],["há uma semana","em uma semana"],["há %s semanas","em %s semanas"],["há um mês","em um mês"],["há %s meses","em %s meses"],["há um ano","em um ano"],["há %s anos","em %s anos"]][e]},C={};function fl(t,e,n,i,o){var r=o%10;return 1===o?i=t:1==r&&20<o?i=e:1<r&&r<5&&(20<o||o<10)&&(i=n),i}Object.defineProperty(C,"__esModule",{value:!0});var ml=fl.bind(null,"секунду","%s секунду","%s секунды","%s секунд"),gl=fl.bind(null,"минуту","%s минуту","%s минуты","%s минут"),vl=fl.bind(null,"час","%s час","%s часа","%s часов"),yl=fl.bind(null,"день","%s день","%s дня","%s дней"),_l=fl.bind(null,"неделю","%s неделю","%s недели","%s недель"),bl=fl.bind(null,"месяц","%s месяц","%s месяца","%s месяцев"),wl=fl.bind(null,"год","%s год","%s года","%s лет");var C=C.default=function(t,e){switch(e){case 0:return["только что","через несколько секунд"];case 1:return[ml(t)+" назад","через "+ml(t)];case 2:case 3:return[gl(t)+" назад","через "+gl(t)];case 4:case 5:return[vl(t)+" назад","через "+vl(t)];case 6:return["вчера","завтра"];case 7:return[yl(t)+" назад","через "+yl(t)];case 8:case 9:return[_l(t)+" назад","через "+_l(t)];case 10:case 11:return[bl(t)+" назад","через "+bl(t)];case 12:case 13:return[wl(t)+" назад","через "+wl(t)];default:return["",""]}},xl={};Object.defineProperty(xl,"__esModule",{value:!0});var xl=xl.default=function(t,e){return[["just nu","om en stund"],["%s sekunder sedan","om %s sekunder"],["1 minut sedan","om 1 minut"],["%s minuter sedan","om %s minuter"],["1 timme sedan","om 1 timme"],["%s timmar sedan","om %s timmar"],["1 dag sedan","om 1 dag"],["%s dagar sedan","om %s dagar"],["1 vecka sedan","om 1 vecka"],["%s veckor sedan","om %s veckor"],["1 månad sedan","om 1 månad"],["%s månader sedan","om %s månader"],["1 år sedan","om 1 år"],["%s år sedan","om %s år"]][e]},Sl={};Object.defineProperty(Sl,"__esModule",{value:!0});var Sl=Sl.default=function(t,e){return[["เมื่อสักครู่นี้","อีกสักครู่"],["%s วินาทีที่แล้ว","ใน %s วินาที"],["1 นาทีที่แล้ว","ใน 1 นาที"],["%s นาทีที่แล้ว","ใน %s นาที"],["1 ชั่วโมงที่แล้ว","ใน 1 ชั่วโมง"],["%s ชั่วโมงที่แล้ว","ใน %s ชั่วโมง"],["1 วันที่แล้ว","ใน 1 วัน"],["%s วันที่แล้ว","ใน %s วัน"],["1 อาทิตย์ที่แล้ว","ใน 1 อาทิตย์"],["%s อาทิตย์ที่แล้ว","ใน %s อาทิตย์"],["1 เดือนที่แล้ว","ใน 1 เดือน"],["%s เดือนที่แล้ว","ใน %s เดือน"],["1 ปีที่แล้ว","ใน 1 ปี"],["%s ปีที่แล้ว","ใน %s ปี"]][e]},E={};Object.defineProperty(E,"__esModule",{value:!0});var E=E.default=function(t,e){return[["az önce","şimdi"],["%s saniye önce","%s saniye içinde"],["1 dakika önce","1 dakika içinde"],["%s dakika önce","%s dakika içinde"],["1 saat önce","1 saat içinde"],["%s saat önce","%s saat içinde"],["1 gün önce","1 gün içinde"],["%s gün önce","%s gün içinde"],["1 hafta önce","1 hafta içinde"],["%s hafta önce","%s hafta içinde"],["1 ay önce","1 ay içinde"],["%s ay önce","%s ay içinde"],["1 yıl önce","1 yıl içinde"],["%s yıl önce","%s yıl içinde"]][e]},Cl={},El=(Object.defineProperty(Cl,"__esModule",{value:!0}),["秒","分钟","小时","天","周","个月","年"]);var Cl=Cl.default=function(t,e){return 0===e?["刚刚","片刻后"]:[t+" "+(e=El[~~(e/2)])+"前",t+" "+e+"后"]},Al={};Object.defineProperty(Al,"__esModule",{value:!0});Al=Al.default=function(t,e){return[["剛剛","片刻後"],["%s 秒前","%s 秒後"],["1 分鐘前","1 分鐘後"],["%s 分鐘前","%s 分鐘後"],["1 小時前","1 小時後"],["%s 小時前","%s 小時後"],["1 天前","1 天後"],["%s 天前","%s 天後"],["1 週前","1 週後"],["%s 週前","%s 週後"],["1 個月前","1 個月後"],["%s 個月前","%s 個月後"],["1 年前","1 年後"],["%s 年前","%s 年後"]][e]};const Tl={ar:{"Add a comment...":"إضافة تعليق","Add a reply...":"إضافة رد","Add tag...":"إضافة علامة",Cancel:"إلغاء",Close:"إغلاق",Edit:"Edit",Delete:"Delete",Ok:"تم"},cs:{"Add a comment...":"Napsat komentář...","Add a reply...":"Odpovědět...","Add tag...":"Přidat štítek...",Cancel:"Zrušit",Close:"Zavřít",Edit:"Upravit",Delete:"Smazat",Ok:"Ok"},de:{"Add a comment...":"Kommentar schreiben...","Add a reply...":"Antwort schreiben...","Add tag...":"Tag...",Cancel:"Abbrechen",Close:"Schliessen",Edit:"Bearbeiten",Delete:"Löschen",Ok:"Ok"},el:{"Add a comment...":"Σχολίασε...","Add a reply...":"Απάντησε...","Add tag...":"Πρόσθεσε tag...",Cancel:"Άκυρο",Close:"Κλείσιμο",Edit:"Επεξεργασία",Delete:"Διαγραφή",Ok:"Ok"},es:{"Add a comment...":"Agregar un comentario...","Add a reply...":"Agregar una respuesta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Cerrar",Edit:"Editar",Delete:"Eliminar",Ok:"Ok"},fi:{"Add a comment...":"Lisää kommentti","Add a reply...":"Lisää vastaus","Add tag...":"Lisää tunniste",Cancel:"Peruuta",Close:"Sulje",Edit:"Muokkaa",Delete:"Poista",Ok:"Ok"},fr:{"Add a comment...":"Ajouter un commentaire...","Add a reply...":"Ajouter une réponse...","Add tag...":"Ajouter une étiquette...",Cancel:"Annuler",Close:"Fermer",Edit:"Éditer",Delete:"Supprimer",Ok:"Ok"},gl:{"Add a comment...":"Engadir un comentario...","Add a reply...":"Engadir unha resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Pechar",Edit:"Edit",Delete:"Delete",Ok:"Ok"},hi:{"Add a comment...":"टिप्पणी जोड़ें","Add a reply...":"जवाब दें","Add tag...":"टैग लगाएँ",Cancel:"रद्द करें",Close:"बंद करें",Edit:"संपादित करें",Delete:"हटाएँ",Ok:"ठीक है"},it:{"Add a comment...":"Commenta...","Add a reply...":"Rispondi...","Add tag...":"Aggiungi tag...",Cancel:"Annulla",Close:"Chiudi",Edit:"Edit",Delete:"Delete",Ok:"Ok"},ja:{"Add a comment...":"コメントを追加する...","Add a reply...":"返信する...","Add tag...":"タグを追加する...",Cancel:"キャンセル",Close:"閉じる",Edit:"編集",Delete:"削除",Ok:"Ok"},ko:{"Add a comment...":"댓글 추가","Add a reply...":"답글 추가","Add tag...":"태그 추가",Cancel:"취소",Close:"닫기",Edit:"수정",Delete:"삭제",Ok:"확인"},nl:{"Add a comment...":"Commentaar toevoegen...","Add a reply...":"Antwoord toevoegen...","Add tag...":"Tag toevoegen...",Cancel:"Afbreken",Close:"Sluiten",Edit:"Bewerken",Delete:"Verwijderen",Ok:"Ok"},pt:{"Add a comment...":"Adicionar um comentário...","Add a reply...":"Adicionar uma resposta...","Add tag...":"Etiquetar...",Cancel:"Cancelar",Close:"Fechar",Edit:"Editar",Delete:"Apagar",Ok:"Ok"},ru:{"Add a comment...":"Добавить комментарий...","Add a reply...":"Добавить ответ...","Add tag...":"Добавить тэг...",Cancel:"Отмена",Close:"Закрыть",Edit:"Редактировать",Delete:"Удалить",Ok:"Ок"},sv:{"Add a comment...":"Skriv en kommentar...","Add a reply...":"Skriv ett svar...","Add tag...":"Tagg...",Cancel:"Cancel",Close:"Stäng",Edit:"Edit",Delete:"Delete",Ok:"Ok"},th:{"Add a comment...":"เพิ่มคอมเมนต์...","Add a reply...":"ตอบกลับ...","Add tag...":"เพิ่มแท็ก...",Cancel:"ยกเลิก",Close:"ปิด",Edit:"แก้ไข",Delete:"ลบ",Ok:"ตกลง"},tr:{"Add a comment...":"Yorum ekle...","Add a reply...":"Cevap ekle...","Add tag...":"Tag Ekle...",Cancel:"İptal",Close:"Kapat",Edit:"Düzenle",Delete:"Sil",Ok:"Tamam"},ur:{"Add a comment...":"تبصرہ کریں","Add a reply...":"جواب دیں","Add tag...":"ٹیگ لگائیں",Cancel:"منسوخ کریں",Close:"بند کریں",Edit:"ترمیم کریں",Delete:"ہٹائیں",Ok:"ٹھیک ہے"},"zh-CN":{"Add a comment...":"添加评论...","Add a reply...":"添加回复...","Add tag...":"添加标签...",Cancel:"取消",Close:"关闭",Edit:"编辑",Delete:"删除",Ok:"确认"},"zh-TW":{"Add a comment...":"添加評論...","Add a reply...":"添加回覆...","Add tag...":"添加標籤...",Cancel:"取消",Close:"關閉",Edit:"編輯",Delete:"刪除",Ok:"確認"}},Pl=Object.keys(Tl),Ol=new Vo({allowMissing:!0});Ol.init=(t,e)=>{Ol.clear(),t&&(Ol.locale(t),Ol.extend(Tl[t])),e&&Ol.extend(e)},v("ar",g),v("cs",d),v("de",a),v("el",i),v("es",t),v("fi",l),v("fr",e),v("gl",_),v("hi",n),v("it",f),v("ja",r),v("ko",s),v("nl",pl),v("pt",S),v("ru",C),v("sv",xl),v("th",Sl),v("tr",E),v("zh-CN",Cl),v("zh-TW",Al),Ol.registerMessages=(t,e)=>{Tl[t]?Tl[t]={...Tl[t],...e}:Tl[t]=e};var kl=Ol,Ll=t=>{var e=Mt();{var n=e,i=()=>t.onClickOutside();const o=t=>{n.current&&!n.current.contains(event.target)&&i()};kt(()=>(document.addEventListener("mousedown",o),()=>document.removeEventListener("mousedown",o)))}return k.createElement("ul",{ref:e,className:"r6o-comment-dropdown-menu"},k.createElement("li",{onClick:t.onEdit},kl.t("Edit")),k.createElement("li",{onClick:t.onDelete},kl.t("Delete")))},Vo={},g={},d={exports:{}},a=d,i=d.exports,Ml="function"==typeof Map?new Map:function(){var n=[],i=[];return{has:function(t){return-1<n.indexOf(t)},get:function(t){return i[n.indexOf(t)]},set:function(t,e){-1===n.indexOf(t)&&(n.push(t),i.push(e))},delete:function(t){t=n.indexOf(t);-1<t&&(n.splice(t,1),i.splice(t,1))}}}(),Dl=function(t){return new Event(t,{bubbles:!0})};try{new Event("test")}catch{Dl=function(t){var e=document.createEvent("Event");return e.initEvent(t,!0,!1),e}}function Nl(i){var n,o,r,t,s,e;function a(t){var e=i.style.width;i.style.width="0px",i.offsetWidth,i.style.width=e,i.style.overflowY=t}function l(){var t,e;0!==i.scrollHeight&&(t=function(t){for(var e=[];t&&t.parentNode&&t.parentNode instanceof Element;)t.parentNode.scrollTop&&e.push({node:t.parentNode,scrollTop:t.parentNode.scrollTop}),t=t.parentNode;return e}(i),e=document.documentElement&&document.documentElement.scrollTop,i.style.height="",i.style.height=i.scrollHeight+n+"px",o=i.clientWidth,t.forEach(function(t){t.node.scrollTop=t.scrollTop}),e)&&(document.documentElement.scrollTop=e)}function u(){l();var t=Math.round(parseFloat(i.style.height)),e=window.getComputedStyle(i,null),n="content-box"===e.boxSizing?Math.round(parseFloat(e.height)):i.offsetHeight;if(n<t?"hidden"===e.overflowY&&(a("scroll"),l(),n="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight):"hidden"!==e.overflowY&&(a("hidden"),l(),n="content-box"===e.boxSizing?Math.round(parseFloat(window.getComputedStyle(i,null).height)):i.offsetHeight),r!==n){r=n;t=Dl("autosize:resized");try{i.dispatchEvent(t)}catch{}}}i&&i.nodeName&&"TEXTAREA"===i.nodeName&&!Ml.has(i)&&(r=o=n=null,t=function(){i.clientWidth!==o&&u()},s=function(e){window.removeEventListener("resize",t,!1),i.removeEventListener("input",u,!1),i.removeEventListener("keyup",u,!1),i.removeEventListener("autosize:destroy",s,!1),i.removeEventListener("autosize:update",u,!1),Object.keys(e).forEach(function(t){i.style[t]=e[t]}),Ml.delete(i)}.bind(i,{height:i.style.height,resize:i.style.resize,overflowY:i.style.overflowY,overflowX:i.style.overflowX,wordWrap:i.style.wordWrap}),i.addEventListener("autosize:destroy",s,!1),"onpropertychange"in i&&"oninput"in i&&i.addEventListener("keyup",u,!1),window.addEventListener("resize",t,!1),i.addEventListener("input",u,!1),i.addEventListener("autosize:update",u,!1),i.style.overflowX="hidden",i.style.wordWrap="break-word",Ml.set(i,{destroy:s,update:u}),"vertical"===(e=window.getComputedStyle(i,null)).resize?i.style.resize="none":"both"===e.resize&&(i.style.resize="horizontal"),n="content-box"===e.boxSizing?-(parseFloat(e.paddingTop)+parseFloat(e.paddingBottom)):parseFloat(e.borderTopWidth)+parseFloat(e.borderBottomWidth),isNaN(n)&&(n=0),u())}function zl(t){t=Ml.get(t);t&&t.destroy()}function jl(t){t=Ml.get(t);t&&t.update()}var t=null,Il=("undefined"==typeof window||"function"!=typeof window.getComputedStyle?((t=function(t){return t}).destroy=function(t){return t},t.update=function(t){return t}):((t=function(t,e){return t&&Array.prototype.forEach.call(t.length?t:[t],Nl),t}).destroy=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],zl),t},t.update=function(t){return t&&Array.prototype.forEach.call(t.length?t:[t],jl),t}),i.default=t,a.exports=i.default,function(t,e,n){return((n=window.getComputedStyle)?n(t):t.currentStyle)[e.replace(/-(\w)/gi,function(t,e){return e.toUpperCase()})]});function Rl(t){var e,n=Il(t,"line-height"),i=parseFloat(n,10);return n===i+""&&(e=t.style.lineHeight,t.style.lineHeight=n+"em",n=Il(t,"line-height"),i=parseFloat(n,10),e?t.style.lineHeight=e:delete t.style.lineHeight),-1!==n.indexOf("pt")?i=i*4/3:-1!==n.indexOf("mm")?i=i*96/25.4:-1!==n.indexOf("cm")?i=i*96/2.54:-1!==n.indexOf("in")?i*=96:-1!==n.indexOf("pc")&&(i*=16),i=Math.round(i),"normal"===n&&(e=t.nodeName,(n=document.createElement(e)).innerHTML="&nbsp;","TEXTAREA"===e.toUpperCase()&&n.setAttribute("rows","1"),e=Il(t,"font-size"),n.style.fontSize=e,n.style.padding="0px",n.style.border="0px",(t=document.body).appendChild(n),i=n.offsetHeight,t.removeChild(n)),i}var Bl,Hl,l=xe&&xe.__extends||(Bl=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}),function(t,e){function n(){this.constructor=t}Bl(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),Fl=xe&&xe.__assign||Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},Wl=xe&&xe.__rest||function(t,e){var n={};for(o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.indexOf(o)<0&&(n[o]=t[o]);if(null!=t&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,o=Object.getOwnPropertySymbols(t);i<o.length;i++)e.indexOf(o[i])<0&&(n[o[i]]=t[o[i]]);return n},Vl=(g.__esModule=!0,Jt),e=on.exports,Ul=d.exports,Zl=Rl,ql="autosize:resized",$l=(Hl=Vl.Component,l(Gl,Hl),Gl.prototype.componentDidMount=function(){var t=this,e=this.props,n=e.maxRows,e=e.async;"number"==typeof n&&this.updateLineHeight(),"number"==typeof n||e?setTimeout(function(){return t.textarea&&Ul(t.textarea)}):this.textarea&&Ul(this.textarea),this.textarea&&this.textarea.addEventListener(ql,this.onResize)},Gl.prototype.componentWillUnmount=function(){this.textarea&&(this.textarea.removeEventListener(ql,this.onResize),Ul.destroy(this.textarea))},Gl.prototype.render=function(){var e=this,t=this.props,n=(t.onResize,t.maxRows),i=(t.onChange,t.style),o=(t.innerRef,t.children),t=Wl(t,["onResize","maxRows","onChange","style","innerRef","children"]),r=this.state.lineHeight,r=n&&r?r*n:null;return Vl.createElement("textarea",Fl({},t,{onChange:this.onChange,style:r?Fl({},i,{maxHeight:r}):i,ref:function(t){e.textarea=t,"function"==typeof e.props.innerRef?e.props.innerRef(t):e.props.innerRef&&(e.props.innerRef.current=t)}}),o)},Gl.prototype.componentDidUpdate=function(){this.textarea&&Ul.update(this.textarea)},Gl.defaultProps={rows:1,async:!1},Gl.propTypes={rows:e.number,maxRows:e.number,onResize:e.func,innerRef:e.any,async:e.bool},Gl);function Gl(){var n=null!==Hl&&Hl.apply(this,arguments)||this;return n.state={lineHeight:null},n.textarea=null,n.onResize=function(t){n.props.onResize&&n.props.onResize(t)},n.updateLineHeight=function(){n.textarea&&n.setState({lineHeight:Zl(n.textarea)})},n.onChange=function(t){var e=n.props.onChange;n.currentValue=t.currentTarget.value,e&&e(t)},n}g.TextareaAutosize=Vl.forwardRef(function(t,e){return Vl.createElement($l,Fl({},t,{innerRef:e}))}),(_=Vo).__esModule=!0,_.default=g.TextareaAutosize;var Yl=(n=Vo)&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n;class Xl extends x{constructor(t){super(t),u(this,"onKeyDown",t=>{13===t.which&&t.ctrlKey&&this.props.onSaveAndClose()}),this.element=G()}componentDidMount(){this.props.focus&&this.element.current&&this.element.current.focus({preventScroll:!0})}render(){return k.createElement(Yl,{ref:this.element,className:"r6o-editable-text",value:this.props.content,placeholder:this.props.placeholder||kl.t("Add a comment..."),disabled:!this.props.editable,onChange:this.props.onChange,onKeyDown:this.onKeyDown})}}function L(){return(L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}(f=su.prototype).hydrate=function(t){t.forEach(this._insertTag)},f.insert=function(t){this.ctr%(this.isSpeedy?65e3:1)==0&&this._insertTag((e=this,(n=document.createElement("style")).setAttribute("data-emotion",e.key),void 0!==e.nonce&&n.setAttribute("nonce",e.nonce),n.appendChild(document.createTextNode("")),n.setAttribute("data-s",""),n));var e=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(t){if(t.sheet)return t.sheet;for(var e=0;e<document.styleSheets.length;e++)if(document.styleSheets[e].ownerNode===t)return document.styleSheets[e]}(e);try{n.insertRule(t,n.cssRules.length)}catch{}}else e.appendChild(document.createTextNode(t));this.ctr++},f.flush=function(){this.tags.forEach(function(t){return t.parentNode&&t.parentNode.removeChild(t)}),this.tags=[],this.ctr=0};var r=su,A="-ms-",Kl="-moz-",T="-webkit-",Jl="comm",Ql="rule",tu="decl",eu="@import",nu="@keyframes",iu=Math.abs,ou=String.fromCharCode,ru=Object.assign;function su(t){var n=this;this._insertTag=function(t){var e=0===n.tags.length?n.insertionPoint?n.insertionPoint.nextSibling:n.prepend?n.container.firstChild:n.before:n.tags[n.tags.length-1].nextSibling;n.container.insertBefore(t,e),n.tags.push(t)},this.isSpeedy=void 0===t.speedy||t.speedy,this.tags=[],this.ctr=0,this.nonce=t.nonce,this.key=t.key,this.container=t.container,this.prepend=t.prepend,this.insertionPoint=t.insertionPoint,this.before=null}function au(t){return t.trim()}function P(t,e,n){return t.replace(e,n)}function lu(t,e){return t.indexOf(e)}function uu(t,e){return 0|t.charCodeAt(e)}function cu(t,e,n){return t.slice(e,n)}function hu(t){return t.length}function du(t){return t.length}function pu(t,e){return e.push(t),t}var fu=1,mu=1,gu=0,O=0,M=0,vu="";function yu(t,e,n,i,o,r,s){return{value:t,root:e,parent:n,type:i,props:o,children:r,line:fu,column:mu,length:s,return:""}}function _u(t,e){return ru(yu("",null,null,"",null,null,0),t,{length:-t.length},e)}function bu(){return M=0<O?uu(vu,--O):0,mu--,10===M&&(mu=1,fu--),M}function wu(){return M=O<gu?uu(vu,O++):0,mu++,10===M&&(mu=1,fu++),M}function xu(){return uu(vu,O)}function Su(t,e){return cu(vu,t,e)}function Cu(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Eu(t){return fu=mu=1,gu=hu(vu=t),O=0,[]}function Au(t){return vu="",t}function Tu(t){return au(Su(O-1,function t(e){for(;wu();)switch(M){case e:return O;case 34:case 39:34!==e&&39!==e&&t(M);break;case 40:41===e&&t(e);break;case 92:wu()}return O}(91===t?t+2:40===t?t+1:t)))}function Pu(t){for(;(M=xu())&&M<33;)wu();return 2<Cu(t)||3<Cu(M)?"":" "}function Ou(t,e){for(;--e&&wu()&&!(M<48||102<M||57<M&&M<65||70<M&&M<97););return Su(t,O+(e<6&&32==xu()&&32==wu()))}function ku(t,e){for(;wu()&&t+M!==57&&(t+M!==84||47!==xu()););return"/*"+Su(e,O-1)+"*"+ou(47===t?t:wu())}function Lu(t){for(;!Cu(xu());)wu();return Su(t,O)}function Mu(t){return Au(function t(e,n,i,o,r,s,a,l,u){for(var c=0,h=0,d=a,p=0,f=0,m=0,g=1,v=1,y=1,_=0,b="",w=r,x=s,S=o,C=b;v;)switch(m=_,_=wu()){case 40:if(108!=m&&58==C.charCodeAt(d-1)){-1!=lu(C+=P(Tu(_),"&","&\f"),"&\f")&&(y=-1);break}case 34:case 39:case 91:C+=Tu(_);break;case 9:case 10:case 13:case 32:C+=Pu(m);break;case 92:C+=Ou(O-1,7);continue;case 47:switch(xu()){case 42:case 47:pu(Nu(ku(wu(),O),n,i),u);break;default:C+="/"}break;case 123*g:l[c++]=hu(C)*y;case 125*g:case 59:case 0:switch(_){case 0:case 125:v=0;case 59+h:0<f&&hu(C)-d&&pu(32<f?zu(C+";",o,i,d-1):zu(P(C," ","")+";",o,i,d-2),u);break;case 59:C+=";";default:if(pu(S=Du(C,n,i,c,h,r,l,b,w=[],x=[],d),s),123===_)if(0===h)t(C,n,S,S,w,s,d,l,x);else switch(p){case 100:case 109:case 115:t(e,S,S,o&&pu(Du(e,S,S,0,0,r,l,b,r,w=[],d),x),r,x,d,l,o?w:x);break;default:t(C,S,S,S,[""],x,0,l,x)}}c=h=f=0,g=y=1,b=C="",d=a;break;case 58:d=1+hu(C),f=m;default:if(g<1)if(123==_)--g;else if(125==_&&0==g++&&125==bu())continue;switch(C+=ou(_),_*g){case 38:y=0<h?1:(C+="\f",-1);break;case 44:l[c++]=(hu(C)-1)*y,y=1;break;case 64:45===xu()&&(C+=Tu(wu())),p=xu(),h=d=hu(b=C+=Lu(O)),_++;break;case 45:45===m&&2==hu(C)&&(g=0)}}return s}("",null,null,null,[""],t=Eu(t),0,[0],t))}function Du(t,e,n,i,o,r,s,a,l,u,c){for(var h,d=o-1,p=0===o?r:[""],f=du(p),m=0,g=0;m<i;++m)for(var v,y=0,_=cu(t,d+1,d=iu(h=s[m]));y<f;++y)(v=au(0<h?p[y]+" "+_:P(_,/&\f/g,p[y])))&&(l[g++]=v);return yu(t,e,n,0===o?Ql:a,l,u,c)}function Nu(t,e,n){return yu(t,e,n,Jl,ou(M),cu(t,2,-2),0)}function zu(t,e,n,i){return yu(t,e,n,tu,cu(t,0,i),cu(t,i+1,-1),i)}function ju(t,e){switch((((e<<2^uu(n=t,0))<<2^uu(n,1))<<2^uu(n,2))<<2^uu(n,3)){case 5103:return T+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return T+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return T+t+Kl+t+A+t+t;case 6828:case 4268:return T+t+A+t+t;case 6165:return T+t+A+"flex-"+t+t;case 5187:return T+t+P(t,/(\w+).+(:[^]+)/,T+"box-$1$2"+A+"flex-$1$2")+t;case 5443:return T+t+A+"flex-item-"+P(t,/flex-|-self/,"")+t;case 4675:return T+t+A+"flex-line-pack"+P(t,/align-content|flex-|-self/,"")+t;case 5548:return T+t+A+P(t,"shrink","negative")+t;case 5292:return T+t+A+P(t,"basis","preferred-size")+t;case 6060:return T+"box-"+P(t,"-grow","")+T+t+A+P(t,"grow","positive")+t;case 4554:return T+P(t,/([^-])(transform)/g,"$1"+T+"$2")+t;case 6187:return P(P(P(t,/(zoom-|grab)/,T+"$1"),/(image-set)/,T+"$1"),t,"")+t;case 5495:case 3959:return P(t,/(image-set\([^]*)/,T+"$1$`$1");case 4968:return P(P(t,/(.+:)(flex-)?(.*)/,T+"box-pack:$3"+A+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+T+t+t;case 4095:case 3583:case 4068:case 2532:return P(t,/(.+)-inline(.+)/,T+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(6<hu(t)-1-e)switch(uu(t,e+1)){case 109:if(45!==uu(t,e+4))break;case 102:return P(t,/(.+:)(.+)-([^]+)/,"$1"+T+"$2-$3$1"+Kl+(108==uu(t,e+3)?"$3":"$2-$3"))+t;case 115:return~lu(t,"stretch")?ju(P(t,"stretch","fill-available"),e)+t:t}break;case 4949:if(115!==uu(t,e+1))break;case 6444:switch(uu(t,hu(t)-3-(~lu(t,"!important")&&10))){case 107:return P(t,":",":"+T)+t;case 101:return P(t,/(.+:)([^;!]+)(;|!.+)?/,"$1"+T+(45===uu(t,14)?"inline-":"")+"box$3$1"+T+"$2$3$1"+A+"$2box$3")+t}break;case 5936:switch(uu(t,e+11)){case 114:return T+t+A+P(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return T+t+A+P(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return T+t+A+P(t,/[svh]\w+-[tblr]{2}/,"lr")+t}return T+t+A+t+t}var n;return t}function Iu(t,e){for(var n="",i=du(t),o=0;o<i;o++)n+=e(t[o],o,t,e)||"";return n}function Ru(t,e,n,i){switch(t.type){case eu:case tu:return t.return=t.return||t.value;case Jl:return"";case nu:return t.return=t.value+"{"+Iu(t.children,i)+"}";case Ql:t.value=t.props.join(",")}return hu(n=Iu(t.children,i))?t.return=t.value+"{"+n+"}":""}function Bu(t,e){var n=-1,i=44;do{switch(Cu(i)){case 0:38===i&&12===xu()&&(e[n]=1),t[n]+=function(t,e,n){for(var i,o=0;i=o,o=xu(),38===i&&12===o&&(e[n]=1),!Cu(o);)wu();return Su(t,O)}(O-1,e,n);break;case 2:t[n]+=Tu(i);break;case 4:if(44===i){t[++n]=58===xu()?"&\f":"",e[n]=t[n].length;break}default:t[n]+=ou(i)}}while(i=wu());return t}function Hu(t){if("rule"===t.type&&t.parent&&!(t.length<1)){for(var e=t.value,n=t.parent,i=t.column===n.column&&t.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==t.props.length||58===e.charCodeAt(0)||Vu.get(n))&&!i){Vu.set(t,!0);for(var o=[],r=Wu(e,o),s=n.props,a=0,l=0;a<r.length;a++)for(var u=0;u<s.length;u++,l++)t.props[l]=o[a]?r[a].replace(/&\f/g,s[u]):s[u]+" "+r[a]}}}function Fu(t){var e;"decl"===t.type&&108===(e=t.value).charCodeAt(0)&&98===e.charCodeAt(2)&&(t.return="",t.value="")}var Wu=function(t,e){return Au(Bu(Eu(t),e))},Vu=new WeakMap,s=[function(n,t,e,i){if(-1<n.length&&!n.return)switch(n.type){case tu:n.return=ju(n.value,n.length);break;case nu:return Iu([_u(n,{value:P(n.value,"@","@"+T)})],i);case Ql:if(n.length)return o=n.props,r=function(t){switch((e=/(::plac\w+|:read-\w+)/.exec(e=t))&&e[0]){case":read-only":case":read-write":return Iu([_u(n,{props:[P(t,/:(read-\w+)/,":"+Kl+"$1")]})],i);case"::placeholder":return Iu([_u(n,{props:[P(t,/:(plac\w+)/,":"+T+"input-$1")]}),_u(n,{props:[P(t,/:(plac\w+)/,":"+Kl+"$1")]}),_u(n,{props:[P(t,/:(plac\w+)/,A+"input-$1")]})],i)}var e;return""},o.map(r).join("")}var o,r}],pl={exports:{}},S={},C="function"==typeof Symbol&&Symbol.for,Uu=C?Symbol.for("react.element"):60103,Zu=C?Symbol.for("react.portal"):60106,qu=C?Symbol.for("react.fragment"):60107,$u=C?Symbol.for("react.strict_mode"):60108,Gu=C?Symbol.for("react.profiler"):60114,Yu=C?Symbol.for("react.provider"):60109,Xu=C?Symbol.for("react.context"):60110,Ku=C?Symbol.for("react.async_mode"):60111,Ju=C?Symbol.for("react.concurrent_mode"):60111,Qu=C?Symbol.for("react.forward_ref"):60112,tc=C?Symbol.for("react.suspense"):60113,ec=C?Symbol.for("react.suspense_list"):60120,nc=C?Symbol.for("react.memo"):60115,ic=C?Symbol.for("react.lazy"):60116,oc=C?Symbol.for("react.block"):60121,rc=C?Symbol.for("react.fundamental"):60117,sc=C?Symbol.for("react.responder"):60118,ac=C?Symbol.for("react.scope"):60119;
/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function lc(t){if("object"==typeof t&&null!==t){var e=t.$$typeof;switch(e){case Uu:switch(t=t.type){case Ku:case Ju:case qu:case Gu:case $u:case tc:return t;default:switch(t=t&&t.$$typeof){case Xu:case Qu:case ic:case nc:case Yu:return t;default:return e}}case Zu:return e}}}function uc(t){return lc(t)===Ju}S.AsyncMode=Ku,S.ConcurrentMode=Ju,S.ContextConsumer=Xu,S.ContextProvider=Yu,S.Element=Uu,S.ForwardRef=Qu,S.Fragment=qu,S.Lazy=ic,S.Memo=nc,S.Portal=Zu,S.Profiler=Gu,S.StrictMode=$u,S.Suspense=tc,S.isAsyncMode=function(t){return uc(t)||lc(t)===Ku},S.isConcurrentMode=uc,S.isContextConsumer=function(t){return lc(t)===Xu},S.isContextProvider=function(t){return lc(t)===Yu},S.isElement=function(t){return"object"==typeof t&&null!==t&&t.$$typeof===Uu},S.isForwardRef=function(t){return lc(t)===Qu},S.isFragment=function(t){return lc(t)===qu},S.isLazy=function(t){return lc(t)===ic},S.isMemo=function(t){return lc(t)===nc},S.isPortal=function(t){return lc(t)===Zu},S.isProfiler=function(t){return lc(t)===Gu},S.isStrictMode=function(t){return lc(t)===$u},S.isSuspense=function(t){return lc(t)===tc},S.isValidElementType=function(t){return"string"==typeof t||"function"==typeof t||t===qu||t===Ju||t===Gu||t===$u||t===tc||t===ec||"object"==typeof t&&null!==t&&(t.$$typeof===ic||t.$$typeof===nc||t.$$typeof===Yu||t.$$typeof===Xu||t.$$typeof===Qu||t.$$typeof===rc||t.$$typeof===sc||t.$$typeof===ac||t.$$typeof===oc)},S.typeOf=lc,pl.exports=S;xl=pl.exports;xl.ForwardRef,xl.Memo;function cc(e,n,t){var i="";return t.split(" ").forEach(function(t){void 0!==e[t]?n.push(e[t]+";"):i+=t+" "}),i}function hc(t,e,n){var i=t.key+"-"+e.name;if(!1===n&&void 0===t.registered[i]&&(t.registered[i]=e.styles),void 0===t.inserted[e.name])for(var o=e;t.insert(e===o?"."+i:"",o,t.sheet,!0),void 0!==(o=o.next););}function dc(t){return null!=t&&"boolean"!=typeof t}function pc(t,e){switch(t){case"animation":case"animationName":if("string"==typeof e)return e.replace(yc,function(t,e,n){return Cc={name:e,styles:n,next:Cc},e})}return 1===gc[t]||_c(t)||"number"!=typeof e||0===e?e:e+"px"}var fc,mc,gc={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},vc=/[A-Z]|^ms/g,yc=/_EMO_([^_]+?)_([^]*?)_EMO_/g,_c=function(t){return 45===t.charCodeAt(1)},bc=(fc=function(t){return _c(t)?t:t.replace(vc,"-$&").toLowerCase()},mc=Object.create(null),function(t){return void 0===mc[t]&&(mc[t]=fc(t)),mc[t]});function wc(t,e,n){if(null==n)return"";if(void 0!==n.__emotion_styles)return n;switch(typeof n){case"boolean":return"";case"object":if(1===n.anim)return Cc={name:n.name,styles:n.styles,next:Cc},n.name;if(void 0===n.styles){var i=t,o=e,r=n,s="";if(Array.isArray(r))for(var a=0;a<r.length;a++)s+=wc(i,o,r[a])+";";else for(var l in r){var u=r[l];if("object"!=typeof u)null!=o&&void 0!==o[u]?s+=l+"{"+o[u]+"}":dc(u)&&(s+=bc(l)+":"+pc(l,u)+";");else if(!Array.isArray(u)||"string"!=typeof u[0]||null!=o&&void 0!==o[u[0]]){var c=wc(i,o,u);switch(l){case"animation":case"animationName":s+=bc(l)+":"+c+";";break;default:s+=l+"{"+c+"}"}}else for(var h=0;h<u.length;h++)dc(u[h])&&(s+=bc(l)+":"+pc(l,u[h])+";")}return s}var d=n.next;if(void 0!==d)for(;void 0!==d;)Cc={name:d.name,styles:d.styles,next:Cc},d=d.next;return n.styles+";";case"function":var p,f;if(void 0!==t)return p=Cc,f=n(t),Cc=p,wc(t,e,f)}var m;return null!=e&&void 0!==(m=e[n])?m:n}function xc(i){return Xt(function(t,e){var n=jt(jc);return i(t,n,e)})}function Sc(){return null}var Cc,Ec,Ac,Tc,Pc,Oc,kc,Lc,Mc,Dc=/label:\s*([^\s;\n{]+)\s*(;|$)/g,Nc=function(t,e,n){if(1===t.length&&"object"==typeof t[0]&&null!==t[0]&&void 0!==t[0].styles)return t[0];var i=!0,o="",r=(Cc=void 0,t[0]);null==r||void 0===r.raw?(i=!1,o+=wc(n,e,r)):o+=r[0];for(var s=1;s<t.length;s++)o+=wc(n,e,t[s]),i&&(o+=r[s]);Dc.lastIndex=0;for(var a,l="";null!==(a=Dc.exec(o));)l+="-"+a[1];return{name:function(t){for(var e,n=0,i=0,o=t.length;4<=o;++i,o-=4)e=1540483477*(65535&(e=255&t.charCodeAt(i)|(255&t.charCodeAt(++i))<<8|(255&t.charCodeAt(++i))<<16|(255&t.charCodeAt(++i))<<24))+(59797*(e>>>16)<<16),n=1540483477*(65535&(e^=e>>>24))+(59797*(e>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(o){case 3:n^=(255&t.charCodeAt(i+2))<<16;case 2:n^=(255&t.charCodeAt(i+1))<<8;case 1:n=1540483477*(65535&(n^=255&t.charCodeAt(i)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(o)+l,styles:o,next:Cc}},zc={}.hasOwnProperty,jc=pt("undefined"!=typeof HTMLElement?("css"===(E=(Sl={key:"css"}).key)&&(Op=document.querySelectorAll("style[data-emotion]:not([data-s])"),Array.prototype.forEach.call(Op,function(t){-1!==t.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(t),t.setAttribute("data-s",""))})),Op=Sl.stylisPlugins||s,Ec={},Ac=[],Cl=Sl.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+E+' "]'),function(t){for(var e=t.getAttribute("data-emotion").split(" "),n=1;n<e.length;n++)Ec[e[n]]=!0;Ac.push(t)}),Al=[Ru,(kc=function(t){Tc.insert(t)},function(t){t.root||(t=t.return)&&kc(t)})],Pc=[Hu,Fu].concat(Op,Al),Oc=du(Pc),Lc=function(t,e,n,i){for(var o="",r=0;r<Oc;r++)o+=Pc[r](t,e,n,i)||"";return o},Op=function(t,e,n,i){Tc=n,Iu(Mu(t?t+"{"+e.styles+"}":e.styles),Lc),i&&(Mc.inserted[e.name]=!0)},(Mc={key:E,sheet:new r({key:E,container:Cl,nonce:Sl.nonce,speedy:Sl.speedy,prepend:Sl.prepend,insertionPoint:Sl.insertionPoint}),nonce:Sl.nonce,inserted:Ec,registered:{},insert:Op}).sheet.hydrate(Ac),Mc):null),Ic=(jc.Provider,pt({})),Rc="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Bc=function(t,e){var n,i={};for(n in e)zc.call(e,n)&&(i[n]=e[n]);return i[Rc]=t,i},Hc=xc(function(t,e,n){var i,o=t.css,r=("string"==typeof o&&void 0!==e.registered[o]&&(o=e.registered[o]),t[Rc]),o=[o],s="",o=("string"==typeof t.className?s=cc(e.registered,o,t.className):null!=t.className&&(s=t.className+" "),Nc(o,void 0,jt(Ic))),a=(hc(e,o,"string"==typeof r),s+=e.key+"-"+o.name,{});for(i in t)zc.call(t,i)&&"css"!==i&&i!==Rc&&(a[i]=t[i]);a.ref=n,a.className=s;e=c(r,a),o=c(Sc,null);return c(Y,null,o,e)}),D=function(t,e){var n=arguments;if(null==e||!zc.call(e,"css"))return c.apply(void 0,n);var i=n.length,o=new Array(i);o[0]=Hc,o[1]=Bc(t,e);for(var r=2;r<i;r++)o[r]=n[r];return c.apply(null,o)};function Fc(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return Nc(e)}function Wc(t){for(var e=t.length,n=0,i="";n<e;n++){var o=t[n];if(null!=o){var r=void 0;switch(typeof o){case"boolean":break;case"object":if(Array.isArray(o))r=Wc(o);else for(var s in r="",o)o[s]&&s&&(r&&(r+=" "),r+=s);break;default:r=o}r&&(i&&(i+=" "),i+=r)}}return i}function Vc(){return null}var Uc=xc(function(t,a){function l(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];var i=Nc(e,a.registered);return hc(a,i,!1),a.key+"-"+i.name}var e={css:l,cx:function(){for(var t,e,n,i,o=arguments.length,r=new Array(o),s=0;s<o;s++)r[s]=arguments[s];return t=a.registered,e=l,n=Wc(r),t=cc(t,i=[],n),i.length<2?n:t+e(i)},theme:jt(Ic)},t=t.children(e),e=c(Vc,null);return c(Y,null,e,t)});function Zc(t,e){if(null==t)return{};for(var n,i={},o=Object.keys(t),r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}function qc(t,e){if(null==t)return{};var n,i=Zc(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n]);return i}function $c(t){return($c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}var t={},Gc=(Object.defineProperty(t,"__esModule",{value:!0}),Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),Yc=function(t,e,n){return e&&Kc(t.prototype,e),n&&Kc(t,n),t},a=Jt,Xc=Jc(a),i=Jc(on.exports);function Kc(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function Jc(t){return t&&t.__esModule?t:{default:t}}function Qc(t,e){e.style.fontSize=t.fontSize,e.style.fontFamily=t.fontFamily,e.style.fontWeight=t.fontWeight,e.style.fontStyle=t.fontStyle,e.style.letterSpacing=t.letterSpacing,e.style.textTransform=t.textTransform}function th(){return ih?"_"+Math.random().toString(36).substr(2,12):void 0}var eh={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},nh=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],ih=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),xe=function(t){var e=n;if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);function n(t){var e;if(this instanceof n)return(e=function(t,e){if(t)return!e||"object"!=typeof e&&"function"!=typeof e?t:e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t))).inputRef=function(t){e.input=t,"function"==typeof e.props.inputRef&&e.props.inputRef(t)},e.placeHolderSizerRef=function(t){e.placeHolderSizer=t},e.sizerRef=function(t){e.sizer=t},e.state={inputWidth:t.minWidth,inputId:t.id||th(),prevId:t.id},e;throw new TypeError("Cannot call a class as a function")}return e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t),Yc(n,null,[{key:"getDerivedStateFromProps",value:function(t,e){t=t.id;return t!==e.prevId?{inputId:t||th(),prevId:t}:null}}]),Yc(n,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentDidUpdate",value:function(t,e){e.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){var t;this.mounted&&window.getComputedStyle&&(t=this.input&&window.getComputedStyle(this.input))&&(Qc(t,this.sizer),this.placeHolderSizer)&&Qc(t,this.placeHolderSizer)}},{key:"updateInputWidth",value:function(){var t;this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth&&(t=void 0,t=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(t=(t+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth?this.props.minWidth:t)!==this.state.inputWidth)&&this.setState({inputWidth:t})}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var t=this.props.injectStyles;return ih&&t?Xc.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e,t=[this.props.defaultValue,this.props.value,""].reduce(function(t,e){return null!=t?t:e}),n=Gc({},this.props.style),i=(n.display||(n.display="inline-block"),Gc({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle)),o=function(t,e){var n,i={};for(n in t)0<=e.indexOf(n)||!Object.prototype.hasOwnProperty.call(t,n)||(i[n]=t[n]);return i}(this.props,[]);return e=o,nh.forEach(function(t){return delete e[t]}),o.className=this.props.inputClassName,o.id=this.state.inputId,o.style=i,Xc.default.createElement("div",{className:this.props.className,style:n},this.renderStyles(),Xc.default.createElement("input",Gc({},o,{ref:this.inputRef})),Xc.default.createElement("div",{ref:this.sizerRef,style:eh},t),this.props.placeholder?Xc.default.createElement("div",{ref:this.placeHolderSizerRef,style:eh},this.props.placeholder):null)}}]),n}(a.Component),oh=(xe.propTypes={className:i.default.string,defaultValue:i.default.any,extraWidth:i.default.oneOfType([i.default.number,i.default.string]),id:i.default.string,injectStyles:i.default.bool,inputClassName:i.default.string,inputRef:i.default.func,inputStyle:i.default.object,minWidth:i.default.oneOfType([i.default.number,i.default.string]),onAutosize:i.default.func,onChange:i.default.func,placeholder:i.default.string,placeholderIsMinWidth:i.default.bool,style:i.default.object,value:i.default.any},xe.defaultProps={minWidth:1,injectStyles:!0},t.default=xe);function rh(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function sh(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function ah(t,e,n){e&&sh(t.prototype,e),n&&sh(t,n),Object.defineProperty(t,"prototype",{writable:!1})}function lh(t,e){return(lh=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function uh(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");Object.defineProperty(t,"prototype",{value:Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),writable:!1}),e&&lh(t,e)}function ch(t,e,n){e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n}function hh(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function N(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?hh(Object(o),!0).forEach(function(t){var e,n;e=i,n=o[t=t],t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):hh(Object(o)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(o,t))})}return i}function dh(t){return(dh=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function ph(t,e){if(!e||"object"!=typeof e&&"function"!=typeof e){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}return e}function fh(n){var i=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}();return function(){var t,e=dh(n);return ph(this,i?(t=dh(this).constructor,Reflect.construct(e,arguments,t)):e.apply(this,arguments))}}function mh(){}function gh(t){return Array.isArray(t)?t.filter(Boolean):"object"===$c(t)&&null!==t?[t]:[]}function vh(t){return t.className,t.clearValue,t.cx,t.getStyles,t.getValue,t.hasValue,t.isMulti,t.isRtl,t.options,t.selectOption,t.selectProps,t.setValue,t.theme,N({},qc(t,["className","clearValue","cx","getStyles","getValue","hasValue","isMulti","isRtl","options","selectOption","selectProps","setValue","theme"]))}function yh(t){return-1<[document.documentElement,document.body,window].indexOf(t)}function _h(t){return yh(t)?window.pageYOffset:t.scrollTop}function bh(t,e){yh(t)?window.scrollTo(0,e):t.scrollTop=e}function wh(n,t,e,i){var o=2<arguments.length&&void 0!==e?e:200,r=3<arguments.length&&void 0!==i?i:mh,s=_h(n),a=t-s,l=0;!function t(){var e=a*((e=(e=l+=10)/o-1)*e*e+1)+s;bh(n,e),l<o?window.requestAnimationFrame(t):r(n)}()}function xh(){try{return document.createEvent("TouchEvent"),!0}catch{return!1}}var Sh=!1,d="undefined"!=typeof window?window:{},Ch=(d.addEventListener&&d.removeEventListener&&(d.addEventListener("p",mh,{get passive(){return Sh=!0}}),d.removeEventListener("p",mh,!1)),Sh);function Eh(t){var e=t.maxHeight,n=t.menuEl,i=t.minHeight,o=t.placement,r=t.shouldScroll,s=t.isFixedPosition,a=t.theme.spacing,l=function(t){var e=getComputedStyle(t),n="absolute"===e.position,i=/(auto|scroll)/,o=document.documentElement;if("fixed"!==e.position)for(var r=t;r=r.parentElement;)if(e=getComputedStyle(r),(!n||"static"!==e.position)&&i.test(e.overflow+e.overflowY+e.overflowX))return r;return o}(n),t={placement:"bottom",maxHeight:e};if(n&&n.offsetParent){var u,c,h=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,f=d.height,d=d.top,m=n.offsetParent.getBoundingClientRect().top,g=window.innerHeight,v=_h(l),y=parseInt(getComputedStyle(n).marginBottom,10),_=parseInt(getComputedStyle(n).marginTop,10),b=m-_,w=g-d,x=b+v,S=h-v-d,C=p-g+v+y,E=v+d-_;switch(o){case"auto":case"bottom":if(f<=w)return{placement:"bottom",maxHeight:e};if(f<=S&&!s)return r&&wh(l,C,160),{placement:"bottom",maxHeight:e};if(!s&&i<=S||s&&i<=w)return r&&wh(l,C,160),{placement:"bottom",maxHeight:s?w-y:S-y};if("auto"===o||s)return u=e,{placement:"top",maxHeight:u=i<=(c=s?b:x)?Math.min(c-y-a.controlHeight,e):u};if("bottom"===o)return r&&bh(l,C),{placement:"bottom",maxHeight:e};break;case"top":return f<=b?{placement:"top",maxHeight:e}:f<=x&&!s?(r&&wh(l,E,160),{placement:"top",maxHeight:e}):!s&&i<=x||s&&i<=b?(c=!s&&i<=x||s&&i<=b?s?b-_:x-_:e,r&&wh(l,E,160),{placement:"top",maxHeight:c}):{placement:"bottom",maxHeight:e};default:throw new Error('Invalid placement provided "'.concat(o,'".'))}}return t}function Ah(t){return"auto"===t?"bottom":t}var Th,Ph=pt({getPortalPlacement:null}),Oh=(uh(kh,x),Th=fh(kh),ah(kh,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),kh);function kh(){var a;rh(this,kh);for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(a=Th.call.apply(Th,[this].concat(e))).state={maxHeight:a.props.maxMenuHeight,placement:null},a.getPlacement=function(t){var e=a.props,n=e.minMenuHeight,i=e.maxMenuHeight,o=e.menuPlacement,r=e.menuPosition,s=e.menuShouldScrollIntoView,e=e.theme;t&&(r="fixed"===r,i=Eh({maxHeight:i,menuEl:t,minHeight:n,placement:o,shouldScroll:s&&!r,isFixedPosition:r,theme:e}),(t=a.context.getPortalPlacement)&&t(i),a.setState(i))},a.getUpdatedProps=function(){var t=a.props.menuPlacement,t=a.state.placement||Ah(t);return N(N({},a.props),{},{placement:t,maxHeight:a.state.maxHeight})},a}Oh.contextType=Ph;function Lh(t){var e=(t=t.theme).spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*e,"px ").concat(3*e,"px"),textAlign:"center"}}function Mh(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps;return D("div",L({css:o("noOptionsMessage",t),className:i({"menu-notice":!0,"menu-notice--no-options":!0},n)},r),e)}function Dh(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps;return D("div",L({css:o("loadingMessage",t),className:i({"menu-notice":!0,"menu-notice--loading":!0},n)},r),e)}function Nh(t){return D(Wh,L({size:20},t),D("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))}function zh(t){return D(Wh,L({size:20},t),D("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))}function jh(t){var e=t.isFocused,n=(t=t.theme).spacing.baseUnit,t=t.colors;return{label:"indicatorContainer",color:e?t.neutral60:t.neutral20,display:"flex",padding:2*n,transition:"color 150ms",":hover":{color:e?t.neutral80:t.neutral40}}}function Ih(t){var e=t.delay,t=t.offset;return D("span",{css:Fc({animation:"".concat(Vh," 1s ease-in-out ").concat(e,"ms infinite;"),backgroundColor:"currentColor",borderRadius:"1em",display:"inline-block",marginLeft:t?"1em":null,height:"1em",verticalAlign:"top",width:"1em"},"","")})}function Rh(t){var e=t.className,n=t.cx,i=t.getStyles,o=t.innerProps,r=t.isRtl;return D("div",L({css:i("loadingIndicator",t),className:n({indicator:!0,"loading-indicator":!0},e)},o),D(Ih,{delay:0,offset:r}),D(Ih,{delay:160,offset:!0}),D(Ih,{delay:320,offset:!r}))}var Bh,Hh,l=Lh,e=Lh,_=(Mh.defaultProps={children:"No options"},Dh.defaultProps={children:"Loading..."},uh(Uh,x),Hh=fh(Uh),ah(Uh,[{key:"render",value:function(){var t=this.props,e=t.appendTo,n=t.children,i=t.className,o=t.controlElement,r=t.cx,s=t.innerProps,a=t.menuPlacement,l=t.menuPosition,t=t.getStyles,u="fixed"===l;return(e||u)&&o?(a=this.state.placement||Ah(a),o={bottom:(o=(o=o).getBoundingClientRect()).bottom,height:o.height,left:o.left,right:o.right,top:o.top,width:o.width},u=u?0:window.pageYOffset,t=D("div",L({css:t("menuPortal",{offset:o[a]+u,position:l,rect:o}),className:r({"menu-portal":!0},i)},s),n),D(Ph.Provider,{value:{getPortalPlacement:this.getPortalPlacement}},e?le(t,e):t)):null}}]),Uh),Fh={name:"8mmkcg",styles:"display:inline-block;fill:currentColor;line-height:1;stroke:currentColor;stroke-width:0"},Wh=function(t){var e=t.size,t=qc(t,["size"]);return D("svg",L({height:e,width:e,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",css:Fh},t))},g=jh,n=jh,Vh=function(){var t=Fc.apply(void 0,arguments),e="animation-"+t.name;return{name:e,styles:"@keyframes "+e+"{"+t.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}((f=[`
  0%, 80%, 100% { opacity: 0; }
  40% { opacity: 1; }
`],Bh=Bh||f.slice(0),Object.freeze(Object.defineProperties(f,{raw:{value:Object.freeze(Bh)}}))));function Uh(){var e;rh(this,Uh);for(var t=arguments.length,n=new Array(t),i=0;i<t;i++)n[i]=arguments[i];return(e=Hh.call.apply(Hh,[this].concat(n))).state={placement:null},e.getPortalPlacement=function(t){t=t.placement;t!==Ah(e.props.menuPlacement)&&e.setState({placement:t})},e}Rh.defaultProps={size:4};function Zh(t){var e=t.children,t=t.innerProps;return D("div",t,e)}C=Zh,S=Zh;function qh(n){var i=n.children,o=n.className,t=n.components,r=n.cx,s=n.data,a=n.getStyles,l=n.innerProps,u=n.isDisabled,c=n.removeProps,h=n.selectProps,d=t.Container,p=t.Label,f=t.Remove;return D(Uc,null,function(t){var e=t.css,t=t.cx;return D(d,{data:s,innerProps:N({className:t(e(a("multiValue",n)),r({"multi-value":!0,"multi-value--is-disabled":u},o))},l),selectProps:h},D(p,{data:s,innerProps:{className:t(e(a("multiValueLabel",n)),r({"multi-value__label":!0},o))},selectProps:h},i),D(f,{data:s,innerProps:N({className:t(e(a("multiValueRemove",n)),r({"multi-value__remove":!0},o))},c),selectProps:h}))})}qh.defaultProps={cropWithEllipsis:!0};var $h={ClearIndicator:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps;return D("div",L({css:o("clearIndicator",t),className:i({indicator:!0,"clear-indicator":!0},n)},r),e||D(Nh,null))},Control:function(t){var e=t.children,n=t.cx,i=t.getStyles,o=t.className,r=t.isDisabled,s=t.isFocused,a=t.innerRef,l=t.innerProps,u=t.menuIsOpen;return D("div",L({ref:a,css:i("control",t),className:n({control:!0,"control--is-disabled":r,"control--is-focused":s,"control--menu-is-open":u},o)},l),e)},DropdownIndicator:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps;return D("div",L({css:o("dropdownIndicator",t),className:i({indicator:!0,"dropdown-indicator":!0},n)},r),e||D(zh,null))},DownChevron:zh,CrossIcon:Nh,Group:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.Heading,s=t.headingProps,a=t.innerProps,l=t.label,u=t.theme,c=t.selectProps;return D("div",L({css:o("group",t),className:i({group:!0},n)},a),D(r,L({},s,{selectProps:c,theme:u,getStyles:o,cx:i}),l),D("div",null,e))},GroupHeading:function(t){var e=t.getStyles,n=t.cx,i=t.className,o=vh(t),o=(o.data,qc(o,["data"]));return D("div",L({css:e("groupHeading",t),className:n({"group-heading":!0},i)},o))},IndicatorsContainer:function(t){var e=t.children,n=t.className,i=t.cx,o=t.innerProps,r=t.getStyles;return D("div",L({css:r("indicatorsContainer",t),className:i({indicators:!0},n)},o),e)},IndicatorSeparator:function(t){var e=t.className,n=t.cx,i=t.getStyles,o=t.innerProps;return D("span",L({},o,{css:i("indicatorSeparator",t),className:n({"indicator-separator":!0},e)}))},Input:function(t){var e=t.className,n=t.cx,i=t.getStyles,o=vh(t),r=o.innerRef,s=o.isDisabled,a=o.isHidden,o=qc(o,["innerRef","isDisabled","isHidden"]);return D("div",{css:i("input",t)},D(oh,L({className:n({input:!0},e),inputRef:r,inputStyle:{label:"input",background:0,border:0,fontSize:"inherit",opacity:a?0:1,outline:0,padding:0,color:"inherit"},disabled:s},o)))},LoadingIndicator:Rh,Menu:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerRef,s=t.innerProps;return D("div",L({css:o("menu",t),className:i({menu:!0},n),ref:r},s),e)},MenuList:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps,s=t.innerRef,a=t.isMulti;return D("div",L({css:o("menuList",t),className:i({"menu-list":!0,"menu-list--is-multi":a},n),ref:s},r),e)},MenuPortal:_,LoadingMessage:Dh,NoOptionsMessage:Mh,MultiValue:qh,MultiValueContainer:C,MultiValueLabel:S,MultiValueRemove:function(t){var e=t.children,t=t.innerProps;return D("div",t,e||D(Nh,{size:14}))},Option:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.isDisabled,s=t.isFocused,a=t.isSelected,l=t.innerRef,u=t.innerProps;return D("div",L({css:o("option",t),className:i({option:!0,"option--is-disabled":r,"option--is-focused":s,"option--is-selected":a},n),ref:l},u),e)},Placeholder:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps;return D("div",L({css:o("placeholder",t),className:i({placeholder:!0},n)},r),e)},SelectContainer:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.innerProps,s=t.isDisabled,a=t.isRtl;return D("div",L({css:o("container",t),className:i({"--is-disabled":s,"--is-rtl":a},n)},r),e)},SingleValue:function(t){var e=t.children,n=t.className,i=t.cx,o=t.getStyles,r=t.isDisabled,s=t.innerProps;return D("div",L({css:o("singleValue",t),className:i({"single-value":!0,"single-value--is-disabled":r},n)},s),e)},ValueContainer:function(t){var e=t.children,n=t.className,i=t.cx,o=t.innerProps,r=t.isMulti,s=t.getStyles,a=t.hasValue;return D("div",L({css:s("valueContainer",t),className:i({"value-container":!0,"value-container--is-multi":r,"value-container--has-value":a},n)},o),e)}};function Gh(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,i=new Array(e);n<e;n++)i[n]=t[n];return i}function Yh(t){return function(t){if(Array.isArray(t))return Gh(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){var n;if(t)return"string"==typeof t?Gh(t,e):"Map"===(n="Object"===(n=Object.prototype.toString.call(t).slice(8,-1))&&t.constructor?t.constructor.name:n)||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Gh(t,e):void 0}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}var Xh=Number.isNaN||function(t){return"number"==typeof t&&t!=t};function Kh(t,e){if(t.length!==e.length)return!1;for(var n,i,o=0;o<t.length;o++)if(n=t[o],i=e[o],!(n===i||Xh(n)&&Xh(i)))return!1;return!0}for(var Jh={name:"7pg0cj-a11yText",styles:"label:a11yText;z-index:9999;border:0;clip:rect(1px, 1px, 1px, 1px);height:1px;width:1px;position:absolute;overflow:hidden;padding:0;white-space:nowrap"},Qh=function(t){return D("span",L({css:Jh},t))},td={guidance:function(t){var e=t.isSearchable,n=t.isMulti,i=t.isDisabled,o=t.tabSelectsValue;switch(t.context){case"menu":return"Use Up and Down to choose options".concat(i?"":", press Enter to select the currently focused option",", press Escape to exit the menu").concat(o?", press Tab to select the option and exit the menu":"",".");case"input":return"".concat(t["aria-label"]||"Select"," is focused ").concat(e?",type to refine list":"",", press Down to open the menu, ").concat(n?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value";default:return""}},onChange:function(t){var e=t.action,n=t.label,i=void 0===n?"":n,o=t.isDisabled;switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(i,", deselected.");case"select-option":return"option ".concat(i,o?" is disabled. Select another option.":", selected.");default:return""}},onFocus:function(t){function e(t,e){return t&&t.length?"".concat(t.indexOf(e)+1," of ").concat(t.length):""}var n=t.context,i=t.focused,i=void 0===i?{}:i,o=t.options,r=t.label,r=void 0===r?"":r,s=t.selectValue,a=t.isDisabled,t=t.isSelected;return"value"===n&&s?"value ".concat(r," focused, ").concat(e(s,i),"."):"menu"===n?(s=a?" disabled":"",n="".concat(t?"selected":"focused").concat(s),"option ".concat(r," ").concat(n,", ").concat(e(o,i),".")):""},onFilter:function(t){var e=t.inputValue,t=t.resultsMessage;return"".concat(t).concat(e?" for search term "+e:"",".")}},ed=function(t){var o=t.ariaSelection,i=t.focusedOption,r=t.focusedValue,n=t.focusableOptions,e=t.isFocused,s=t.selectValue,t=t.selectProps,a=t.ariaLiveMessages,l=t.getOptionLabel,u=t.inputValue,c=t.isMulti,h=t.isOptionDisabled,d=t.isSearchable,p=t.menuIsOpen,f=t.options,m=t.screenReaderStatus,g=t.tabSelectsValue,v=t["aria-label"],t=t["aria-live"],y=Nt(function(){return N(N({},td),a||{})},[a]),_=Nt(function(){var t,e,n,i="";return o&&y.onChange&&(t=o.option,n=o.removedValue,e=o.value,e=N({isDisabled:(t=n||t||(n=e,Array.isArray(n)?null:n))&&h(t),label:t?l(t):""},o),i=y.onChange(e)),i},[o,h,l,y]),b=Nt(function(){var t="",e=i||r,n=!!(i&&s&&s.includes(i));return e&&y.onFocus&&(n={focused:e,label:l(e),isDisabled:h(e),isSelected:n,options:f,context:e===i?"menu":"value",selectValue:s},t=y.onFocus(n)),t},[i,r,l,h,y,f,s]),w=Nt(function(){var t,e="";return p&&f.length&&y.onFilter&&(t=m({count:n.length}),e=y.onFilter({inputValue:u,resultsMessage:t})),e},[n,u,p,y,f,m]),x=Nt(function(){var t="";return t=y.guidance?y.guidance({"aria-label":v,context:r?"value":p?"menu":"input",isDisabled:i&&h(i),isMulti:c,isSearchable:d,tabSelectsValue:g}):t},[v,i,r,c,h,d,p,y,g]),b="".concat(b," ").concat(w," ").concat(x);return D(Qh,{"aria-live":t,"aria-atomic":"false","aria-relevant":"additions text"},e&&D(k.Fragment,null,D("span",{id:"aria-selection"},_),D("span",{id:"aria-context"},b)))},nd=[{base:"A",letters:"AⒶＡÀÁÂẦẤẪẨÃĀĂẰẮẴẲȦǠÄǞẢÅǺǍȀȂẠẬẶḀĄȺⱯ"},{base:"AA",letters:"Ꜳ"},{base:"AE",letters:"ÆǼǢ"},{base:"AO",letters:"Ꜵ"},{base:"AU",letters:"Ꜷ"},{base:"AV",letters:"ꜸꜺ"},{base:"AY",letters:"Ꜽ"},{base:"B",letters:"BⒷＢḂḄḆɃƂƁ"},{base:"C",letters:"CⒸＣĆĈĊČÇḈƇȻꜾ"},{base:"D",letters:"DⒹＤḊĎḌḐḒḎĐƋƊƉꝹ"},{base:"DZ",letters:"ǱǄ"},{base:"Dz",letters:"ǲǅ"},{base:"E",letters:"EⒺＥÈÉÊỀẾỄỂẼĒḔḖĔĖËẺĚȄȆẸỆȨḜĘḘḚƐƎ"},{base:"F",letters:"FⒻＦḞƑꝻ"},{base:"G",letters:"GⒼＧǴĜḠĞĠǦĢǤƓꞠꝽꝾ"},{base:"H",letters:"HⒽＨĤḢḦȞḤḨḪĦⱧⱵꞍ"},{base:"I",letters:"IⒾＩÌÍÎĨĪĬİÏḮỈǏȈȊỊĮḬƗ"},{base:"J",letters:"JⒿＪĴɈ"},{base:"K",letters:"KⓀＫḰǨḲĶḴƘⱩꝀꝂꝄꞢ"},{base:"L",letters:"LⓁＬĿĹĽḶḸĻḼḺŁȽⱢⱠꝈꝆꞀ"},{base:"LJ",letters:"Ǉ"},{base:"Lj",letters:"ǈ"},{base:"M",letters:"MⓂＭḾṀṂⱮƜ"},{base:"N",letters:"NⓃＮǸŃÑṄŇṆŅṊṈȠƝꞐꞤ"},{base:"NJ",letters:"Ǌ"},{base:"Nj",letters:"ǋ"},{base:"O",letters:"OⓄＯÒÓÔỒỐỖỔÕṌȬṎŌṐṒŎȮȰÖȪỎŐǑȌȎƠỜỚỠỞỢỌỘǪǬØǾƆƟꝊꝌ"},{base:"OI",letters:"Ƣ"},{base:"OO",letters:"Ꝏ"},{base:"OU",letters:"Ȣ"},{base:"P",letters:"PⓅＰṔṖƤⱣꝐꝒꝔ"},{base:"Q",letters:"QⓆＱꝖꝘɊ"},{base:"R",letters:"RⓇＲŔṘŘȐȒṚṜŖṞɌⱤꝚꞦꞂ"},{base:"S",letters:"SⓈＳẞŚṤŜṠŠṦṢṨȘŞⱾꞨꞄ"},{base:"T",letters:"TⓉＴṪŤṬȚŢṰṮŦƬƮȾꞆ"},{base:"TZ",letters:"Ꜩ"},{base:"U",letters:"UⓊＵÙÚÛŨṸŪṺŬÜǛǗǕǙỦŮŰǓȔȖƯỪỨỮỬỰỤṲŲṶṴɄ"},{base:"V",letters:"VⓋＶṼṾƲꝞɅ"},{base:"VY",letters:"Ꝡ"},{base:"W",letters:"WⓌＷẀẂŴẆẄẈⱲ"},{base:"X",letters:"XⓍＸẊẌ"},{base:"Y",letters:"YⓎＹỲÝŶỸȲẎŸỶỴƳɎỾ"},{base:"Z",letters:"ZⓏＺŹẐŻŽẒẔƵȤⱿⱫꝢ"},{base:"a",letters:"aⓐａẚàáâầấẫẩãāăằắẵẳȧǡäǟảåǻǎȁȃạậặḁąⱥɐ"},{base:"aa",letters:"ꜳ"},{base:"ae",letters:"æǽǣ"},{base:"ao",letters:"ꜵ"},{base:"au",letters:"ꜷ"},{base:"av",letters:"ꜹꜻ"},{base:"ay",letters:"ꜽ"},{base:"b",letters:"bⓑｂḃḅḇƀƃɓ"},{base:"c",letters:"cⓒｃćĉċčçḉƈȼꜿↄ"},{base:"d",letters:"dⓓｄḋďḍḑḓḏđƌɖɗꝺ"},{base:"dz",letters:"ǳǆ"},{base:"e",letters:"eⓔｅèéêềếễểẽēḕḗĕėëẻěȅȇẹệȩḝęḙḛɇɛǝ"},{base:"f",letters:"fⓕｆḟƒꝼ"},{base:"g",letters:"gⓖｇǵĝḡğġǧģǥɠꞡᵹꝿ"},{base:"h",letters:"hⓗｈĥḣḧȟḥḩḫẖħⱨⱶɥ"},{base:"hv",letters:"ƕ"},{base:"i",letters:"iⓘｉìíîĩīĭïḯỉǐȉȋịįḭɨı"},{base:"j",letters:"jⓙｊĵǰɉ"},{base:"k",letters:"kⓚｋḱǩḳķḵƙⱪꝁꝃꝅꞣ"},{base:"l",letters:"lⓛｌŀĺľḷḹļḽḻſłƚɫⱡꝉꞁꝇ"},{base:"lj",letters:"ǉ"},{base:"m",letters:"mⓜｍḿṁṃɱɯ"},{base:"n",letters:"nⓝｎǹńñṅňṇņṋṉƞɲŉꞑꞥ"},{base:"nj",letters:"ǌ"},{base:"o",letters:"oⓞｏòóôồốỗổõṍȭṏōṑṓŏȯȱöȫỏőǒȍȏơờớỡởợọộǫǭøǿɔꝋꝍɵ"},{base:"oi",letters:"ƣ"},{base:"ou",letters:"ȣ"},{base:"oo",letters:"ꝏ"},{base:"p",letters:"pⓟｐṕṗƥᵽꝑꝓꝕ"},{base:"q",letters:"qⓠｑɋꝗꝙ"},{base:"r",letters:"rⓡｒŕṙřȑȓṛṝŗṟɍɽꝛꞧꞃ"},{base:"s",letters:"sⓢｓßśṥŝṡšṧṣṩșşȿꞩꞅẛ"},{base:"t",letters:"tⓣｔṫẗťṭțţṱṯŧƭʈⱦꞇ"},{base:"tz",letters:"ꜩ"},{base:"u",letters:"uⓤｕùúûũṹūṻŭüǜǘǖǚủůűǔȕȗưừứữửựụṳųṷṵʉ"},{base:"v",letters:"vⓥｖṽṿʋꝟʌ"},{base:"vy",letters:"ꝡ"},{base:"w",letters:"wⓦｗẁẃŵẇẅẘẉⱳ"},{base:"x",letters:"xⓧｘẋẍ"},{base:"y",letters:"yⓨｙỳýŷỹȳẏÿỷẙỵƴɏỿ"},{base:"z",letters:"zⓩｚźẑżžẓẕƶȥɀⱬꝣ"}],id=new RegExp("["+nd.map(function(t){return t.letters}).join("")+"]","g"),od={},rd=0;rd<nd.length;rd++)for(var sd=nd[rd],ad=0;ad<sd.letters.length;ad++)od[sd.letters[ad]]=sd.base;function ld(t){return t.replace(id,function(t){return od[t]})}function ud(t){return t.replace(/^\s+|\s+$/g,"")}function cd(t){return"".concat(t.label," ").concat(t.value)}hd=ld,void 0===dd&&(dd=Kh),gd=!(md=[]);var hd,dd,pd,fd,md,gd,vd=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return gd&&pd===this&&dd(t,md)||(fd=hd.apply(this,t),gd=!0,pd=this,md=t),fd};function yd(t){t.in,t.out,t.onExited,t.appear,t.enter,t.exit;var e=t.innerRef,t=(t.emotion,qc(t,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return D("input",L({ref:e},t,{css:Fc({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"},"","")}))}var _d=function(t){t.preventDefault(),t.stopPropagation()};var bd=["boxSizing","height","overflow","paddingRight","position"],wd={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function xd(t){t.preventDefault()}function Sd(t){t.stopPropagation()}function Cd(){var t=this.scrollTop,e=this.scrollHeight,n=t+this.offsetHeight;0===t?this.scrollTop=1:n===e&&(this.scrollTop=t-1)}function Ed(){return"ontouchstart"in window||navigator.maxTouchPoints}var Ad=!("undefined"==typeof window||!window.document||!window.document.createElement),Td=0,Pd={capture:!1,passive:!1};function Od(){return document.activeElement&&document.activeElement.blur()}var kd={name:"1kfdb0e",styles:"position:fixed;left:0;bottom:0;right:0;top:0"};function Ld(t){var e,r,s,n,i,o,a,l,u,c,h,d,p,f,m,g,v,y,_,b,w,x=t.children,S=t.lockEnabled,C=t.captureEnabled,E=t.onBottomArrive,A=t.onBottomLeave,T=t.onTopArrive,t=t.onTopLeave,P=(a=(C={isEnabled:void 0===C||C,onBottomArrive:E,onBottomLeave:A,onTopArrive:T,onTopLeave:t}).isEnabled,l=C.onBottomArrive,u=C.onBottomLeave,c=C.onTopArrive,h=C.onTopLeave,d=Mt(!1),p=Mt(!1),f=Mt(0),m=Mt(null),g=zt(function(t,e){var n,i,o,r,s,a;null!==m.current&&(n=(s=m.current).scrollTop,i=s.scrollHeight,s=s.clientHeight,o=m.current,r=0<e,a=!1,e<(s=i-s-n)&&d.current&&(u&&u(t),d.current=!1),r&&p.current&&(h&&h(t),p.current=!1),r&&s<e?(l&&!d.current&&l(t),o.scrollTop=i,d.current=a=!0):!r&&n<-e&&(c&&!p.current&&c(t),o.scrollTop=0,p.current=a=!0),a)&&_d(t)},[]),v=zt(function(t){g(t,t.deltaY)},[g]),y=zt(function(t){f.current=t.changedTouches[0].clientY},[]),_=zt(function(t){var e=f.current-t.changedTouches[0].clientY;g(t,e)},[g]),b=zt(function(t){var e;t&&(e=!!Ch&&{passive:!1},"function"==typeof t.addEventListener&&t.addEventListener("wheel",v,e),"function"==typeof t.addEventListener&&t.addEventListener("touchstart",y,e),"function"==typeof t.addEventListener)&&t.addEventListener("touchmove",_,e)},[_,y,v]),w=zt(function(t){t&&("function"==typeof t.removeEventListener&&t.removeEventListener("wheel",v,!1),"function"==typeof t.removeEventListener&&t.removeEventListener("touchstart",y,!1),"function"==typeof t.removeEventListener)&&t.removeEventListener("touchmove",_,!1)},[_,y,v]),kt(function(){var t;if(a)return t=m.current,b(t),function(){w(t)}},[a,b,w]),function(t){m.current=t}),O=(e=(E={isEnabled:S}).isEnabled,r=void 0===(E=E.accountForScrollbars)||E,s=Mt({}),n=Mt(null),i=zt(function(t){var e,n,i,o;Ad&&(e=document.body,n=e&&e.style,r&&bd.forEach(function(t){var e=n&&n[t];s.current[t]=e}),r&&Td<1&&(i=parseInt(s.current.paddingRight,10)||0,o=document.body?document.body.clientWidth:0,o=window.innerWidth-o+i||0,Object.keys(wd).forEach(function(t){var e=wd[t];n&&(n[t]=e)}),n)&&(n.paddingRight="".concat(o,"px")),e&&Ed()&&(e.addEventListener("touchmove",xd,Pd),t)&&(t.addEventListener("touchstart",Cd,Pd),t.addEventListener("touchmove",Sd,Pd)),Td+=1)},[]),o=zt(function(t){var e,n;Ad&&(e=document.body,n=e&&e.style,Td=Math.max(Td-1,0),r&&Td<1&&bd.forEach(function(t){var e=s.current[t];n&&(n[t]=e)}),e)&&Ed()&&(e.removeEventListener("touchmove",xd,Pd),t)&&(t.removeEventListener("touchstart",Cd,Pd),t.removeEventListener("touchmove",Sd,Pd))},[]),kt(function(){var t;if(e)return t=n.current,i(t),function(){o(t)}},[e,i,o]),function(t){n.current=t});return D(k.Fragment,null,S&&D("div",{onClick:Od,css:kd}),x(function(t){P(t),O(t)}))}var Md,Dd={clearIndicator:n,container:function(t){var e=t.isDisabled;return{label:"container",direction:t.isRtl?"rtl":null,pointerEvents:e?"none":null,position:"relative"}},control:function(t){var e=t.isDisabled,n=t.isFocused,t=t.theme,i=t.colors,o=t.borderRadius,t=t.spacing;return{label:"control",alignItems:"center",backgroundColor:e?i.neutral5:i.neutral0,borderColor:e?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:t.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:g,group:function(t){t=t.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(t){t=t.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(t){var e=t.isDisabled,t=t.theme,n=t.spacing.baseUnit,t=t.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:e?t.neutral10:t.neutral20,marginBottom:2*n,marginTop:2*n,width:1}},input:function(t){var e=t.isDisabled,t=t.theme,n=t.spacing,t=t.colors;return{margin:n.baseUnit/2,paddingBottom:n.baseUnit/2,paddingTop:n.baseUnit/2,visibility:e?"hidden":"visible",color:t.neutral80}},loadingIndicator:function(t){var e=t.isFocused,n=t.size,t=t.theme,i=t.colors,t=t.spacing.baseUnit;return{label:"loadingIndicator",color:e?i.neutral60:i.neutral20,display:"flex",padding:2*t,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:e,menu:function(t){var e=t.placement,t=t.theme,n=t.borderRadius,i=t.spacing,t=t.colors,o={label:"menu"};return ch(o,(e=e)?{bottom:"top",top:"bottom"}[e]:"bottom","100%"),ch(o,"backgroundColor",t.neutral0),ch(o,"borderRadius",n),ch(o,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),ch(o,"marginBottom",i.menuGutter),ch(o,"marginTop",i.menuGutter),ch(o,"position","absolute"),ch(o,"width","100%"),ch(o,"zIndex",1),o},menuList:function(t){var e=t.maxHeight,t=t.theme.spacing.baseUnit;return{maxHeight:e,overflowY:"auto",paddingBottom:t,paddingTop:t,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(t){var e=t.rect,n=t.offset,t=t.position;return{left:e.left,position:t,top:n,width:e.width,zIndex:1}},multiValue:function(t){var t=t.theme,e=t.spacing,n=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:n/2,display:"flex",margin:e.baseUnit/2,minWidth:0}},multiValueLabel:function(t){var e=t.theme,n=e.borderRadius,e=e.colors,t=t.cropWithEllipsis;return{borderRadius:n/2,color:e.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:t?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(t){var e=t.theme,n=e.spacing,i=e.borderRadius,e=e.colors;return{alignItems:"center",borderRadius:i/2,backgroundColor:t.isFocused&&e.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:e.dangerLight,color:e.danger}}},noOptionsMessage:l,option:function(t){var e=t.isDisabled,n=t.isFocused,i=t.isSelected,t=t.theme,o=t.spacing,t=t.colors;return{label:"option",backgroundColor:i?t.primary:n?t.primary25:"transparent",color:e?t.neutral20:i?t.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!e&&(i?t.primary:t.primary50)}}},placeholder:function(t){var t=t.theme,e=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:e.baseUnit/2,marginRight:e.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(t){var e=t.isDisabled,t=t.theme,n=t.spacing,t=t.colors;return{label:"singleValue",color:e?t.neutral40:t.neutral80,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,maxWidth:"calc(100% - ".concat(2*n.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(t){t=t.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}},Nd={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},pl={"aria-live":"polite",backspaceRemovesValue:!0,blurInputOnSelect:xh(),captureMenuScroll:!xh(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(t,e){var n=N({ignoreCase:!0,ignoreAccents:!0,stringify:cd,trim:!0,matchFrom:"any"},Md),i=n.ignoreCase,o=n.ignoreAccents,r=n.stringify,s=n.trim,n=n.matchFrom,e=s?ud(e):e,s=s?ud(r(t)):r(t);return i&&(e=e.toLowerCase(),s=s.toLowerCase()),o&&(e=vd(e),s=ld(s)),"start"===n?s.substr(0,e.length)===e:-1<s.indexOf(e)},formatGroupLabel:function(t){return t.label},getOptionLabel:function(t){return t.label},getOptionValue:function(t){return t.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:function(t){return!!t.isDisabled},loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch{}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(t){t=t.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0};function zd(t,e,n,i){return{type:"option",data:e,isDisabled:Fd(t,e,n),isSelected:Wd(t,e,n),label:Bd(t,e),value:Hd(t,e),index:i}}function jd(i,o){return i.options.map(function(t,e){var n;return t.options?0<(n=t.options.map(function(t,e){return zd(i,t,o,e)}).filter(function(t){return Rd(i,t)})).length?{type:"group",data:t,options:n,index:e}:void 0:(n=zd(i,t,o,e),Rd(i,n)?n:void 0)}).filter(function(t){return!!t})}function Id(t){return t.reduce(function(t,e){return"group"===e.type?t.push.apply(t,Yh(e.options.map(function(t){return t.data}))):t.push(e.data),t},[])}function Rd(t,e){var n=t.inputValue,i=e.data,o=e.isSelected,r=e.label,e=e.value;return(!Ud(t)||!o)&&Vd(t,{label:r,value:e,data:i},void 0===n?"":n)}function Bd(t,e){return t.getOptionLabel(e)}function Hd(t,e){return t.getOptionValue(e)}function Fd(t,e,n){return"function"==typeof t.isOptionDisabled&&t.isOptionDisabled(e,n)}function Wd(e,t,n){var i;return-1<n.indexOf(t)||("function"==typeof e.isOptionSelected?e.isOptionSelected(t,n):(i=Hd(e,t),n.some(function(t){return Hd(e,t)===i})))}function Vd(t,e,n){return!t.filterOption||t.filterOption(e,n)}function Ud(t){var e=t.hideSelectedOptions,t=t.isMulti;return void 0===e?t:e}var Zd,qd=1,xl=(uh($d,x),Zd=fh($d),ah($d,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentDidUpdate",value:function(t){var e,n=this.props,i=n.isDisabled,n=n.menuIsOpen,o=this.state.isFocused;(o&&!i&&t.isDisabled||o&&n&&!t.menuIsOpen)&&this.focusInput(),o&&i&&!t.isDisabled&&this.setState({isFocused:!1},this.onMenuClose),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(n=this.menuListRef,o=this.focusedOptionRef,i=n.getBoundingClientRect(),t=o.getBoundingClientRect(),e=o.offsetHeight/3,t.bottom+e>i.bottom?bh(n,Math.min(o.offsetTop+o.clientHeight-n.offsetHeight+e,n.scrollHeight)):t.top-e<i.top&&bh(n,Math.max(o.offsetTop-e,0)),this.scrollToFocusedOptionOnUpdate=!1)}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(t,e){this.props.onInputChange(t,e)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(t){var e=this,n=this.state,i=n.selectValue,n=n.isFocused,o=this.buildFocusableOptions(),t="first"===t?0:o.length-1;this.props.isMulti||-1<(i=o.indexOf(i[0]))&&(t=i),this.scrollToFocusedOptionOnUpdate=!(n&&this.menuListRef),this.setState({inputIsHiddenAfterUpdate:!1,focusedValue:null,focusedOption:o[t]},function(){return e.onMenuOpen()})}},{key:"focusValue",value:function(t){var e=this.state,n=e.selectValue,e=e.focusedValue;if(this.props.isMulti){this.setState({focusedOption:null});var i=n.indexOf(e),o=(e||(i=-1),n.length-1),r=-1;if(n.length){switch(t){case"previous":r=0===i?0:-1===i?o:i-1;break;case"next":-1<i&&i<o&&(r=i+1)}this.setState({inputIsHidden:-1!==r,focusedValue:n[r]})}}}},{key:"focusOption",value:function(){var t,e,n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"first",i=this.props.pageSize,o=this.state.focusedOption,r=this.getFocusableOptions();r.length&&(t=0,e=r.indexOf(o),o||(e=-1),"up"===n?t=0<e?e-1:r.length-1:"down"===n?t=(e+1)%r.length:"pageup"===n?(t=e-i)<0&&(t=0):"pagedown"===n?(t=e+i)>r.length-1&&(t=r.length-1):"last"===n&&(t=r.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:r[t],focusedValue:null}))}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(Nd):N(N({},Nd),this.props.theme):Nd}},{key:"getCommonProps",value:function(){var t=this.clearValue,e=this.cx,n=this.getStyles,i=this.getValue,o=this.selectOption,r=this.setValue,s=this.props,a=s.isMulti,l=s.isRtl,u=s.options;return{clearValue:t,cx:e,getStyles:n,getValue:i,hasValue:this.hasValue(),isMulti:a,isRtl:l,options:u,selectOption:o,selectProps:s,setValue:r,theme:this.getTheme()}}},{key:"hasValue",value:function(){return 0<this.state.selectValue.length}},{key:"hasOptions",value:function(){return!!this.getFocusableOptions().length}},{key:"isClearable",value:function(){var t=this.props,e=t.isClearable,t=t.isMulti;return void 0===e?t:e}},{key:"isOptionDisabled",value:function(t,e){return Fd(this.props,t,e)}},{key:"isOptionSelected",value:function(t,e){return Wd(this.props,t,e)}},{key:"filterOption",value:function(t,e){return Vd(this.props,t,e)}},{key:"formatOptionLabel",value:function(t,e){var n,i;return"function"==typeof this.props.formatOptionLabel?(n=this.props.inputValue,i=this.state.selectValue,this.props.formatOptionLabel(t,{context:e,inputValue:n,selectValue:i})):this.getOptionLabel(t)}},{key:"formatGroupLabel",value:function(t){return this.props.formatGroupLabel(t)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"renderInput",value:function(){var t=this.props,e=t.isDisabled,n=t.isSearchable,i=t.inputId,o=t.inputValue,r=t.tabIndex,t=t.form,s=this.getComponents().Input,a=this.state.inputIsHidden,l=this.commonProps,i=i||this.getElementId("input"),u={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]};return n?k.createElement(s,L({},l,{autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",id:i,innerRef:this.getInputRef,isDisabled:e,isHidden:a,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,spellCheck:"false",tabIndex:r,form:t,type:"text",value:o},u)):k.createElement(yd,L({id:i,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:mh,onFocus:this.onInputFocus,readOnly:!0,disabled:e,tabIndex:r,form:t,value:""},u))}},{key:"renderPlaceholderOrValue",value:function(){var n=this,t=this.getComponents(),i=t.MultiValue,o=t.MultiValueContainer,r=t.MultiValueLabel,s=t.MultiValueRemove,e=t.SingleValue,t=t.Placeholder,a=this.commonProps,l=this.props,u=l.controlShouldRenderValue,c=l.isDisabled,h=l.isMulti,d=l.inputValue,l=l.placeholder,p=this.state,f=p.selectValue,m=p.focusedValue,p=p.isFocused;return this.hasValue()&&u?h?f.map(function(t,e){return k.createElement(i,L({},a,{components:{Container:o,Label:r,Remove:s},isFocused:t===m,isDisabled:c,key:"".concat(n.getOptionValue(t)).concat(e),index:e,removeProps:{onClick:function(){return n.removeValue(t)},onTouchEnd:function(){return n.removeValue(t)},onMouseDown:function(t){t.preventDefault(),t.stopPropagation()}},data:t}),n.formatOptionLabel(t,"value"))}):d?null:(u=f[0],k.createElement(e,L({},a,{data:u,isDisabled:c}),this.formatOptionLabel(u,"value"))):d?null:k.createElement(t,L({},a,{key:"placeholder",isDisabled:c,isFocused:p}),l)}},{key:"renderClearIndicator",value:function(){var t=this.getComponents().ClearIndicator,e=this.commonProps,n=this.props,i=n.isDisabled,n=n.isLoading,o=this.state.isFocused;return this.isClearable()&&t&&!i&&this.hasValue()&&!n?(i={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"},k.createElement(t,L({},e,{innerProps:i,isFocused:o}))):null}},{key:"renderLoadingIndicator",value:function(){var t=this.getComponents().LoadingIndicator,e=this.commonProps,n=this.props,i=n.isDisabled,n=n.isLoading,o=this.state.isFocused;return t&&n?k.createElement(t,L({},e,{innerProps:{"aria-hidden":"true"},isDisabled:i,isFocused:o})):null}},{key:"renderIndicatorSeparator",value:function(){var t,e,n=this.getComponents(),i=n.DropdownIndicator,n=n.IndicatorSeparator;return i&&n?(i=this.commonProps,t=this.props.isDisabled,e=this.state.isFocused,k.createElement(n,L({},i,{isDisabled:t,isFocused:e}))):null}},{key:"renderDropdownIndicator",value:function(){var t,e,n,i,o=this.getComponents().DropdownIndicator;return o?(t=this.commonProps,e=this.props.isDisabled,n=this.state.isFocused,i={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"},k.createElement(o,L({},t,{innerProps:i,isDisabled:e,isFocused:n}))):null}},{key:"renderMenu",value:function(){var h=this,t=this.getComponents(),s=t.Group,a=t.GroupHeading,o=t.Menu,r=t.MenuList,e=t.MenuPortal,n=t.LoadingMessage,i=t.NoOptionsMessage,d=t.Option,p=this.commonProps,f=this.state.focusedOption,t=this.props,l=t.captureMenuScroll,u=t.inputValue,c=t.isLoading,m=t.loadingMessage,g=t.minMenuHeight,v=t.maxMenuHeight,y=t.menuIsOpen,_=t.menuPlacement,b=t.menuPosition,w=t.menuPortalTarget,x=t.menuShouldBlockScroll,S=t.menuShouldScrollIntoView,C=t.noOptionsMessage,E=t.onMenuScrollToTop,A=t.onMenuScrollToBottom;if(!y)return null;function T(t,e){var n=t.type,i=t.data,o=t.isDisabled,r=t.isSelected,s=t.label,a=t.value,l=f===i,u=o?void 0:function(){return h.onOptionHover(i)},c=o?void 0:function(){return h.selectOption(i)},e="".concat(h.getElementId("option"),"-").concat(e);return k.createElement(d,L({},p,{innerProps:{id:e,onClick:c,onMouseMove:u,onMouseOver:u,tabIndex:-1},data:i,isDisabled:o,isSelected:r,key:e,label:s,type:n,value:a,isFocused:l,innerRef:l?h.getFocusedOptionRef:void 0}),h.formatOptionLabel(t.data,"menu"))}var P;if(this.hasOptions())P=this.getCategorizedOptions().map(function(t){var e,n,i,o,r;return"group"===t.type?(e=t.data,n=t.options,i=t.index,o="".concat(h.getElementId("group"),"-").concat(i),r="".concat(o,"-heading"),k.createElement(s,L({},p,{key:o,data:e,options:n,Heading:a,headingProps:{id:r,data:t.data},label:h.formatGroupLabel(t.data)}),t.options.map(function(t){return T(t,"".concat(i,"-").concat(t.index))}))):"option"===t.type?T(t,"".concat(t.index)):void 0});else if(c){t=m({inputValue:u});if(null===t)return null;P=k.createElement(n,p,t)}else{y=C({inputValue:u});if(null===y)return null;P=k.createElement(i,p,y)}var O={minMenuHeight:g,maxMenuHeight:v,menuPlacement:_,menuPosition:b,menuShouldScrollIntoView:S},m=k.createElement(Oh,L({},p,O),function(t){var e=t.ref,t=t.placerProps,n=t.placement,i=t.maxHeight;return k.createElement(o,L({},p,O,{innerRef:e,innerProps:{onMouseDown:h.onMenuMouseDown,onMouseMove:h.onMenuMouseMove},isLoading:c,placement:n}),k.createElement(Ld,{captureEnabled:l,onTopArrive:E,onBottomArrive:A,lockEnabled:x},function(e){return k.createElement(r,L({},p,{innerRef:function(t){h.getMenuListRef(t),e(t)},isLoading:c,maxHeight:i,focusedOption:f}),P)}))});return w||"fixed"===b?k.createElement(e,L({},p,{appendTo:w,controlElement:this.controlRef,menuPlacement:_,menuPosition:b}),m):m}},{key:"renderFormField",value:function(){var n=this,t=this.props,e=t.delimiter,i=t.isDisabled,o=t.isMulti,r=t.name,t=this.state.selectValue;if(r&&!i)return o?e?(i=t.map(function(t){return n.getOptionValue(t)}).join(e),k.createElement("input",{name:r,type:"hidden",value:i})):(o=0<t.length?t.map(function(t,e){return k.createElement("input",{key:"i-".concat(e),name:r,type:"hidden",value:n.getOptionValue(t)})}):k.createElement("input",{name:r,type:"hidden"}),k.createElement("div",null,o)):(e=t[0]?this.getOptionValue(t[0]):"",k.createElement("input",{name:r,type:"hidden",value:e}))}},{key:"renderLiveRegion",value:function(){var t=this.commonProps,e=this.state,n=e.ariaSelection,i=e.focusedOption,o=e.focusedValue,r=e.isFocused,e=e.selectValue,s=this.getFocusableOptions();return k.createElement(ed,L({},t,{ariaSelection:n,focusedOption:i,focusedValue:o,isFocused:r,selectValue:e,focusableOptions:s}))}},{key:"render",value:function(){var t=this.getComponents(),e=t.Control,n=t.IndicatorsContainer,i=t.SelectContainer,t=t.ValueContainer,o=this.props,r=o.className,s=o.id,a=o.isDisabled,o=o.menuIsOpen,l=this.state.isFocused,u=this.commonProps=this.getCommonProps();return k.createElement(i,L({},u,{className:r,innerProps:{id:s,onKeyDown:this.onKeyDown},isDisabled:a,isFocused:l}),this.renderLiveRegion(),k.createElement(e,L({},u,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:a,isFocused:l,menuIsOpen:o}),k.createElement(t,L({},u,{isDisabled:a}),this.renderPlaceholderOrValue(),this.renderInput()),k.createElement(n,L({},u,{isDisabled:a}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}],[{key:"getDerivedStateFromProps",value:function(t,e){var n=e.prevProps,i=e.clearFocusValueOnUpdate,o=e.inputIsHiddenAfterUpdate,r=t.options,s=t.value,a=t.menuIsOpen,l=t.inputValue,u={},l=(!n||s===n.value&&r===n.options&&a===n.menuIsOpen&&l===n.inputValue||(r=gh(s),l=a?Id(jd(t,r)):[],s=i?function(t,e){var n=t.focusedValue;if(-1<(t=t.selectValue.indexOf(n))){if(-1<e.indexOf(n))return n;if(t<e.length)return e[t]}return null}(e,r):null,a=l,u={selectValue:r,focusedOption:(i=(i=e).focusedOption)&&-1<a.indexOf(i)?i:a[0],focusedValue:s,clearFocusValueOnUpdate:!1}),null!=o&&t!==n?{inputIsHidden:o,inputIsHiddenAfterUpdate:void 0}:{});return N(N(N({},u),l),{},{prevProps:t})}}]),$d);function $d(t){var m;return rh(this,$d),(m=Zd.call(this,t)).state={ariaSelection:null,focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,selectValue:[],clearFocusValueOnUpdate:!1,inputIsHiddenAfterUpdate:void 0,prevProps:void 0},m.blockOptionHover=!1,m.isComposing=!1,m.commonProps=void 0,m.initialTouchX=0,m.initialTouchY=0,m.instancePrefix="",m.openAfterFocus=!1,m.scrollToFocusedOptionOnUpdate=!1,m.userIsDragging=void 0,m.controlRef=null,m.getControlRef=function(t){m.controlRef=t},m.focusedOptionRef=null,m.getFocusedOptionRef=function(t){m.focusedOptionRef=t},m.menuListRef=null,m.getMenuListRef=function(t){m.menuListRef=t},m.inputRef=null,m.getInputRef=function(t){m.inputRef=t},m.focus=m.focusInput,m.blur=m.blurInput,m.onChange=function(t,e){var n=m.props,i=n.onChange,n=n.name;e.name=n,m.ariaOnChange(t,e),i(t,e)},m.setValue=function(t){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"set-value",n=2<arguments.length?arguments[2]:void 0,i=m.props,o=i.closeMenuOnSelect,i=i.isMulti;m.onInputChange("",{action:"set-value"}),o&&(m.setState({inputIsHiddenAfterUpdate:!i}),m.onMenuClose()),m.setState({clearFocusValueOnUpdate:!0}),m.onChange(t,{action:e,option:n})},m.selectOption=function(t){var e=m.props,n=e.blurInputOnSelect,i=e.isMulti,e=e.name,o=m.state.selectValue,r=i&&m.isOptionSelected(t,o),s=m.isOptionDisabled(t,o);if(r){var a=m.getOptionValue(t);m.setValue(o.filter(function(t){return m.getOptionValue(t)!==a}),"deselect-option",t)}else{if(s)return void m.ariaOnChange(t,{action:"select-option",name:e});i?m.setValue([].concat(Yh(o),[t]),"select-option",t):m.setValue(t,"select-option")}n&&m.blurInput()},m.removeValue=function(t){var e=m.props.isMulti,n=m.state.selectValue,i=m.getOptionValue(t),n=n.filter(function(t){return m.getOptionValue(t)!==i}),e=e?n:n[0]||null;m.onChange(e,{action:"remove-value",removedValue:t}),m.focusInput()},m.clearValue=function(){var t=m.state.selectValue;m.onChange(m.props.isMulti?[]:null,{action:"clear",removedValues:t})},m.popValue=function(){var t=m.props.isMulti,e=m.state.selectValue,n=e[e.length-1],e=e.slice(0,e.length-1),t=t?e:e[0]||null;m.onChange(t,{action:"pop-value",removedValue:n})},m.getValue=function(){return m.state.selectValue},m.cx=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t,e,n){var i,o=[n];if(e&&t)for(var r in e)e.hasOwnProperty(r)&&e[r]&&o.push("".concat((i=t,r=r,r?"-"===r[0]?i+r:i+"__"+r:i)));return o.filter(function(t){return t}).map(function(t){return String(t).trim()}).join(" ")}.apply(void 0,[m.props.classNamePrefix].concat(e))},m.getOptionLabel=function(t){return Bd(m.props,t)},m.getOptionValue=function(t){return Hd(m.props,t)},m.getStyles=function(t,e){var n=Dd[t](e),t=(n.boxSizing="border-box",m.props.styles[t]);return t?t(n,e):n},m.getElementId=function(t){return"".concat(m.instancePrefix,"-").concat(t)},m.getComponents=function(){return t=m.props,N(N({},$h),t.components);var t},m.buildCategorizedOptions=function(){return jd(m.props,m.state.selectValue)},m.getCategorizedOptions=function(){return m.props.menuIsOpen?m.buildCategorizedOptions():[]},m.buildFocusableOptions=function(){return Id(m.buildCategorizedOptions())},m.getFocusableOptions=function(){return m.props.menuIsOpen?m.buildFocusableOptions():[]},m.ariaOnChange=function(t,e){m.setState({ariaSelection:N({value:t},e)})},m.onMenuMouseDown=function(t){0===t.button&&(t.stopPropagation(),t.preventDefault(),m.focusInput())},m.onMenuMouseMove=function(t){m.blockOptionHover=!1},m.onControlMouseDown=function(t){var e=m.props.openMenuOnClick;m.state.isFocused?m.props.menuIsOpen?"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&m.onMenuClose():e&&m.openMenu("first"):(e&&(m.openAfterFocus=!0),m.focusInput()),"INPUT"!==t.target.tagName&&"TEXTAREA"!==t.target.tagName&&t.preventDefault()},m.onDropdownIndicatorMouseDown=function(t){var e,n;t&&"mousedown"===t.type&&0!==t.button||m.props.isDisabled||(e=(n=m.props).isMulti,n=n.menuIsOpen,m.focusInput(),n?(m.setState({inputIsHiddenAfterUpdate:!e}),m.onMenuClose()):m.openMenu("first"),t.preventDefault(),t.stopPropagation())},m.onClearIndicatorMouseDown=function(t){t&&"mousedown"===t.type&&0!==t.button||(m.clearValue(),t.stopPropagation(),m.openAfterFocus=!1,"touchend"===t.type?m.focusInput():setTimeout(function(){return m.focusInput()}))},m.onScroll=function(t){"boolean"==typeof m.props.closeMenuOnScroll?t.target instanceof HTMLElement&&yh(t.target)&&m.props.onMenuClose():"function"==typeof m.props.closeMenuOnScroll&&m.props.closeMenuOnScroll(t)&&m.props.onMenuClose()},m.onCompositionStart=function(){m.isComposing=!0},m.onCompositionEnd=function(){m.isComposing=!1},m.onTouchStart=function(t){t=t.touches,t=t&&t.item(0);t&&(m.initialTouchX=t.clientX,m.initialTouchY=t.clientY,m.userIsDragging=!1)},m.onTouchMove=function(t){var e,t=t.touches,t=t&&t.item(0);t&&(e=Math.abs(t.clientX-m.initialTouchX),t=Math.abs(t.clientY-m.initialTouchY),m.userIsDragging=5<e||5<t)},m.onTouchEnd=function(t){m.userIsDragging||(m.controlRef&&!m.controlRef.contains(t.target)&&m.menuListRef&&!m.menuListRef.contains(t.target)&&m.blurInput(),m.initialTouchX=0,m.initialTouchY=0)},m.onControlTouchEnd=function(t){m.userIsDragging||m.onControlMouseDown(t)},m.onClearIndicatorTouchEnd=function(t){m.userIsDragging||m.onClearIndicatorMouseDown(t)},m.onDropdownIndicatorTouchEnd=function(t){m.userIsDragging||m.onDropdownIndicatorMouseDown(t)},m.handleInputChange=function(t){t=t.currentTarget.value;m.setState({inputIsHiddenAfterUpdate:!1}),m.onInputChange(t,{action:"input-change"}),m.props.menuIsOpen||m.onMenuOpen()},m.onInputFocus=function(t){m.props.onFocus&&m.props.onFocus(t),m.setState({inputIsHiddenAfterUpdate:!1,isFocused:!0}),(m.openAfterFocus||m.props.openMenuOnFocus)&&m.openMenu("first"),m.openAfterFocus=!1},m.onInputBlur=function(t){m.menuListRef&&m.menuListRef.contains(document.activeElement)?m.inputRef.focus():(m.props.onBlur&&m.props.onBlur(t),m.onInputChange("",{action:"input-blur"}),m.onMenuClose(),m.setState({focusedValue:null,isFocused:!1}))},m.onOptionHover=function(t){m.blockOptionHover||m.state.focusedOption===t||m.setState({focusedOption:t})},m.shouldHideSelectedOptions=function(){return Ud(m.props)},m.onKeyDown=function(t){var e=m.props,n=e.isMulti,i=e.backspaceRemovesValue,o=e.escapeClearsValue,r=e.inputValue,s=e.isClearable,a=e.isDisabled,l=e.menuIsOpen,u=e.onKeyDown,c=e.tabSelectsValue,h=e.openMenuOnFocus,e=m.state,d=e.focusedOption,p=e.focusedValue,f=e.selectValue;if(!(a||"function"==typeof u&&(u(t),t.defaultPrevented))){switch(m.blockOptionHover=!0,t.key){case"ArrowLeft":if(!n||r)return;m.focusValue("previous");break;case"ArrowRight":if(!n||r)return;m.focusValue("next");break;case"Delete":case"Backspace":if(r)return;if(p)m.removeValue(p);else{if(!i)return;n?m.popValue():s&&m.clearValue()}break;case"Tab":if(m.isComposing||t.shiftKey||!l||!c||!d||h&&m.isOptionSelected(d,f))return;m.selectOption(d);break;case"Enter":if(229===t.keyCode)break;if(l){if(!d||m.isComposing)return;m.selectOption(d);break}return;case"Escape":l?(m.setState({inputIsHiddenAfterUpdate:!1}),m.onInputChange("",{action:"menu-close"}),m.onMenuClose()):s&&o&&m.clearValue();break;case" ":if(r)return;if(l){if(!d)return;m.selectOption(d)}else m.openMenu("first");break;case"ArrowUp":l?m.focusOption("up"):m.openMenu("last");break;case"ArrowDown":l?m.focusOption("down"):m.openMenu("first");break;case"PageUp":if(!l)return;m.focusOption("pageup");break;case"PageDown":if(!l)return;m.focusOption("pagedown");break;case"Home":if(!l)return;m.focusOption("first");break;case"End":if(!l)return;m.focusOption("last");break;default:return}t.preventDefault()}},m.instancePrefix="react-select-"+(m.props.instanceId||++qd),m.state.selectValue=gh(t.value),m}xl.defaultProps=pl;s={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null};Gd=xl,uh(Kd,x),Yd=fh(Kd),ah(Kd,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(t){return(void 0!==this.props[t]?this.props:this.state)[t]}},{key:"callProp",value:function(t){if("function"==typeof this.props[t]){for(var e,n=arguments.length,i=new Array(1<n?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];return(e=this.props)[t].apply(e,i)}}},{key:"render",value:function(){var e=this,t=this.props,t=(t.defaultInputValue,t.defaultMenuIsOpen,t.defaultValue,qc(t,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return k.createElement(Gd,L({},t,{ref:function(t){e.select=t},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),Kd.defaultProps=s;var Gd,Yd,Xd=Kd;function Kd(){var n;rh(this,Kd);for(var t=arguments.length,e=new Array(t),i=0;i<t;i++)e[i]=arguments[i];return(n=Yd.call.apply(Yd,[this].concat(e))).select=void 0,n.state={inputValue:void 0!==n.props.inputValue?n.props.inputValue:n.props.defaultInputValue,menuIsOpen:void 0!==n.props.menuIsOpen?n.props.menuIsOpen:n.props.defaultMenuIsOpen,value:void 0!==n.props.value?n.props.value:n.props.defaultValue},n.onChange=function(t,e){n.callProp("onChange",t,e),n.setState({value:t})},n.onInputChange=function(t,e){e=n.callProp("onInputChange",t,e);n.setState({inputValue:void 0!==e?e:t})},n.onMenuOpen=function(){n.callProp("onMenuOpen"),n.setState({menuIsOpen:!0})},n.onMenuClose=function(){n.callProp("onMenuClose"),n.setState({menuIsOpen:!1})},n}const Jd=[{value:"assessing",label:"Assessing"},{value:"bookmarking",label:"Bookmarking"},{value:"classifying",label:"Classifying"},{value:"commenting",label:"Commenting"},{value:"describing",label:"Describing"},{value:"editing",label:"Editing"},{value:"highlighting",label:"Highlighting"},{value:"identifying",label:"Identifying"},{value:"linking",label:"Linking"},{value:"moderating",label:"Moderating"},{value:"questioning",label:"Questioning"},{value:"replying",label:"Replying"},{value:"supplementing",label:"Transcription"}];var Qd=e=>{var t=e.content?Jd.find(t=>t.value===e.content):null;return k.createElement("div",{className:"r6o-purposedropdown"},k.createElement(Xd,{value:t,onChange:e.onChange,options:Jd,isDisabled:!e.editable}))};const tp=t=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1000 940",width:t.width},k.createElement("metadata",null,"IcoFont Icons"),k.createElement("title",null,"simple-down"),k.createElement("glyph",{glyphName:"simple-down",unicode:"",horizAdvX:"1000"}),k.createElement("path",{fill:"currentColor",d:"M200 392.6l300 300 300-300-85.10000000000002-85.10000000000002-214.89999999999998 214.79999999999995-214.89999999999998-214.89999999999998-85.10000000000002 85.20000000000005z"})),ep=t=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"180 150 700 800",width:t.width},k.createElement("metadata",null,"IcoFont Icons"),k.createElement("title",null,"close"),k.createElement("glyph",{glyphName:"close",unicode:"",horizAdvX:"1000"}),k.createElement("path",{fill:"currentColor",d:"M709.8 206.6c-64.39999999999998 65.50000000000003-128.89999999999998 131.20000000000002-194.19999999999993 197.6-8.600000000000023 8.699999999999989-22.400000000000034 8.800000000000011-31 0-65-66-129.70000000000005-131.8-194.5-197.6-8.600000000000023-8.699999999999989-22.400000000000034-8.599999999999994-30.900000000000034 0.09999999999999432-15.699999999999989 16.200000000000017-31.099999999999994 32.30000000000001-47.099999999999994 48.80000000000001-8.5 8.800000000000011-8.299999999999983 23 0.20000000000001705 31.69999999999999 63.099999999999966 64.19999999999999 127.89999999999998 130.10000000000002 193.59999999999997 197 8.600000000000023 8.699999999999989 8.5 22.80000000000001 0 31.599999999999966-65.19999999999999 66.40000000000009-130.2 132.5-194.7 198.10000000000002-8.5 8.700000000000045-8.5 22.800000000000068 0.20000000000001705 31.399999999999977l47.79999999999998 47.90000000000009c8.600000000000023 8.599999999999909 22.600000000000023 8.599999999999909 31.100000000000023-0.10000000000002274l194.2-197.30000000000007c8.600000000000023-8.699999999999932 22.399999999999977-8.699999999999932 31 0 64.70000000000005 65.80000000000007 129.20000000000005 131.4000000000001 194.20000000000005 197.5 8.599999999999909 8.700000000000045 22.5 8.800000000000068 31 0.10000000000002274 16-16.199999999999932 31.699999999999932-32.19999999999993 47.59999999999991-48.299999999999955 8.600000000000023-8.700000000000045 8.600000000000023-22.899999999999977 0.10000000000002274-31.600000000000023-63.799999999999955-65-128.5-130.89999999999998-194.19999999999993-197.79999999999995-8.600000000000023-8.700000000000045-8.600000000000023-22.900000000000034 0-31.600000000000023 65.19999999999993-66.40000000000003 130.0999999999999-132.5 194.5-198.20000000000005 8.599999999999909-8.699999999999989 8.5-22.799999999999955-0.10000000000002274-31.49999999999997l-47.80000000000007-48.099999999999994c-8.5-8.5-22.399999999999977-8.400000000000006-31 0.29999999999998295z"})),np=t=>k.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 448 512",width:t.width},k.createElement("path",{fill:"currentColor",d:"M268 416h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12zM432 80h-82.41l-34-56.7A48 48 0 0 0 274.41 0H173.59a48 48 0 0 0-41.16 23.3L98.41 80H16A16 16 0 0 0 0 96v16a16 16 0 0 0 16 16h16v336a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128h16a16 16 0 0 0 16-16V96a16 16 0 0 0-16-16zM171.84 50.91A6 6 0 0 1 177 48h94a6 6 0 0 1 5.15 2.91L293.61 80H154.39zM368 464H80V128h288zm-212-48h24a12 12 0 0 0 12-12V188a12 12 0 0 0-12-12h-24a12 12 0 0 0-12 12v216a12 12 0 0 0 12 12z"}));var ip=e=>{const[t,n]=Pt(!1),[i,o]=Pt(!1),r=e.body.modified||e.body.created,s=e.body.creator&&k.createElement("div",{className:"r6o-lastmodified"},k.createElement("span",{className:"r6o-lastmodified-by"},e.body.creator.name||e.body.creator.id),e.body.created&&k.createElement("span",{className:"r6o-lastmodified-at"},k.createElement(Mi,{datetime:e.env.toClientTime(r),locale:kl.locale()})));return e.readOnly?k.createElement("div",{className:"r6o-widget comment"},k.createElement("div",{className:"r6o-readonly-comment"},e.body.value),s):k.createElement("div",{className:t?"r6o-widget comment editable":"r6o-widget comment"},k.createElement(Xl,{editable:t,content:e.body.value,onChange:t=>e.onUpdate(e.body,{...e.body,value:t.target.value}),onSaveAndClose:e.onSaveAndClose}),!t&&s,e.purposeSelector&&k.createElement(Qd,{editable:t,content:e.body.purpose,onChange:t=>e.onUpdate(e.body,{...e.body,purpose:t.value}),onSaveAndClose:e.onSaveAndClose}),k.createElement("div",{className:i?"r6o-icon r6o-arrow-down r6o-menu-open":"r6o-icon r6o-arrow-down",onClick:()=>o(!i)},k.createElement(tp,{width:12})),i&&k.createElement(Ll,{onEdit:t=>{n(!0),o(!1)},onDelete:t=>{e.onDelete(e.body),o(!1)},onClickOutside:()=>o(!1)}))};const op=Jd.map(t=>t.value),rp=(t,e)=>{e=e?-1<op.indexOf(t.purpose):"commenting"==t.purpose||"replying"==t.purpose;return"TextualBody"===t.type&&(!t.hasOwnProperty("purpose")||e)},sp=(t,e)=>{var n;return!0!==e.editable&&(!1===e.editable||("MINE_ONLY"===e.editable?(t=null==(t=t.creator)?void 0:t.id,(null==(n=e.env.user)?void 0:n.id)!==t):e.readOnly))},ap=n=>{const t=n.annotation?n.annotation.bodies.filter(t=>rp(t,n.purposeSelector)):[],i=(o=t.find(t=>1==t.draft),r=1<t.length,o||{type:"TextualBody",value:"",purpose:r?"replying":"commenting",draft:!0}),e=t.filter(t=>t!=i);var o,r;return k.createElement(k.Fragment,null,e.map((t,e)=>k.createElement(ip,{key:e,env:n.env,purposeSelector:n.purposeSelector,readOnly:sp(t,n),body:t,onUpdate:n.onUpdateBody,onDelete:n.onRemoveBody,onSaveAndClose:n.onSaveAndClose})),!n.readOnly&&n.annotation&&k.createElement("div",{className:"r6o-widget comment editable"},k.createElement(Xl,{focus:n.focus,content:i.value,editable:!0,placeholder:0<e.length?kl.t("Add a reply..."):kl.t("Add a comment..."),onChange:t=>{var e=i.value,t=t.target.value;0===e.length&&0<t.length?n.onAppendBody({...i,value:t}):0<e.length&&0===t.length?n.onRemoveBody(i):n.onUpdateBody(i,{...i,value:t})},onSaveAndClose:()=>n.onSaveAndClose()}),n.purposeSelector&&0<i.value.length&&k.createElement(Qd,{editable:!0,content:i.purpose,onChange:t=>n.onUpdateBody(i,{...i,purpose:t.value}),onSaveAndClose:()=>n.onSaveAndClose()})))};ap.disableDelete=(t,e)=>t.bodies.filter(t=>rp(t,e.purposeSelector)).some(t=>sp(t,e));Al=ap;function lp(t,e){t.prototype=Object.create(e.prototype),lh(t.prototype.constructor=t,e)}function up(t,e){return t.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var cp,hp=!1,dp=k.createContext(null),pp="unmounted",fp="exited",mp="entering",gp="entered",vp="exiting",E=(lp(yp,cp=k.Component),yp.getDerivedStateFromProps=function(t,e){return t.in&&e.status===pp?{status:fp}:null},(r=yp.prototype).componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},r.componentDidUpdate=function(t){var e=null;t!==this.props&&(t=this.state.status,this.props.in?t!==mp&&t!==gp&&(e=mp):t!==mp&&t!==gp||(e=vp)),this.updateStatus(!1,e)},r.componentWillUnmount=function(){this.cancelNextCallback()},r.getTimeouts=function(){var t,e,n=this.props.timeout,i=t=e=n;return null!=n&&"number"!=typeof n&&(i=n.exit,t=n.enter,e=void 0!==n.appear?n.appear:t),{exit:i,enter:t,appear:e}},r.updateStatus=function(t,e){void 0===t&&(t=!1),null!==e?(this.cancelNextCallback(),e===mp?this.performEnter(t):this.performExit()):this.props.unmountOnExit&&this.state.status===fp&&this.setState({status:pp})},r.performEnter=function(t){var e=this,n=this.props.enter,i=this.context?this.context.isMounting:t,o=this.props.nodeRef?[i]:[k.findDOMNode(this),i],r=o[0],s=o[1],o=this.getTimeouts(),a=i?o.appear:o.enter;!t&&!n||hp?this.safeSetState({status:gp},function(){e.props.onEntered(r)}):(this.props.onEnter(r,s),this.safeSetState({status:mp},function(){e.props.onEntering(r,s),e.onTransitionEnd(a,function(){e.safeSetState({status:gp},function(){e.props.onEntered(r,s)})})}))},r.performExit=function(){var t=this,e=this.props.exit,n=this.getTimeouts(),i=this.props.nodeRef?void 0:k.findDOMNode(this);!e||hp?this.safeSetState({status:fp},function(){t.props.onExited(i)}):(this.props.onExit(i),this.safeSetState({status:vp},function(){t.props.onExiting(i),t.onTransitionEnd(n.exit,function(){t.safeSetState({status:fp},function(){t.props.onExited(i)})})}))},r.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},r.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},r.setNextCallback=function(e){var n=this,i=!0;return this.nextCallback=function(t){i&&(i=!1,n.nextCallback=null,e(t))},this.nextCallback.cancel=function(){i=!1},this.nextCallback},r.onTransitionEnd=function(t,e){this.setNextCallback(e);var e=this.props.nodeRef?this.props.nodeRef.current:k.findDOMNode(this),n=null==t&&!this.props.addEndListener;!e||n?setTimeout(this.nextCallback,0):(this.props.addEndListener&&(n=this.props.nodeRef?[this.nextCallback]:[e,this.nextCallback],this.props.addEndListener(n[0],n[1])),null!=t&&setTimeout(this.nextCallback,t))},r.render=function(){var t,e,n=this.state.status;return n===pp?null:(t=(e=this.props).children,e.in,e.mountOnEnter,e.unmountOnExit,e.appear,e.enter,e.exit,e.timeout,e.addEndListener,e.onEnter,e.onEntering,e.onEntered,e.onExit,e.onExiting,e.onExited,e.nodeRef,e=Zc(e,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]),k.createElement(dp.Provider,{value:null},"function"==typeof t?t(n,e):k.cloneElement(k.Children.only(t),e)))},yp);function yp(t,e){var n,i=cp.call(this,t,e)||this,e=e&&!e.isMounting?t.enter:t.appear;return i.appearStatus=null,t.in?e?(n=fp,i.appearStatus=mp):n=gp:n=t.unmountOnExit||t.mountOnEnter?pp:fp,i.state={status:n},i.nextCallback=null,i}function _p(){}E.contextType=dp,E.propTypes={},E.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:_p,onEntering:_p,onEntered:_p,onExit:_p,onExiting:_p,onExited:_p},E.UNMOUNTED=pp,E.EXITED=fp,E.ENTERING=mp,E.ENTERED=gp,E.EXITING=vp;function bp(o,t){o&&t&&t.split(" ").forEach(function(t){var e,n,i;t=t,(e=o).classList?e.classList.add(t):(i=t,((n=e).classList?i&&n.classList.contains(i):-1!==(" "+(n.className.baseVal||n.className)+" ").indexOf(" "+i+" "))||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t)))})}function wp(n,t){n&&t&&t.split(" ").forEach(function(t){var e;t=t,(e=n).classList?e.classList.remove(t):"string"==typeof e.className?e.className=up(e.className,t):e.setAttribute("class",up(e.className&&e.className.baseVal||"",t))})}var xp,Sp=E,Sl=(lp(Cp,xp=k.Component),(Cl=Cp.prototype).addClass=function(t,e,n){var i=this.getClassNames(e)[n+"ClassName"],o=this.getClassNames("enter").doneClassName;"appear"===e&&"done"===n&&o&&(i+=" "+o),"active"===n&&t&&t.scrollTop,i&&(this.appliedClasses[e][n]=i,bp(t,i))},Cl.removeClasses=function(t,e){var n=this.appliedClasses[e],i=n.base,o=n.active,n=n.done;this.appliedClasses[e]={},i&&wp(t,i),o&&wp(t,o),n&&wp(t,n)},Cl.render=function(){var t=this.props,t=(t.classNames,Zc(t,["classNames"]));return k.createElement(Sp,L({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},Cp);function Cp(){for(var o,t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return(o=xp.call.apply(xp,[this].concat(e))||this).appliedClasses={appear:{},enter:{},exit:{}},o.onEnter=function(t,e){var n=o.resolveArguments(t,e),i=n[0],n=n[1];o.removeClasses(i,"exit"),o.addClass(i,n?"appear":"enter","base"),o.props.onEnter&&o.props.onEnter(t,e)},o.onEntering=function(t,e){var n=o.resolveArguments(t,e),i=n[0],n=n[1];o.addClass(i,n?"appear":"enter","active"),o.props.onEntering&&o.props.onEntering(t,e)},o.onEntered=function(t,e){var n=o.resolveArguments(t,e),i=n[0],n=n[1]?"appear":"enter";o.removeClasses(i,n),o.addClass(i,n,"done"),o.props.onEntered&&o.props.onEntered(t,e)},o.onExit=function(t){var e=o.resolveArguments(t)[0];o.removeClasses(e,"appear"),o.removeClasses(e,"enter"),o.addClass(e,"exit","base"),o.props.onExit&&o.props.onExit(t)},o.onExiting=function(t){var e=o.resolveArguments(t)[0];o.addClass(e,"exit","active"),o.props.onExiting&&o.props.onExiting(t)},o.onExited=function(t){var e=o.resolveArguments(t)[0];o.removeClasses(e,"exit"),o.addClass(e,"exit","done"),o.props.onExited&&o.props.onExited(t)},o.resolveArguments=function(t,e){return o.props.nodeRef?[o.props.nodeRef.current,t]:[t,e]},o.getClassNames=function(t){var e=o.props.classNames,n="string"==typeof e,i=n?(n&&e?e+"-":"")+t:e[t];return{baseClassName:i,activeClassName:n?i+"-active":e[t+"Active"],doneClassName:n?i+"-done":e[t+"Done"]}},o}Sl.defaultProps={classNames:""},Sl.propTypes={};var Ep=Sl;const Ap=(e,t)=>t.filter(t=>(t.label||t).toLowerCase().startsWith(e.toLowerCase())),Tp=(t,e)=>e(t);var Pp=n=>{const t=Mt(),[i,o]=Pt(n.initialValue||""),[r,s]=Pt([]),[a,l]=Pt(null),u=(kt(()=>{n.focus&&t.current.querySelector("input").focus({preventScroll:!0})},[]),kt(()=>{n.onChange&&n.onChange(i)},[i]),()=>{if(null!==a)n.onSubmit(r[a]);else{const e=i.trim();var t;e&&((t=Array.isArray(n.vocabulary)?n.vocabulary.find(t=>(t.label||t).toLowerCase()===e.toLowerCase()):null)?n.onSubmit(t):n.onSubmit(e))}o(""),s([]),l(null)});return k.createElement("div",{ref:t,className:"r6o-autocomplete"},k.createElement("div",null,k.createElement("input",{onKeyDown:t=>{var e;13===t.which?u():27===t.which?n.onCancel&&n.onCancel():0<r.length?38===t.which?null===a?l(0):(e=Math.max(0,a-1),l(e)):40===t.which&&(null===a?l(0):(e=Math.min(r.length-1,a+1),l(e))):40===t.which&&Array.isArray(n.vocabulary)&&s(n.vocabulary)},onChange:t=>{var e,t=t.target["value"];o(t),l(null),t?(t=t,"function"==typeof n.vocabulary?(e=Tp(t,n.vocabulary)).then?e.then(s):s(e):(e=Ap(t,n.vocabulary),s(e))):s([])},value:i,placeholder:n.placeholder})),k.createElement("ul",null,0<r.length&&r.map((t,e)=>k.createElement("li",{key:""+(t.label||t)+e,onClick:u,onMouseEnter:()=>l(e),style:a===e?{backgroundColor:"#bde4ff"}:{}},t.label||t))))};var Op=i=>{const t=i.annotation?i.annotation.bodies.filter(t=>"tagging"===t.purpose):[],n=t.slice().reverse().find(t=>t.draft)||{type:"TextualBody",value:"",purpose:"tagging",draft:!0},e=t.filter(t=>t!=n),[o,r]=Pt(!1),s=t=>t.value||t.source.label;return k.createElement("div",{className:"r6o-widget r6o-tag"},0<e.length&&k.createElement("ul",{className:"r6o-taglist"},e.map(t=>{return k.createElement("li",{key:s(t),onClick:(n=t,t=>{r(o!==n&&n)})},k.createElement("span",{className:"r6o-label"},s(t)),!i.readOnly&&k.createElement(Ep,{in:o===t,timeout:200,classNames:"r6o-delete"},k.createElement("span",{className:"r6o-delete-wrapper",onClick:(e=t,t=>{t.stopPropagation(),i.onRemoveBody(e)})},k.createElement("span",{className:"r6o-delete"},k.createElement(ep,{width:12})))));var e,n})),!i.readOnly&&k.createElement(Pp,{focus:i.focus,placeholder:kl.t("Add tag..."),vocabulary:i.vocabulary||[],onChange:t=>{var e=n.value.trim(),t=t.trim();0===e.length&&0<t.length?i.onAppendBody({...n,value:t}):0<e.length&&0===t.length?i.onRemoveBody(n):e!==t&&i.onUpdateBody(n,{...n,value:t})},onSubmit:t=>{t=t.uri?{type:"SpecificResource",purpose:"tagging",source:{id:t.uri,label:t.label}}:{type:"TextualBody",purpose:"tagging",value:t.label||t};0===n.value.trim().length?i.onAppendBody(t):i.onUpdateBody(n,t)}}))};class kp extends x{constructor(t){super(t),this.element=k.createRef()}renderWidget(i){for(var t=this.props.widget({annotation:i.annotation,readOnly:i.readOnly,...i.config,onAppendBody:(t,e)=>i.onAppendBody(t,e),onUpdateBody:(t,e,n)=>i.onUpdateBody(t,e,n),onUpsertBody:(t,e,n)=>i.onUpsertBody(t,e,n),onRemoveBody:(t,e)=>i.onRemoveBody(t,e),onBatchModify:(t,e)=>i.onBatchModify(t,e),onSetProperty:(t,e)=>i.onSetProperty(t,e),onAddContext:t=>i.onAddContext(t),onSaveAndClose:()=>i.onSaveAndClose()});this.element.current.firstChild;)this.element.current.removeChild(this.element.current.lastChild);this.element.current.appendChild(t)}componentDidMount(){this.renderWidget(this.props)}componentWillReceiveProps(t){this.element.current&&this.props.annotation!==t.annotation&&this.renderWidget(t)}render(){return k.createElement("div",{ref:this.element,className:"widget"})}}window.React=k,window.ReactDOM=k;const Lp={COMMENT:Al,TAG:Op},Mp=[k.createElement(Al,null),k.createElement(Op,null)],Dp=t=>{var e=(t,e,n)=>{if("string"==typeof t||t instanceof String)return k.createElement(Lp[t],e);if("react"===(null==n?void 0:n.toLowerCase()))return k.createElement(t,e);if("plainjs"===(null==n?void 0:n.toLowerCase()))return k.createElement(kp,{widget:t,config:e});if("function"==typeof(i=n=t)&&!(null==(i=i.prototype)||!i.isReactComponent)||"function"==typeof(i=n)&&(String(i).match(/return .+\(['|"].+['|"],\s*\{/g)||String(i).match(/return .+preact_compat/)||String(i).match(/return .+\.createElement/g)))return k.createElement(t,e);var i;if("function"==typeof t||t instanceof Function)return k.createElement(kp,{widget:t,config:e});throw t+" is not a valid plugin"};if(t.widget){const{widget:n,force:i,...o}=t;return e(n,o,i)}return e(t)};var Np=(t,e,n,i)=>{var o=t.getBoundingClientRect(),{left:n,top:r,right:s,bottom:a}=(e.className="r6o-editor r6o-arrow-top r6o-arrow-left",n.getBoundingClientRect());e.style.top=a-o.top+14+"px",e.style.left=n-o.left+"px",i&&(n=e.children[1].getBoundingClientRect(),{innerWidth:i,innerHeight:t}=t.ownerDocument.defaultView,n.right>i&&(e.classList.remove("r6o-arrow-left"),e.classList.add("r6o-arrow-right"),e.style.left=s-n.width-o.left+"px"),n.bottom>t&&(e.classList.remove("r6o-arrow-top"),e.classList.add("r6o-arrow-bottom"),i=e.children[1].getBoundingClientRect().height,e.style.top=r-o.top-i-14+"px"),(s=e.children[1].getBoundingClientRect()).top<0&&(e.classList.add("pushed","down"),e.style.top=-o.top+"px",n=a-o.top,s.height-o.top>n)&&e.classList.remove("r6o-arrow-bottom"),s.left<0&&(e.classList.add("pushed","right"),e.style.left=-o.left+"px"),requestAnimationFrame(()=>e.style.opacity=1))};const zp=t=>{var{top:t,left:e,width:n,height:i}=t.getBoundingClientRect();return t+`, ${e}, ${n}, `+i};class jp extends x{constructor(t){super(t),u(this,"initResizeObserver",()=>{const t=void 0===this.props.autoPosition||this.props.autoPosition;if(null!=window&&window.ResizeObserver){const e=new ResizeObserver(()=>{this.state.dragged||Np(this.props.wrapperEl,this.element.current,this.props.selectedElement,t)});return e.observe(this.props.wrapperEl),()=>e.disconnect()}this.state.dragged||Np(this.props.wrapperEl,this.element.current,this.props.selectedElement,t)}),u(this,"creationMeta",t=>{var e={},n=this.props.env["user"];return n&&(e.creator={},n.id&&(e.creator.id=n.id),n.displayName&&(e.creator.name=n.displayName),e[t.created?"modified":"created"]=this.props.env.getCurrentTimeAdjusted()),e}),u(this,"getCurrentAnnotation",()=>this.state.currentAnnotation.clone()),u(this,"hasChanges",()=>{var t;return!(null!=(t=this.props.annotation)&&t.isEqual(this.state.currentAnnotation))}),u(this,"updateCurrentAnnotation",(t,e)=>{this.setState({currentAnnotation:this.state.currentAnnotation.clone(t)},()=>{e?this.onOk():this.props.onChanged&&this.props.onChanged()})}),u(this,"onAppendBody",(t,e)=>this.updateCurrentAnnotation({body:[...this.state.currentAnnotation.bodies,{...t,...this.creationMeta(t)}]},e)),u(this,"onUpdateBody",(e,n,t)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.map(t=>t===e?{...n,...this.creationMeta(n)}:t)},t)),u(this,"onRemoveBody",(e,t)=>this.updateCurrentAnnotation({body:this.state.currentAnnotation.bodies.filter(t=>t!==e)},t)),u(this,"onUpsertBody",(e,t,n)=>{null==e&&null!=t?this.onAppendBody(t,n):null!=e&&null!=t?this.onUpdateBody(e,t,n):null!=e&&null==t&&((t=this.state.currentAnnotation.bodies.find(t=>t.purpose===e.purpose))?this.onUpdateBody(t,e,n):this.onAppendBody(e,n))}),u(this,"onBatchModify",(t,e)=>{const n=t.filter(t=>"upsert"===t.action&&t.body).map(e=>({previous:this.state.currentAnnotation.bodies.find(t=>t.purpose===e.body.purpose),updated:{...e.body,...this.creationMeta(e.body)}})),i=t.filter(t=>"remove"===t.action).map(t=>t.body),o=[...t.filter(t=>"append"===t.action||"upsert"===t.action&&t.updated&&!t.previous).map(t=>({...t.body,...this.creationMeta(t.body)})),...n.filter(t=>!t.previous).map(t=>t.updated)],r=[...t.filter(t=>"update"===t.action||"upsert"===t.action&&t.updated&&t.previous).map(t=>({previous:t.previous,updated:{...t.updated,...this.creationMeta(t.updated)}})),...n.filter(t=>t.previous)],s=[...this.state.currentAnnotation.bodies.filter(t=>!i.includes(t)).map(e=>{var t=r.find(t=>t.previous===e);return t?t.updated:e}),...o];this.updateCurrentAnnotation({body:s},e)}),u(this,"onSetProperty",(t,e)=>{if(["@context","id","type","body","target"].includes(t))throw new Exception(`Cannot set ${t} - not allowed`);e?this.updateCurrentAnnotation({[t]:e}):(delete(e=this.currentAnnotation.clone())[t],this.setState({currentAnnotation:e}))}),u(this,"onAddContext",t=>{var e=this.state["currentAnnotation"],e=Array.isArray(e.context)?e.context:[e.context];e.indexOf(t)<0&&(e.push(t),this.updateCurrentAnnotation({"@context":e}))}),u(this,"onCancel",()=>this.props.onCancel(this.props.annotation)),u(this,"onOk",()=>{var t=t=>t.clone({body:t.bodies.map(({draft:t,...e})=>e)}),e=this.state["currentAnnotation"];0!==e.bodies.length||this.props.allowEmpty?e.isSelection?this.props.onAnnotationCreated(t(e).toAnnotation()):this.props.onAnnotationUpdated(t(e),this.props.annotation):e.isSelection?this.onCancel():this.props.onAnnotationDeleted(this.props.annotation)}),u(this,"onDelete",()=>this.props.onAnnotationDeleted(this.props.annotation)),this.element=k.createRef(),this.state={currentAnnotation:t.annotation,dragged:!1,selectionBounds:zp(t.selectedElement)}}componentWillReceiveProps(t){var e,n=this.state["selectionBounds"],i=zp(t.selectedElement);null!=(e=this.props.annotation)&&e.isEqual(t.annotation)?this.setState({selectionBounds:i}):this.setState({currentAnnotation:t.annotation,selectionBounds:i}),this.props.modifiedTarget!=t.modifiedTarget&&this.state.currentAnnotation&&this.updateCurrentAnnotation({target:this.props.modifiedTarget}),n!=i&&this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}componentDidMount(){this.removeObserver=this.initResizeObserver(),new MutationObserver(()=>{this.element.current&&(this.removeObserver&&this.removeObserver(),this.removeObserver=this.initResizeObserver())}).observe(this.element.current,{childList:!0,subtree:!0})}componentWillUnmount(){this.removeObserver&&this.removeObserver()}render(){const n=this.state["currentAnnotation"],t=this.props.widgets?this.props.widgets.map(Dp):Mp,e=n&&(0<n.bodies.length||this.props.allowEmpty)&&!this.props.readOnly&&!n.isSelection&&!t.some(t=>!!t.type.disableDelete&&t.type.disableDelete(n,{...t.props,readOnly:this.props.readOnly,env:this.props.env}));return k.createElement(pi,{disabled:!this.props.detachable,handle:".r6o-draggable",cancel:".r6o-btn, .r6o-btn *",onDrag:()=>this.setState({dragged:!0})},k.createElement("div",{ref:this.element,className:this.state.dragged?"r6o-editor dragged":"r6o-editor"},k.createElement("div",{className:"r6o-arrow"}),k.createElement("div",{className:"r6o-editor-inner"},t.map((t,e)=>k.cloneElement(t,{key:""+e,focus:0===e,annotation:n,readOnly:this.props.readOnly,env:this.props.env,onAppendBody:this.onAppendBody,onUpdateBody:this.onUpdateBody,onRemoveBody:this.onRemoveBody,onUpsertBody:this.onUpsertBody,onBatchModify:this.onBatchModify,onSetProperty:this.onSetProperty,onAddContext:this.onAddContext,onSaveAndClose:this.onOk})),this.props.readOnly?k.createElement("div",{className:"r6o-footer"},k.createElement("button",{className:"r6o-btn",onClick:this.onCancel},kl.t("Close"))):k.createElement("div",{className:this.props.detachable?"r6o-footer r6o-draggable":"r6o-footer"},e&&k.createElement("button",{className:"r6o-btn left delete-annotation",title:kl.t("Delete"),onClick:this.onDelete},k.createElement(np,{width:12})),k.createElement("button",{className:"r6o-btn outline",onClick:this.onCancel},kl.t("Cancel")),k.createElement("button",{className:"r6o-btn ",onClick:this.onOk},kl.t("Ok"))))))}}var Ip,Rp=new Uint8Array(16);function Bp(){if(Ip||(Ip="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))return Ip(Rp);throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported")}var Hp=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var z=[],Fp=0;Fp<256;++Fp)z.push((Fp+256).toString(16).substr(1));function Wp(t,e){var e=1<arguments.length&&void 0!==e?e:0,t=(z[t[e+0]]+z[t[e+1]]+z[t[e+2]]+z[t[e+3]]+"-"+z[t[e+4]]+z[t[e+5]]+"-"+z[t[e+6]]+z[t[e+7]]+"-"+z[t[e+8]]+z[t[e+9]]+"-"+z[t[e+10]]+z[t[e+11]]+z[t[e+12]]+z[t[e+13]]+z[t[e+14]]+z[t[e+15]]).toLowerCase();if("string"==typeof(e=t)&&Hp.test(e))return t;throw TypeError("Stringified UUID is invalid")}function Vp(t,e,n){var i=(t=t||{}).random||(t.rng||Bp)();if(i[6]=15&i[6]|64,i[8]=63&i[8]|128,e){n=n||0;for(var o=0;o<16;++o)e[n+o]=i[o];return e}return Wp(i)}var Up=function t(e,n){if(e===n)return!0;if(e&&n&&"object"==typeof e&&"object"==typeof n){if(e.constructor!==n.constructor)return!1;var i,o,r;if(Array.isArray(e)){if((i=e.length)!=n.length)return!1;for(o=i;0!=o--;)if(!t(e[o],n[o]))return!1}else{if(e.constructor===RegExp)return e.source===n.source&&e.flags===n.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===n.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===n.toString();if((i=(r=Object.keys(e)).length)!==Object.keys(n).length)return!1;for(o=i;0!=o--;)if(!Object.prototype.hasOwnProperty.call(n,r[o]))return!1;for(o=i;0!=o--;){var s=r[o];if(!t(e[s],n[s]))return!1}}return!0}return e!=e&&n!=n};const Zp=class{constructor(t,e){u(this,"clone",(t,e)=>new Zp({...this.underlying,...t},{...this.opts,...e})),u(this,"selector",e=>{var t=this.underlying["target"];if(t.selector)return(Array.isArray(t.selector)?t.selector:[t.selector]).find(t=>t.type===e)}),this.underlying=t,this.opts=e}isEqual(t){return"Annotation"===(null==t?void 0:t.type)&&(this.underlying===t.underlying||!(!this.underlying.id||!t.underlying.id)&&Up(this.underlying,t.underlying))}get readOnly(){var t;return null==(t=this.opts)?void 0:t.readOnly}get id(){return this.underlying.id}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get motivation(){return this.underlying.motivation}get body(){return this.underlying.body}get target(){return this.underlying.target}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}set bodies(t){this.underlying.body=t}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}get quote(){var t;return null==(t=this.selector("TextQuoteSelector"))?void 0:t.exact}get start(){var t;return null==(t=this.selector("TextPositionSelector"))?void 0:t.start}get end(){var t;return null==(t=this.selector("TextPositionSelector"))?void 0:t.end}};let qp=Zp;u(qp,"create",t=>{var e={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Annotation",id:"#"+Vp(),body:[]};return new Zp({...e,...t})});class $p{constructor(t,e){u(this,"clone",t=>{var e=new $p;return e.underlying=JSON.parse(JSON.stringify(this.underlying)),t&&(e.underlying={...e.underlying,...t}),e}),u(this,"selector",e=>{var t=this.underlying["target"];if(t.selector)return(Array.isArray(t.selector)?t.selector:[t.selector]).find(t=>t.type===e)}),u(this,"toAnnotation",()=>{var t=Object.assign({},this.underlying,{type:"Annotation",id:"#"+Vp()});return new qp(t)}),this.underlying={"@context":"http://www.w3.org/ns/anno.jsonld",type:"Selection",body:e||[],target:t}}get context(){return this.underlying["@context"]}get type(){return this.underlying.type}get body(){return this.underlying.body}get target(){return this.underlying.target}get targets(){return Array.isArray(this.underlying.target)?this.underlying.target:[this.underlying.target]}isEqual(t){return!!t&&Up(this.underlying,t.underlying)}get bodies(){return Array.isArray(this.underlying.body)?this.underlying.body:[this.underlying.body]}get quote(){var t;return null==(t=this.selector("TextQuoteSelector"))?void 0:t.exact}get isSelection(){return!0}}let Gp=0;class Yp{constructor(t,e,n,i,o){u(this,"dragTo",(t,e)=>{this.group.style.display=null,this.opposite=[t,e];var{x:t,y:e,w:n,h:i}=this.bbox;Fe(this.mask,this.env.image,t,e,n,i),Ue(this.rect,t,e,n,i)}),u(this,"getBoundingClientRect",()=>this.rect.getBoundingClientRect()),u(this,"toSelection",()=>{var{x:t,y:e,w:n,h:i}=this.bbox;return new $p(Ie(t,e,n,i,this.env.image,this.config.fragmentUnit))}),u(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.mask=null,this.rect=null,this.group=null}),this.anchor=[t,e],this.opposite=[t,e],this.config=i,this.env=o,this.group=document.createElementNS(h,"g"),this.mask=He(o.image,t,e,2,2),this.mask.setAttribute("class","a9s-selection-mask"),this.rect=We(t,e,2,2),this.rect.setAttribute("class","a9s-selection"),this.group.style.pointerEvents="none",this.group.style.display="none",this.group.appendChild(this.mask),this.group.appendChild(this.rect),n.appendChild(this.group)}get bbox(){var t=this.opposite[0]-this.anchor[0],e=this.opposite[1]-this.anchor[1];return{x:(0<t?this.anchor:this.opposite)[0],y:(0<e?this.anchor:this.opposite)[1],w:Math.max(1,Math.abs(t)),h:Math.max(1,Math.abs(e))}}get element(){return this.rect}}const Xp={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup"},Kp=()=>"ontouchstart"in window||0<navigator.maxTouchPoints||0<navigator.msMaxTouchPoints,Jp="An implementation is missing",Qp=Kp();class tf extends Me{constructor(t,e,n){super(),u(this,"enableResponsive",()=>{window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{var t=this.svg.getBoundingClientRect(),{width:e,height:n}=this.svg.viewBox.baseVal;this.scale=Math.max(e/t.width,n/t.height),this.onScaleChanged&&this.onScaleChanged(this.scale)}),this.resizeObserver.observe(this.svg.parentNode))}),u(this,"getSVGPoint",t=>{var e,n,i,o,r=this.svg.createSVGPoint();return Qp?(n=this.svg.getBoundingClientRect(),e=t.clientX-n.x,n=t.clientY-n.y,{left:i,top:o}=this.svg.getBoundingClientRect(),r.x=e+i,r.y=n+o,r.matrixTransform(this.g.getScreenCTM().inverse())):(r.x=t.offsetX,r.y=t.offsetY,r.matrixTransform(this.g.getCTM().inverse()))}),u(this,"drawHandle",(n,i)=>{var t=document.createElementNS(h,"g"),e=(t.setAttribute("class","a9s-handle"),document.createElementNS(h,"g")),o=t=>{var e=document.createElementNS(h,"circle");return e.setAttribute("cx",n),e.setAttribute("cy",i),e.setAttribute("r",t),e.setAttribute("transform-origin",n+" "+i),e},r=this.config.handleRadius||6,s=o(r),o=(s.setAttribute("class","a9s-handle-inner"),o(r+1));return o.setAttribute("class","a9s-handle-outer"),e.appendChild(o),e.appendChild(s),t.appendChild(e),t}),u(this,"setHandleXY",(t,e,n)=>{var i=t.querySelector(".a9s-handle-inner"),i=(i.setAttribute("cx",e),i.setAttribute("cy",n),i.setAttribute("transform-origin",e+" "+n),t.querySelector(".a9s-handle-outer"));i.setAttribute("cx",e),i.setAttribute("cy",n),i.setAttribute("transform-origin",e+" "+n)}),u(this,"getHandleXY",t=>{t=t.querySelector(".a9s-handle-outer");return{x:parseFloat(t.getAttribute("cx")),y:parseFloat(t.getAttribute("cy"))}}),u(this,"scaleHandle",t=>{var e=t.querySelector(".a9s-handle-inner"),t=t.querySelector(".a9s-handle-outer"),n=this.scale*(this.config.handleRadius||6);e.setAttribute("r",n),t.setAttribute("r",n)}),this.svg=t.closest("svg"),this.g=t,this.config=e,this.env=n,this.scale=1;t=n.image;(t instanceof Element||t instanceof HTMLDocument)&&this.enableResponsive()}destroy(){this.resizeObserver&&this.resizeObserver.disconnect(),this.resizeObserver=null}}class ef extends tf{constructor(t,e,n){super(t,e,n),u(this,"attachListeners",({mouseMove:i,mouseUp:o,dblClick:r})=>{i&&(this.mouseMove=t=>{var{x:e,y:n}=this.getSVGPoint(t);this.started||(this.emit("startSelection",{x:e,y:n}),this.started=!0),i(e,n,t)},this.svg.addEventListener("mousemove",this.mouseMove)),o&&(this.mouseUp=t=>{var e,n;0===t.button&&({x:e,y:n}=this.getSVGPoint(t),o(e,n,t))},document.addEventListener("mouseup",this.mouseUp)),r&&(this.dblClick=t=>{var{x:e,y:n}=this.getSVGPoint(t);r(e,n,t)},document.addEventListener("dblclick",this.dblClick))}),u(this,"detachListeners",()=>{this.mouseMove&&this.svg.removeEventListener("mousemove",this.mouseMove),this.mouseUp&&document.removeEventListener("mouseup",this.mouseUp),this.dblClick&&document.removeEventListener("dblclick",this.dblClick)}),u(this,"start",(t,e)=>{var{x:n,y:i}=this.getSVGPoint(t);this.startDrawing(n,i,e,t)}),u(this,"startDrawing",t=>{throw new Error(Jp)}),u(this,"createEditableShape",(t,e)=>{throw new Error(Jp)}),this.started=!1}get isDrawing(){throw new Error(Jp)}}ef.supports=t=>{throw new Error(Jp)};const nf="An implementation is missing";class of extends tf{constructor(t,e,n,i){super(e,n,i),u(this,"updateState",t=>{throw new Error(nf)}),this.annotation=t}get element(){throw new Error(nf)}}const rf=/firefox/i.test(navigator.userAgent),sf=(t,e,n,i,o)=>{t.setAttribute("width",i),t.setAttribute("height",o),rf?(t.setAttribute("x",0),t.setAttribute("y",0),t.setAttribute("transform",`translate(${e}, ${n})`)):(t.setAttribute("x",e),t.setAttribute("y",n))},af=(a,s,t)=>{if(!t)return a;var e,n=t.reduce((t,e)=>{var n,i,o=e(s);if(o){"string"==typeof o||o instanceof String?t.className=t.className?t.className+" "+o:o:o.nodeType===Node.ELEMENT_NODE?t.elements=t.elements?[...t.elements,o]:[o]:({className:e,style:n,element:i}=o,e&&(t.className=t.className?t.className+" "+e:e),n&&(t.style=t.style?t.style+" "+n:n),i&&(t.elements=t.elements?[...t.elements,i]:[i]));for(const r in o)o.hasOwnProperty(r)&&r.startsWith("data-")&&(t[r]=o[r])}return t},{}),{className:t,style:i,elements:o}=n;t&&Ne(a,t),i&&(t=a.querySelector(".a9s-outer"),e=a.querySelector(".a9s-inner"),(t&&e?(t.setAttribute("style","display:none"),e):a).setAttribute("style",i)),o&&o.forEach(t=>{var e=a,{x:n,y:i,width:o,height:r}=e.getBBox(),s=document.createElementNS(h,"svg");s.setAttribute("class","a9s-formatter-el"),sf(s,n,i,o,r),(n=document.createElementNS(h,"g")).appendChild(t),s.appendChild(n),e.append(s)});for(const r in n)n.hasOwnProperty(r)&&r.startsWith("data-")&&a.setAttribute(r,n[r])},lf=(t,e,n,i,o)=>{t=t.querySelector(".a9s-formatter-el");t&&sf(t,e,n,i,o)};class uf extends of{constructor(t,e,n,i){super(t,e,n,i),u(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),u(this,"setSize",(t,e,n,i)=>{Ue(this.rectangle,t,e,n,i),Fe(this.mask,this.env.image,t,e,n,i),lf(this.elementGroup,t,e,n,i);var[o,r,s,a]=this.handles;this.setHandleXY(o,t,e),this.setHandleXY(r,t+n,e),this.setHandleXY(s,t+n,e+i),this.setHandleXY(a,t,e+i)}),u(this,"stretchCorners",(t,e,n)=>{var e=this.getHandleXY(e),i=n.x-e.x,o=n.y-e.y,r=(0<i?e:n).x,s=(0<o?e:n).y,i=Math.abs(i),o=Math.abs(o),a=(Ue(this.rectangle,r,s,i,o),Fe(this.mask,this.env.image,r,s,i,o),lf(this.elementGroup,r,s,i,o),this.setHandleXY(this.handles[t],n.x,n.y),this.handles[(t+3)%4]),a=(this.setHandleXY(a,e.x,n.y),this.handles[(t+5)%4]);return this.setHandleXY(a,n.x,e.y),{x:r,y:s,w:i,h:o}}),u(this,"onGrab",i=>t=>{var e,n;0===t.button&&(this.grabbedElem=i,t=this.getSVGPoint(t),{x:e,y:n}=Ve(this.rectangle),this.mouseOffset={x:t.x-e,y:t.y-n})}),u(this,"onMouseMove",t=>{var e,n,i,o,r;0===t.button&&(n=(t,e)=>t<0?0:e<t?e:t,this.grabbedElem)&&(t=this.getSVGPoint(t),this.grabbedElem===this.rectangle?({w:i,h:o}=Ve(this.rectangle),{naturalWidth:e,naturalHeight:r}=this.env.image,e=n(t.x-this.mouseOffset.x,e-i),n=n(t.y-this.mouseOffset.y,r-o),this.setSize(e,n,i,o),this.emit("update",Ie(e,n,i,o,this.env.image,this.config.fragmentUnit))):(e=(r=this.handles.indexOf(this.grabbedElem))<2?this.handles[r+2]:this.handles[r-2],{x:n,y:i,w:o,h:r}=this.stretchCorners(r,e,t),this.emit("update",Ie(n,i,o,r,this.env.image,this.config.fragmentUnit))))}),u(this,"onMouseUp",t=>{this.grabbedElem=null,this.mouseOffset=null}),u(this,"updateState",t=>{var{x:t,y:e,w:n,h:i}=je(t,this.env.image);this.setSize(t,e,n,i)}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp);var{x:o,y:r,w:s,h:a}=je(t,i.image);this.containerGroup=document.createElementNS(h,"g"),this.mask=He(i.image,o,r,s,a),this.mask.setAttribute("class","a9s-selection-mask"),this.containerGroup.appendChild(this.mask),this.elementGroup=document.createElementNS(h,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",t.id),this.rectangle=We(o,r,s,a),this.rectangle.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.rectangle)),this.elementGroup.appendChild(this.rectangle),this.handles=[[o,r],[o+s,r],[o+s,r+a],[o,r+a]].map(t=>{var[t,e]=t,t=this.drawHandle(t,e);return t.addEventListener("mousedown",this.onGrab(t)),this.elementGroup.appendChild(t),t}),this.containerGroup.appendChild(this.elementGroup),e.appendChild(this.containerGroup),af(this.rectangle,t,n.formatters),this.grabbedElem=null,this.mouseOffset=null}get element(){return this.elementGroup}destroy(){this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}}class cf extends ef{constructor(t,e,n){super(t,e,n),u(this,"startDrawing",(t,e)=>{this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp}),this.rubberband=new Yp(t,e,this.g,this.config,this.env)}),u(this,"stop",()=>{this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),u(this,"onMouseMove",(t,e)=>this.rubberband.dragTo(t,e)),u(this,"onMouseUp",()=>{this.detachListeners(),this.started=!1;var{width:t,height:e}=this.rubberband.getBoundingClientRect(),n=this.config.minSelectionWidth||4,i=this.config.minSelectionHeight||4;n<=t&&i<=e?(n=this.rubberband["element"],n.annotation=this.rubberband.toSelection(),this.emit("complete",n)):this.emit("cancel"),this.stop()}),u(this,"createEditableShape",(t,e)=>new uf(t,this.g,{...this.config,formatters:e},this.env)),this.rubberband=null}get isDrawing(){return null!=this.rubberband}}cf.identifier="rect",cf.supports=t=>{t=t.selector("FragmentSelector");return null==t?void 0:t.conformsTo.startsWith("http://www.w3.org/TR/media-frags")};class hf{constructor(t,e){u(this,"redraw",()=>{this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}),u(this,"destroy",()=>this.mask.parentNode.removeChild(this.mask)),this.w=t.naturalWidth,this.h=t.naturalHeight,this.polygon=e,this.mask=document.createElementNS(h,"path"),this.mask.setAttribute("fill-rule","evenodd"),this.mask.setAttribute("class","a9s-selection-mask"),this.mask.setAttribute("d",`M0 0 h${this.w} v${this.h} h-${this.w} z M${this.polygon.getAttribute("points")} z`)}get element(){return this.mask}}class df{constructor(t,e,n){u(this,"setPoints",t=>{t=t.map(t=>t[0]+","+t[1]).join(" ");this.outer.setAttribute("points",t),this.inner.setAttribute("points",t)}),u(this,"getBoundingClientRect",()=>this.outer.getBoundingClientRect()),u(this,"dragTo",t=>{this.group.style.display=null,this.mousepos=t;t=[...this.points,t];this.setPoints(t),this.mask.redraw()}),u(this,"addPoint",()=>{var[t,e]=this.mousepos,n=this.points[this.points.length-1];4<Math.pow(t-n[0],2)+Math.pow(e-n[1],2)&&(this.points=[...this.points,this.mousepos],this.setPoints(this.points),this.mask.redraw())}),u(this,"destroy",()=>{this.group.parentNode.removeChild(this.group),this.polygon=null,this.group=null}),u(this,"toSelection",()=>new $p(Je(this.group,this.env.image))),this.points=[t],this.env=n,this.mousepos=t,this.group=document.createElementNS(h,"g"),this.polygon=document.createElementNS(h,"g"),this.polygon.setAttribute("class","a9s-selection"),this.outer=document.createElementNS(h,"polygon"),this.outer.setAttribute("class","a9s-outer"),this.inner=document.createElementNS(h,"polygon"),this.inner.setAttribute("class","a9s-inner"),this.setPoints(this.points),this.mask=new hf(n.image,this.inner),this.polygon.appendChild(this.outer),this.polygon.appendChild(this.inner),this.group.style.display="none",this.group.appendChild(this.mask.element),this.group.appendChild(this.polygon),e.appendChild(this.group)}get element(){return this.polygon}}const pf=t=>{var e=t.querySelector(".a9s-inner").points,n=[];for(let t=0;t<e.numberOfItems;t++)n.push(e.getItem(t));return n};class ff extends of{constructor(t,e,n,i){super(t,e,n,i),u(this,"onScaleChanged",()=>this.handles.map(this.scaleHandle)),u(this,"setPoints",t=>{const e=t=>Math.round(10*t)/10,n=t.map(t=>e(t.x)+","+e(t.y)).join(" ");this.shape.querySelector(".a9s-inner").setAttribute("points",n);var t=this.shape.querySelector(".a9s-outer"),{x:t,y:i,width:o,height:r}=(t.setAttribute("points",n),this.mask.redraw(),t.getBBox());lf(this.elementGroup,t,i,o,r)}),u(this,"onGrab",e=>t=>{0===t.button&&(this.grabbedElem=e,this.grabbedAt=this.getSVGPoint(t))}),u(this,"onMouseMove",t=>{var e=(t,e,n)=>t+e<0?-t:n<t+e?n-t:e;if(this.grabbedElem){const n=this.getSVGPoint(t);if(this.grabbedElem===this.shape){const{x:i,y:o,width:r,height:s}=this.shape.querySelector(".a9s-inner").getBBox(),{naturalWidth:a,naturalHeight:l}=this.env.image,u=e(i,n.x-this.grabbedAt.x,a-r),c=e(o,n.y-this.grabbedAt.y,l-s),h=pf(this.shape).map(t=>({x:t.x+u,y:t.y+c}));this.grabbedAt=n,this.setPoints(h),h.forEach((t,e)=>this.setHandleXY(this.handles[e],t.x,t.y))}else{const d=this.handles.indexOf(this.grabbedElem),p=pf(this.shape).map((t,e)=>e===d?n:t);this.setPoints(p),this.setHandleXY(this.handles[d],n.x,n.y)}this.emit("update",Je(this.shape,this.env.image))}}),u(this,"onMouseUp",t=>{this.grabbedElem=null,this.grabbedAt=null}),u(this,"updateState",t=>{t=Xe(t).getAttribute("points").split(" ").map(t=>{var[t,e]=t.split(",").map(t=>parseFloat(t.trim()));return{x:t,y:e}});this.setPoints(t),t.forEach((t,e)=>this.setHandleXY(this.handles[e],t.x,t.y))}),u(this,"destroy",()=>{this.containerGroup.parentNode.removeChild(this.containerGroup),super.destroy()}),this.svg.addEventListener("mousemove",this.onMouseMove),this.svg.addEventListener("mouseup",this.onMouseUp),this.containerGroup=document.createElementNS(h,"g"),this.shape=Ke(t),this.shape.querySelector(".a9s-inner").addEventListener("mousedown",this.onGrab(this.shape)),this.mask=new hf(i.image,this.shape.querySelector(".a9s-inner")),this.containerGroup.appendChild(this.mask.element),this.elementGroup=document.createElementNS(h,"g"),this.elementGroup.setAttribute("class","a9s-annotation editable selected"),this.elementGroup.setAttribute("data-id",t.id),this.elementGroup.appendChild(this.shape),this.handles=pf(this.shape).map(t=>{t=this.drawHandle(t.x,t.y);return t.addEventListener("mousedown",this.onGrab(t)),this.elementGroup.appendChild(t),t}),this.containerGroup.appendChild(this.elementGroup),e.appendChild(this.containerGroup),af(this.shape,t,n.formatters),this.grabbedElem=null,this.grabbedAt=null}get element(){return this.elementGroup}}class mf extends ef{constructor(t,e,n){super(t,e,n),u(this,"startDrawing",(t,e,n)=>{this._isDrawing=!0,this._startOnSingleClick=n,this.attachListeners({mouseMove:this.onMouseMove,mouseUp:this.onMouseUp,dblClick:this.onDblClick}),this.rubberband=new df([t,e],this.g,this.env)}),u(this,"stop",()=>{this.detachListeners(),this._isDrawing=!1,this.rubberband&&(this.rubberband.destroy(),this.rubberband=null)}),u(this,"onMouseMove",(t,e)=>this.rubberband.dragTo([t,e])),u(this,"onMouseUp",()=>{var{width:t,height:e}=this.rubberband.getBoundingClientRect(),n=this.config.minSelectionWidth||4,i=this.config.minSelectionHeight||4;n<=t||i<=e?this.rubberband.addPoint():this._startOnSingleClick||(this.emit("cancel"),this.stop())}),u(this,"onDblClick",()=>{this._isDrawing=!1;var t=this.rubberband.element;t.annotation=this.rubberband.toSelection(),this.emit("complete",t),this.stop()}),u(this,"createEditableShape",(t,e)=>new ff(t,this.g,{...this.config,formatters:e},this.env)),this._isDrawing=!1,this._startOnSingleClick=!1}get isDrawing(){return this._isDrawing}}mf.identifier="polygon",mf.supports=t=>{var t=t.selector("SvgSelector");return!t||null==(t=t.value)?void 0:t.match(/^<svg.*<polygon/g)};class gf extends Me{constructor(t,e,n){super(),u(this,"listTools",()=>this._registered.map(t=>t.identifier)),u(this,"registerTool",t=>{var e=t.identifier;this.listTools().includes(e)&&this.unregisterTool(e),this._registered.unshift(t)}),u(this,"unregisterTool",e=>this._registered=this._registered.filter(t=>t.identifier!==e)),u(this,"setCurrent",e=>{this._current&&this._current.destroy();var t="string"==typeof e||e instanceof String?this._registered.find(t=>t.identifier===e):e;this._current=new t(this._g,this._config,this._env),this._current.on("startSelection",t=>this.emit("startSelection",t)),this._current.on("complete",t=>this.emit("complete",t)),this._current.on("cancel",t=>this.emit("cancel",t))}),u(this,"forAnnotation",e=>{var t;const[n]=e.targets,i=null==(t=n.renderedVia)?void 0:t.name,o=i?this._registered.find(t=>t.identifier===i):this._registered.find(t=>t.supports(e));return o?new o(this._g,this._config,this._env):null}),this._g=t,this._config=e,this._env=n,this._registered=[cf,mf],this.setCurrent(cf)}get current(){return this._current}}class vf{constructor(r,n,i){this.svg=r.closest("svg"),this.g=document.createElementNS(h,"g"),this.g.setAttribute("class","a9s-crosshair");const o=document.createElementNS(h,"line"),s=document.createElementNS(h,"line"),a=(this.g.appendChild(o),this.g.appendChild(s),r.appendChild(this.g),t=>{var e=this.svg.getBoundingClientRect(),n=t.clientX-e.x,t=t.clientY-e.y,e=this.svg.createSVGPoint(),{left:i,top:o}=this.svg.getBoundingClientRect();return e.x=n+i,e.y=t+o,e.matrixTransform(r.getScreenCTM().inverse())});this.svg.parentElement.addEventListener("pointermove",t=>{var{x:t,y:e}=a(t);o.setAttribute("x1",0),o.setAttribute("y1",e),o.setAttribute("x2",n),o.setAttribute("y2",e),s.setAttribute("x1",t),s.setAttribute("y1",0),s.setAttribute("x2",t),s.setAttribute("y2",i)})}}const yf=(t,e)=>{const n=(ze(e,".a9s-annotation")?e:e.closest(".a9s-annotation")).querySelector(".a9s-outer"),i=t.naturalWidth/t.width,o=t.naturalHeight/t.height,r=t.getBoundingClientRect(),s=n.getBoundingClientRect(),a=s.x-r.x,l=s.y-r.y,{width:u,height:c}=s,h=document.createElement("CANVAS"),d=h.getContext("2d");return h.width=u*i,h.height=c*o,d.drawImage(t,a*i,l*o,u*i,c*o,0,0,u*i,c*o),{snippet:h,transform:t=>{return[a*i+t[0],l*o+t[1]]}}},_f=Kp();class bf extends Me{constructor(t){super(),u(this,"_attachMouseListeners",(i,e)=>{i.addEventListener("mouseenter",()=>{var t;null!=(t=null==(t=this.tools)?void 0:t.current)&&t.isDrawing||(this.currentHover!==i&&this.emit("mouseEnterAnnotation",e,i),this.currentHover=i)}),i.addEventListener("mouseleave",()=>{var t;null!=(t=null==(t=this.tools)?void 0:t.current)&&t.isDrawing||(this.emit("mouseLeaveAnnotation",e,i),this.currentHover=null)}),_f&&(i.addEventListener("touchstart",t=>{t.stopPropagation(),this.currentHover=i}),i.addEventListener("touchend",t=>{var{clientX:e,clientY:n}=t.changedTouches[0],e=document.elementFromPoint(e,n);t.stopPropagation(),i.contains(e)&&(this.currentHover=i,this.selectCurrentHover())}))}),u(this,"_lazy",t=>{this.imageEl.naturalWidth?t():this.imageEl.addEventListener("load",()=>t())}),u(this,"_onMouseDown",t=>{var e;0===t.button&&(this.readOnly||this.selectedShape||this.tools.current.isDrawing?null!=(e=null==(e=this.tools)?void 0:e.current)&&e.isDrawing||this.selectedShape===this.currentHover||this.selectCurrentHover():this.tools.current.start(t,this.drawOnSingleClick&&!this.currentHover))}),u(this,"_refreshNonScalingAnnotations",()=>{const e=this.getCurrentScale();e!==1/0&&Array.from(this.svg.querySelectorAll(".a9s-non-scaling")).forEach(t=>{t.setAttribute("transform",`scale(${e})`)})}),u(this,"_scaleFormatterElements",t=>{const e=this.getCurrentScale();e!==1/0&&(t?(t=t.querySelector(".a9s-formatter-el"))&&t.firstChild.setAttribute("transform",`scale(${e})`):Array.from(this.g.querySelectorAll(".a9s-formatter-el")).forEach(t=>t.firstChild.setAttribute("transform",`scale(${e})`)))}),u(this,"addAnnotation",t=>{n=t,e=this.imageEl;var e,n=Qe[en(n).type](n,e);return Ne(n,"a9s-annotation"),n.setAttribute("data-id",t.id),n.annotation=t,this._attachMouseListeners(n,t),this.g.appendChild(n),af(n,t,this.formatters),this._scaleFormatterElements(n),n}),u(this,"addDrawingTool",t=>{var e;return null==(e=this.tools)?void 0:e.registerTool(t)}),u(this,"addOrUpdateAnnotation",(t,e)=>{this.selectedShape&&(this.selectedShape.annotation.isEqual(t)||this.selectedShape.annotation.isEqual(e))&&(this.deselect(),this.emit("select",{})),e&&this.removeAnnotation(e),this.removeAnnotation(t);e=this.addAnnotation(t);ze(e,"a9s-non-scaling")&&e.setAttribute("transform",`scale(${this.getCurrentScale()})`),this.redraw()}),u(this,"deselect",t=>{var e,n;this.selectedShape&&(null!=(e=this.tools)&&e.current.stop(),e=this.selectedShape["annotation"],this.selectedShape.destroy?(this.selectedShape.destroy(),this.selectedShape=null,e.isSelection||(this.addAnnotation(e),t)||this.redraw()):(e=this.selectedShape,t="selected",(n=De(e)).delete(t),0===n.size?e.removeAttribute("class"):e.setAttribute("class",Array.from(n).join(" ")),this.selectedShape=null))}),u(this,"destroy",()=>{this.deselect(),this.currentHover=null,this.svg.parentNode.removeChild(this.svg)}),u(this,"findShape",t=>{t=null!=t&&t.id?t.id:t;return this.g.querySelector(`.a9s-annotation[data-id="${t}"]`)}),u(this,"getAnnotations",()=>Array.from(this.g.querySelectorAll(".a9s-annotation")).map(t=>t.annotation)),u(this,"getCurrentScale",()=>{var t=this.svg.getBoundingClientRect(),{width:e,height:n}=this.svg.viewBox.baseVal;return Math.max(e/t.width,n/t.height)}),u(this,"getSelectedImageSnippet",()=>{var t;if(this.selectedShape)return t=this.selectedShape.element||this.selectedShape,yf(this.imageEl,t)}),u(this,"init",t=>{this.deselect(),this.currentHover=null,Array.from(this.g.querySelectorAll(".a9s-annotation")).forEach(t=>this.g.removeChild(t)),this._lazy(()=>{t.sort((t,e)=>nn(e,this.imageEl)-nn(t,this.imageEl)),t.forEach(this.addAnnotation)}),this._refreshNonScalingAnnotations()}),u(this,"listDrawingTools",()=>{var t;return null==(t=this.tools)?void 0:t.listTools()}),u(this,"overrideId",(t,e)=>{var t=this.findShape(t),n=(t.setAttribute("data-id",e),t)["annotation"],n=n.clone({id:e});return t.annotation=n}),u(this,"redraw",()=>{var t=Array.from(this.g.querySelectorAll(".a9s-annotation:not(.selected)")),e=t.map(t=>t.annotation);e.sort((t,e)=>nn(e,this.imageEl)-nn(t,this.imageEl)),t.forEach(t=>this.g.removeChild(t)),e.forEach(this.addAnnotation)}),u(this,"removeAnnotation",t=>{var e=t.type?t.id:t,n=((null==(n=this.selectedShape)?void 0:n.annotation.id)===e&&this.deselect(),this.findShape(t));n&&((null==(e=this.selectedShape)?void 0:e.annotation)===n.annotation&&this.deselect(),(null==(t=this.currentHover)?void 0:t.annotation)===n.annotation&&(this.currentHover=null),n.parentNode.removeChild(n))}),u(this,"removeDrawingTool",t=>{var e;return null==(e=this.tools)?void 0:e.unregisterTool(t)}),u(this,"selectAnnotation",(t,e)=>{this.selectedShape&&this.deselect();t=this.findShape(t);if(t)return this.selectShape(t,e),e=this.selectedShape.element||this.selectedShape,{annotation:t.annotation,element:e};this.deselect()}),u(this,"selectCurrentHover",()=>{this.currentHover?this.disableSelect?this.emit("clickAnnotation",this.currentHover.annotation,this.currentHover):this.selectShape(this.currentHover):(this.deselect(),this.emit("select",{skipEvent:!0}))}),u(this,"selectShape",(t,e)=>{var n;if(e||t.annotation.isSelection||this.emit("clickAnnotation",t.annotation,t),(null==(n=this.selectedShape)?void 0:n.annotation)!==t.annotation){this.selectedShape&&this.selectedShape.annotation!==t.annotation&&this.deselect(!0);const i=t["annotation"];this.readOnly||i.readOnly?(Ne(t,"selected"),this.selectedShape=t,e||this.emit("select",{annotation:i,element:t,skipEvent:e})):((n=this.tools.forAnnotation(i))?(t.parentNode.removeChild(t),this.selectedShape=n.createEditableShape(i,this.formatters),this.selectedShape.element.annotation=i,this._scaleFormatterElements(this.selectedShape.element),this.selectedShape.on("update",t=>{this.selectedShape&&this.emit("updateTarget",this.selectedShape.element,t)}),setTimeout(()=>{var t;this.selectedShape&&this._attachMouseListeners(this.selectedShape.element,i),e||(this.currentHover=null==(t=this.selectedShape)?void 0:t.element)},1)):this.selectedShape=t,e||this.emit("select",{annotation:i,element:this.selectedShape.element||this.selectedShape}))}}),u(this,"setDrawingTool",t=>{var e;this.tools&&(null!=(e=this.tools.current)&&e.stop(),this.tools.setCurrent(t))}),u(this,"setVisible",t=>{t?this.svg.style.display=null:(this.deselect(),this.svg.style.display="none")}),u(this,"stopDrawing",()=>{var t;null!=(t=null==(t=this.tools)?void 0:t.current)&&t.stop()});var{wrapperEl:t,config:e,env:n}=t;if(this.imageEl=n.image,this.readOnly=e.readOnly,e.formatter?this.formatters=[e.formatter]:e.formatters&&(this.formatters=Array.isArray(e.formatters)?e.formatters:[e.formatters]),this.disableSelect=e.disableSelect,this.drawOnSingleClick=e.drawOnSingleClick,this.svg=document.createElementNS(h,"svg"),this.svg.setAttribute("tabindex",0),_f){this.svg.setAttribute("class","a9s-annotationlayer touch");{var o=this.svg;let i=null;const a=(t,e)=>new MouseEvent(t,{screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,pageX:e.pageX,pageY:e.pageY,bubbles:!0}),l=t=>{const e=t.changedTouches[0],n=a(Xp[t.type],e);e.target.dispatchEvent(n),t.preventDefault(),"touchstart"!==t.type&&"touchmove"!==t.type||(i&&clearTimeout(i),i=setTimeout(()=>{var t=a("dblclick",e);e.target.dispatchEvent(t)},800)),"touchend"===t.type&&i&&clearTimeout(i)};o.addEventListener("touchstart",l,!0),o.addEventListener("touchmove",l,!0),o.addEventListener("touchend",l,!0),o.addEventListener("touchcancel",l,!0)}this.svg.addEventListener("touchstart",()=>{this.currentHover=null,this.selectCurrentHover()})}else this.svg.setAttribute("class","a9s-annotationlayer");var i,r,{naturalWidth:o,naturalHeight:s}=this.imageEl;o||s?this.svg.setAttribute("viewBox",`0 0 ${o} `+s):({width:i,height:r}=this.imageEl,this.svg.setAttribute("viewBox",`0 0 ${i} `+r),"img"!==this.imageEl.nodeName.toLowerCase()&&(this.imageEl.naturalWidth=i,this.imageEl.naturalHeight=r),this.imageEl.addEventListener("load",()=>{this.emit("load",this.imageEl.src),this.svg.setAttribute("viewBox",`0 0 ${this.imageEl.naturalWidth} `+this.imageEl.naturalHeight)})),this.g=document.createElementNS(h,"g"),this.svg.appendChild(this.g),t.appendChild(this.svg),e.crosshair&&(this.crosshair=new vf(this.g,o,s),Ne(this.svg,"no-cursor")),this.selectedShape=null,this.tools=new gf(this.g,e,n),this.tools.on("startSelection",t=>this.emit("startSelection",t)),this.tools.on("cancel",this.selectCurrentHover),this.tools.on("complete",this.selectShape),this.svg.addEventListener("mousedown",this._onMouseDown),this.currentHover=null,window.ResizeObserver&&(this.resizeObserver=new ResizeObserver(()=>{this._refreshNonScalingAnnotations(),this._scaleFormatterElements()}),this.resizeObserver.observe(this.svg.parentNode))}}var wf=ke(_t),xf=0;const Sf=function(t,e,n,i,o){var r,s,a={};for(s in e)"ref"==s?r=e[s]:a[s]=e[s];if(n={type:t,props:a,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:--xf,__source:i,__self:o},"function"==typeof t&&(r=t.defaultProps))for(s in r)void 0===a[s]&&(a[s]=r[s]);return wf.options.vnode&&wf.options.vnode(n),n};class Cf extends x{constructor(t){super(t),u(this,"clearState",t=>this.setState({selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,beforeHeadlessModify:null},t)),u(this,"forwardEvent",(t,n)=>{this.annotationLayer.on(t,(t,e)=>{this.props[n](t.clone(),e)})}),u(this,"onKeyUp",t=>{var e;27===t.which?(this.annotationLayer.stopDrawing(),e=this.state["selectedAnnotation"],e&&(this.cancelSelected(),this.props.onCancelSelected(e))):46===t.which&&(e=this.state["selectedAnnotation"],e)&&(e.isSelection?this.onCancelAnnotation(e):this.onDeleteAnnotation(e))}),u(this,"handleStartSelect",t=>this.props.onSelectionStarted(t)),u(this,"handleSelect",(t,e)=>{this.state.editorDisabled?this.onHeadlessSelect(t,e):this.onNormalSelect(t,e)}),u(this,"onNormalSelect",(t,e)=>{const{annotation:n,element:i}=t;if(n){const o=t=>{this.setState({selectedAnnotation:n,selectedDOMElement:i,modifiedTarget:null,beforeHeadlessModify:null},()=>{e||(n.isSelection?this.props.onSelectionCreated(n.clone()):this.props.onAnnotationSelected(n.clone(),i)),t&&t()})},r=this.state["selectedAnnotation"];r&&!r.isEqual(n)?this.clearState(()=>{this.props.onCancelSelected(r.clone()),o(()=>this.props.onChangeSelected(n.clone(),r.clone()))}):o()}else{const s=this.state["selectedAnnotation"];s?this.clearState(()=>{this.props.onCancelSelected(s)}):this.clearState()}}),u(this,"onHeadlessSelect",(e,n)=>{this.saveSelected().then(()=>{this.onNormalSelect(e,n);var t=e["annotation"];t&&!t.isSelection&&(t=this.annotationLayer.selectAnnotation(e.annotation,!0),this.setState({selectedDOMElement:t.element}))})}),u(this,"handleUpdateTarget",(t,e)=>{this.setState({selectedDOMElement:t,modifiedTarget:e});t=JSON.parse(JSON.stringify(e));this.props.onSelectionTargetChanged(t)}),u(this,"overrideAnnotationId",n=>t=>{const e=n["id"];this.state.selectedAnnotation?this.clearState(()=>{this.annotationLayer.overrideId(e,t)}):this.annotationLayer.overrideId(e,t)}),u(this,"onCreateOrUpdateAnnotation",(i,o)=>(t,e)=>{let n=t.isSelection?t.toAnnotation():t;n=this.state.modifiedTarget?n.clone({target:this.state.modifiedTarget}):n.clone(),this.clearState(()=>{this.annotationLayer.deselect(),this.annotationLayer.addOrUpdateAnnotation(n,e),e?this.props[i](n,e.clone()):this.props[i](n,this.overrideAnnotationId(n)),o&&o()})}),u(this,"onDeleteAnnotation",t=>{this.clearState(),this.annotationLayer.removeAnnotation(t),this.props.onAnnotationDeleted(t)}),u(this,"onCancelAnnotation",(t,e)=>{this.annotationLayer.deselect(),this.props.onCancelSelected(t),this.clearState(e)}),u(this,"addAnnotation",t=>this.annotationLayer.addOrUpdateAnnotation(t.clone())),u(this,"addDrawingTool",t=>this.annotationLayer.addDrawingTool(t)),u(this,"cancelSelected",()=>new Promise(t=>{this.annotationLayer.deselect(),this.state.selectedAnnotation?this.clearState(t):t()})),u(this,"getAnnotationById",t=>{return null==(t=this.annotationLayer.findShape(t))?void 0:t.annotation}),u(this,"getAnnotations",()=>this.annotationLayer.getAnnotations().map(t=>t.clone())),u(this,"getImageSnippetById",t=>{t=this.annotationLayer.findShape(t);if(t)return yf(this.props.env.image,t)}),u(this,"getSelected",()=>{var t;if(this.state.selectedAnnotation)return this.state.editorDisabled?this.state.selectedAnnotation:null==(t=this._editor.current)?void 0:t.getCurrentAnnotation()}),u(this,"getSelectedImageSnippet",()=>this.annotationLayer.getSelectedImageSnippet()),u(this,"listDrawingTools",()=>this.annotationLayer.listDrawingTools()),u(this,"removeAnnotation",t=>{this.annotationLayer.removeAnnotation(t),this.state.selectedAnnotation&&this.setState({selectedAnnotation:null})}),u(this,"removeDrawingTool",t=>this.annotationLayer.removeDrawingTool(t)),u(this,"saveSelected",()=>new Promise(t=>{var e,n,i=this.state.selectedAnnotation;i?this._editor.current?(this._editor.current.onOk(),t()):i.isSelection?0<i.bodies.length||this.props.config.allowEmpty?this.onCreateOrUpdateAnnotation("onAnnotationCreated",t)(i):(this.annotationLayer.deselect(),t()):({beforeHeadlessModify:e,modifiedTarget:n}=this.state,e?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(i,e):n?this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(i,i):this.onCancelAnnotation(i,t)):t()})),u(this,"selectAnnotation",t=>{t=this.annotationLayer.selectAnnotation(t,!0);if(t)return this.handleSelect(t,!0),t.annotation.clone();this.clearState()}),u(this,"setAnnotations",t=>this.annotationLayer.init(t.map(t=>t.clone()))),u(this,"setDrawingTool",t=>this.annotationLayer.setDrawingTool(t)),u(this,"setVisible",t=>{this.annotationLayer.setVisible(t),t||this.clearState()}),u(this,"updateSelected",(e,n)=>new Promise(t=>{this.state.selectedAnnotation&&(n?this.state.selectedAnnotation.isSelection?this.onCreateOrUpdateAnnotation("onAnnotationCreated",t)(e):this.onCreateOrUpdateAnnotation("onAnnotationUpdated",t)(e,this.state.selectedAnnotation):this.setState({selectedAnnotation:e,beforeHeadlessModify:this.state.beforeHeadlessModify||this.state.selectedAnnotation},t))})),this.state={selectedAnnotation:null,selectedDOMElement:null,modifiedTarget:null,readOnly:this.props.config.readOnly,editorDisabled:this.props.config.disableEditor,widgets:this.props.config.widgets,beforeHeadlessModify:null},this._editor=k.createRef()}componentDidMount(){this.annotationLayer=new bf(this.props),this.annotationLayer.on("load",this.props.onLoad),this.annotationLayer.on("startSelection",this.handleStartSelect),this.annotationLayer.on("select",this.handleSelect),this.annotationLayer.on("updateTarget",this.handleUpdateTarget),this.forwardEvent("clickAnnotation","onClickAnnotation"),this.forwardEvent("mouseEnterAnnotation","onMouseEnterAnnotation"),this.forwardEvent("mouseLeaveAnnotation","onMouseLeaveAnnotation"),document.addEventListener("keyup",this.onKeyUp)}componentWillUnmount(){this.annotationLayer.destroy(),document.removeEventListener("keyup",this.onKeyUp)}get disableEditor(){return this.state.editorDisabled}set disableEditor(t){this.setState({editorDisabled:t})}get disableSelect(){return this.annotationLayer.disableSelect}set disableSelect(t){this.annotationLayer.disableSelect=t}get formatters(){return this.annotationLayer.formatters}set formatters(t){this.annotationLayer.formatters=t,this.annotationLayer.redraw()}get readOnly(){return this.state.readOnly}set readOnly(t){this.annotationLayer.readOnly=t,this.setState({readOnly:t})}get widgets(){return this.state.widgets}set widgets(t){this.setState({widgets:t})}render(){var t=this.state.selectedAnnotation&&!this.state.editorDisabled,e=this.state.readOnly||(null==(e=this.state.selectedAnnotation)?void 0:e.readOnly);return t&&Sf(jp,{ref:this._editor,detachable:!0,wrapperEl:this.props.wrapperEl,annotation:this.state.selectedAnnotation,modifiedTarget:this.state.modifiedTarget,selectedElement:this.state.selectedDOMElement,readOnly:e,allowEmpty:this.props.config.allowEmpty,widgets:this.state.widgets,env:this.props.env,onAnnotationCreated:this.onCreateOrUpdateAnnotation("onAnnotationCreated"),onAnnotationUpdated:this.onCreateOrUpdateAnnotation("onAnnotationUpdated"),onAnnotationDeleted:this.onDeleteAnnotation,onCancel:this.onCancelAnnotation})}}class Ef{constructor(t){u(this,"handleAnnotationCreated",(t,e)=>this._emitter.emit("createAnnotation",t.underlying,e)),u(this,"handleAnnotationDeleted",t=>this._emitter.emit("deleteAnnotation",t.underlying)),u(this,"handleAnnotationSelected",(t,e)=>this._emitter.emit("selectAnnotation",t.underlying,e)),u(this,"handleAnnotationUpdated",(t,e)=>this._emitter.emit("updateAnnotation",t.underlying,e.underlying)),u(this,"handleCancelSelected",t=>this._emitter.emit("cancelSelected",t.underlying)),u(this,"handleChangeSelected",(t,e)=>this._emitter.emit("changeSelected",t.underlying,e.underlying)),u(this,"handleClickAnnotation",(t,e)=>this._emitter.emit("clickAnnotation",t.underlying,e)),u(this,"handleLoad",t=>this._emitter.emit("load",t)),u(this,"handleSelectionCreated",t=>this._emitter.emit("createSelection",t.underlying)),u(this,"handleSelectionStarted",t=>this._emitter.emit("startSelection",t)),u(this,"handleSelectionTargetChanged",t=>this._emitter.emit("changeSelectionTarget",t)),u(this,"handleMouseEnterAnnotation",(t,e)=>this._emitter.emit("mouseEnterAnnotation",t.underlying,e)),u(this,"handleMouseLeaveAnnotation",(t,e)=>this._emitter.emit("mouseLeaveAnnotation",t.underlying,e)),u(this,"_wrap",t=>"Annotation"===(null==t?void 0:t.type)?new qp(t):t),u(this,"addAnnotation",(t,e)=>this._app.current.addAnnotation(new qp(t,{readOnly:e}))),u(this,"addDrawingTool",t=>this._app.current.addDrawingTool(t)),u(this,"cancelSelected",()=>this._app.current.cancelSelected()),u(this,"clearAnnotations",()=>this.setAnnotations([])),u(this,"clearAuthInfo",()=>this._env.user=null),u(this,"destroy",()=>{k.unmountComponentAtNode(this._appContainerEl),this._element.parentNode.insertBefore(this._env.image,this._element),this._element.parentNode.removeChild(this._element)}),u(this,"getAnnotationById",t=>{t=this._app.current.getAnnotationById(t);return null==t?void 0:t.underlying}),u(this,"getAnnotations",()=>this._app.current.getAnnotations().map(t=>t.underlying)),u(this,"getImageSnippetById",t=>this._app.current.getImageSnippetById(t)),u(this,"getSelected",()=>{var t=this._app.current.getSelected();return null==t?void 0:t.underlying}),u(this,"getSelectedImageSnippet",()=>this._app.current.getSelectedImageSnippet()),u(this,"listDrawingTools",()=>this._app.current.listDrawingTools()),u(this,"loadAnnotations",t=>fetch(t).then(t=>t.json()).then(t=>(this.setAnnotations(t),t))),u(this,"off",(t,e)=>this._emitter.off(t,e)),u(this,"on",(t,e)=>this._emitter.on(t,e)),u(this,"once",(t,e)=>this._emitter.once(t,e)),u(this,"removeAnnotation",t=>this._app.current.removeAnnotation(this._wrap(t))),u(this,"removeDrawingTool",t=>this._app.current.removeDrawingTool(t)),u(this,"saveSelected",()=>this._app.current.saveSelected()),u(this,"selectAnnotation",t=>{t=this._app.current.selectAnnotation(this._wrap(t));return null==t?void 0:t.underlying}),u(this,"setAnnotations",t=>{t=(t||[]).map(t=>new qp(t));this._app.current.setAnnotations(t)}),u(this,"setAuthInfo",t=>this._env.user=t),u(this,"setDrawingTool",t=>this._app.current.setDrawingTool(t)),u(this,"setServerTime",t=>this._env.setServerTime(t)),u(this,"setVisible",t=>this._app.current.setVisible(t)),u(this,"updateSelected",(t,e)=>{let n=null;"Annotation"===t.type?n=new qp(t):"Selection"===t.type&&(n=new $p(t.target,t.body)),n&&this._app.current.updateSelected(n,e)}),this._app=k.createRef(),this._emitter=new Me,t.disableEditor=t.disableEditor||t.headless;var e,n,i,o=t.image.nodeType?t.image:document.getElementById(t.image);o.style.display="block",this._env={setServerTime:t=>{var e=Date.now();Gp=t-e},getCurrentTimeAdjusted:()=>new Date(Date.now()+Gp).toISOString(),toClientTime:t=>Date.parse(t)-Gp},this._env.image=o,e=t.locale,n=t.messages,e?(i=(e="auto"===e?window.navigator.userLanguage||window.navigator.language:e).split("-")[0].toLowerCase(),(i=[e,i].find(t=>Pl.includes(t)))||console.warn(`Unsupported locale '${e}'. Falling back to default en.`),kl.init(i,n)):kl.init(null,n),this._element=document.createElement("DIV"),this._element.style.position="relative",this._element.style.display="inline-block",o.parentNode.insertBefore(this._element,o),this._element.appendChild(o),this._appContainerEl=document.createElement("DIV"),this._element.appendChild(this._appContainerEl),k.render(Sf(Cf,{ref:this._app,env:this._env,wrapperEl:this._element,config:t,onSelectionStarted:this.handleSelectionStarted,onSelectionCreated:this.handleSelectionCreated,onSelectionTargetChanged:this.handleSelectionTargetChanged,onAnnotationCreated:this.handleAnnotationCreated,onAnnotationSelected:this.handleAnnotationSelected,onAnnotationUpdated:this.handleAnnotationUpdated,onAnnotationDeleted:this.handleAnnotationDeleted,onCancelSelected:this.handleCancelSelected,onChangeSelected:this.handleChangeSelected,onClickAnnotation:this.handleClickAnnotation,onLoad:this.handleLoad,onMouseEnterAnnotation:this.handleMouseEnterAnnotation,onMouseLeaveAnnotation:this.handleMouseLeaveAnnotation}),this._appContainerEl)}get disableEditor(){return this._app.current.disableEditor}set disableEditor(t){this._app.current.disableEditor=t}get disableSelect(){return this._app.current.disableSelect}set disableSelect(t){this._app.current.disableSelect=t}get formatters(){return this._app.current.formatters||[]}set formatters(t){t?(t=Array.isArray(t)?t:[t],this._app.current.formatters=t):this._app.current.formatters=null}get readOnly(){return this._app.current.readOnly}set readOnly(t){this._app.current.readOnly=t}get widgets(){return this._app.current.widgets}set widgets(t){this._app.current.widgets=t}}j.Annotorious=Ef,j.init=t=>new Ef(t),Object.defineProperty(j,"__esModule",{value:!0}),j[Symbol.toStringTag]="Module"});
/*
 * vdiff.js - JavaScript-based visual differencing tool
 * http://codh.rois.ac.jp/software/vdiffjs/
 *
 * Copyright 2021 Center for Open Data in the Humanities, Research Organization of Information and Systems
 * Released under the MIT license
 *
 * Core contributor: Jun HOMMA (@2SC1815J)
 *
 * Licenses of open source libraries, see acknowledgements.md
 */
var Module={onRuntimeInitialized:function(){var t=new Event("opencvRuntimeInitialized");window.dispatchEvent(t),Module.runtimeInitialized=!0}},VDiff=function(zt){"use strict";var e,jt=window.$,It=(window.console&&console.log("vdiff.js 1.5.1+20230317"),function(t){function e(t){return jt.isPlainObject(t)&&t.lang?"ja"!==t.lang?"en":"ja":null}var n=e(y(location.search));n=n||e(t);n=n||("ja"!==String(window.navigator.language||window.navigator.userLanguage||"ja").substring(0,2)?"en":"ja");return n}(zt)),t=window.navigator.userAgent.toLowerCase();if(-1!=t.indexOf("msie")||-1!=t.indexOf("trident"))_("ja"!==It?"Internet Explorer is not supported.":"Internet Explorerは未対応です。");else{if("object"==typeof WebAssembly)return"undefined"!=typeof cv&&cv.runtimeInitialized?i():jt(window).on("opencvRuntimeInitialized",i),{getParameters:function(){return e?e.getParameters():{}}};_("ja"!==It?"WebAssembly is not supported by your browser.":"お使いのブラウザはWebAssembly未対応です。")}function y(t){t=t.substring(1);if(""===t)return null;for(var e=t.split("&"),n={},i=0;i<e.length;i++){var o,r=e[i].split("=");1<r.length&&(o=decodeURIComponent(r[0].replace(/\+/g," ")),r=decodeURIComponent(r[1].replace(/\+/g," ")),n[o]=r)}return n}function _(t){jt.isPlainObject(zt)&&(zt.id&&jt("#"+zt.id).text(t),jt.isFunction(zt.failCallback)&&zt.failCallback(),jt.isFunction(zt.alwaysCallback))&&zt.alwaysCallback()}function n(t,yt){var t=jt.isPlainObject(t)?t:{},U="#"+t.id,Z=t.size,e=t.editorUrl,l=(l=t.layout,n=(y(location.search)||{}).layout,i=1,n=parseInt(n,10)||parseInt(l,10),i=!isNaN(n)&&0<n&&n<=4?n:i),q=t.enableAnnotator,$=jt.isPlainObject(yt)?yt:{},n=$.img1,i=$.img2,t=$.img1_label,u=$.img2_label,_t=$.corr_pts,bt=$.img1_roi_xywh,G=!!$.mode,Y=("mode"in $&&"string"==typeof $.mode&&("false"!==$.mode&&"0"!==$.mode||(G=!1)),!!$.show_img1_right),X=("show_img1_right"in $&&"string"==typeof $.mode&&("false"!==$.show_img1_right&&"0"!==$.show_img1_right||(Y=!1)),jt.isArray($.annotations)?$.annotations:null);function c(t,e){t=t.toString();return 0===t.toLowerCase().indexOf("data:")||0===t.toLowerCase().indexOf("blob:")||e.no_ts?t:t+(-1!==t.indexOf("?")?"&":"?")+(new Date).getTime()}jt(U).addClass("vdiffjs-container"),G&&jt(U).addClass("vdiffjs-global-compare-mode");n=c(n,$),i=c(i,$);function h(t,e){var n="anonymous";if("crossOrigin"in e)switch(e.crossOrigin.toLowerCase()){case"use-credentials":n="use-credentials";break;case"false":n=void 0}e=jt.isPlainObject(t)?t:{};return void 0!==n&&(e.crossOrigin=n),e}for(var wt,o,r,K=jt("<img>").attr(h({src:n},$)),J=jt("<img>").attr(h({src:i},$)),n=jt("<div>").css({display:"none"}).append(K),i=jt("<div>").append(J),Q=jt("<div>").append(n).append(i),xt=(jt(U).append(Q),Q.imagesCompare().data("imagesCompare")),n=(Q.hide(),U.slice(1)+"-"),i=n+"canvas",tt=null,et=jt("<canvas>").attr({id:i+"_1_normal"}),nt=jt("<canvas>").attr({id:i+"_2_normal"}),it=jt("<canvas>").attr({id:i+"_side_by_side"}),ot=jt("<canvas>").attr({id:i+"_annotations"}).addClass("annotation-marker"),rt=jt("<canvas>").attr({id:i+"_1_highlighted"}),st=jt("<canvas>").attr({id:i+"_2_highlighted"}),St=jt("<canvas>").attr({id:i+"_overlay"}),at=jt("<canvas>").attr({id:i+"_merged_highlighted"}),lt=jt("<canvas>").attr({id:i+"_merged_anaglyph"}),Ct=jt("<canvas>").attr({id:i+"_1_dissolve"}),Et=jt("<canvas>").attr({id:i+"_2_dissolve"}),At=jt("<canvas>").attr({id:i+"_merged_dissolve"}),s=((X||q)&&jt(U).append(ot),(G?((wt=jt("<div>").addClass("dissolve-container")).append(Ct).append(Et).append(At),jt(U).append(wt)):jt(U).append(at).append(lt)).append(it),jt("<div>").addClass("toolbar-container")),ut=jt("<div>").addClass("compare-methods-selecter-container"),d=n+"radio",ct=U+' input[name="'+d+'"]',Tt=G?3:4,Pt=G?0:1,Ot=[],a=0;a<Tt;a++){switch(a){case 0:o="ja"!==It?"Juxtapose":"左右",r="fas fa-exchange-alt";break;case 1:r=G?(o="ja"!==It?"Dissolve":"透明","fas fa-adjust"):(o="ja"!==It?"Highlight":"強調","fas fa-highlighter");break;case 2:r=G?(o="ja"!==It?"Side-by-Side":"並列","fas fa-columns"):(o="ja"!==It?"Bicolor":"赤青","fas fa-layer-group");break;case 3:r=G?(o="4",""):(o="ja"!==It?"Side-by-Side":"並列","fas fa-columns")}var p=jt("<i>").addClass(r).attr("title",o).prop("outerHTML");Ot.push(p),ut.append(jt("<input>").attr({type:"radio",name:d,id:d+a,value:a})),ut.append(jt("<label>").attr({for:d+a,title:o}).html(p))}var ht,dt,kt=jt("<div>").addClass("compare-methods-additional-setting-container"),Lt=(G?(ht=jt("<input>").attr({type:"range",min:0,max:1,value:.5,step:"any"}),kt.append(ht)):(i=n+"enable_highlight",dt=jt("<input>").attr({type:"checkbox",id:i}).prop("checked",!0),kt.append(dt).append(jt("<label>").attr({for:i}).html(Ot[1]))),ut.append(kt),s.append(ut),ut.hide(),jt("<div>").addClass("buttons-container clearfix")),pt=X||q?jt("<input>").attr({id:n+"toggle_annotations",type:"checkbox"}).prop("checked",!0):null,i=X||q?jt("<label>").attr({for:n+"toggle_annotations"}).html(jt("<i>").addClass("fas fa-comment-alt")).attr({title:"ja"!==It?"Toggle Annotations Display":"アノテーション表示／非表示を切り替え"}):null,Mt=q?jt("<button>").attr({id:n+"save_annotations",type:"button"}).addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==It?"Save Annotations":"アノテーションを保存"}).html(jt("<i>").addClass("fas fa-save")):null,e=e?jt("<a>").addClass("ui-button ui-widget ui-corner-all").attr({id:n+"editor_link",title:"ja"!==It?"Edit image transformation":"画像比較を修正",href:e}).html(jt("<i>").addClass("fas fa-edit")):null,Dt=jt("<a>").addClass("ui-button ui-widget ui-corner-all").attr({id:n+"save_image_link",title:"ja"!==It?"Save image":"画像を保存"}).html(jt("<i>").addClass("fas fa-file-download")),n=jt("<a>").addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==It?"Help about vdiff.js":"vdiff.jsヘルプ",href:"http://codh.rois.ac.jp/software/vdiffjs/",target:"_blank"}).html(jt("<i>").addClass("fas fa-question")),ft=(Lt.append(pt).append(i).append(Mt).append(e).append(Dt).append(n),s.append(Lt),Lt.hide(),(X||q)&&pt.button(),jt("<div>").addClass("legend-container clearfix")),mt=jt("<span>").addClass("left-marker").text(""),gt=jt("<span>").addClass("right-marker").text(""),i=jt("<div>").addClass("left-label"),e=jt("<div>").addClass("right-label"),f=(Y?(i.text(u||("ja"!==It?"Image 2":"画像2")),e.text(t||("ja"!==It?"Image 1":"画像1"))):(i.text(t||("ja"!==It?"Image 1":"画像1")),e.text(u||("ja"!==It?"Image 2":"画像2"))),jt("<div>").addClass("left-block").append(mt).append(i)),m=jt("<div>").addClass("right-block").append(e).append(gt);function Nt(t,e){t?(e<=0?f.css({visibility:"hidden"}):f.css({visibility:"visible"}),1<=e?m.css({visibility:"hidden"}):m.css({visibility:"visible"})):(f.css({visibility:"visible"}),m.css({visibility:"visible"}))}switch(ft.append(f).append(m),ft.hide(),l){case 1:s.addClass("top"),ft.addClass("bottom"),jt(U).prepend(s),jt(U).append(ft);break;case 2:ft.addClass("top"),s.addClass("bottom"),jt(U).prepend(ft),jt(U).append(s);break;case 3:s.addClass("top"),ft.addClass("middle"),jt(U).prepend(s),s.after(ft);break;case 4:ft.addClass("bottom"),s.addClass("bottom"),jt(U).append(ft),jt(U).append(s)}jt(ct).checkboxradio({icon:!1}),jt(".compare-methods-selecter-container > label").removeClass("ui-corner-all"),jt(".compare-methods-selecter-container > label:first-of-type").addClass("ui-corner-tl ui-corner-bl"),jt(".compare-methods-selecter-container > label:last-of-type").addClass("ui-corner-tr ui-corner-br");var g,vt=jt("<div>").addClass("annotation-popup-container clearfix leaflet-popup");function v(){var t=[],e=Z&&jt.isPlainObject(Z)&&jt.isNumeric(Z["max-size"])?Z["max-size"]:2e3;function j(t,e){var n=1;if(t.naturalWidth>t.naturalHeight){if(t.naturalWidth>e)return{css:{width:e},ratio:n=e/t.naturalWidth,resized:{width:e,height:t.naturalHeight*n}}}else if(t.naturalHeight>e)return{css:{height:e},ratio:n=e/t.naturalHeight,resized:{width:t.naturalWidth*n,height:e}};return{css:{},ratio:n,resized:{width:t.naturalWidth*n,height:t.naturalHeight*n}}}var n,h=j(K[0],e=e<=0?2e3:e),i=j(J[0],e),i=(K.css(h.css),J.css(i.css),jt("<div>").css({width:K[0].naturalWidth,height:K[0].naturalHeight,padding:0})),o=jt("<div>").css({width:J[0].naturalWidth,height:J[0].naturalHeight,padding:0}),m=(jt(U).append(i).append(o),K.appendTo(i),J.appendTo(o),cv.imread(K[0])),g=(t.push(m),cv.imread(J[0])),r=(t.push(g),i.hide(),o.hide(),K[0].width),s=K[0].height,a=1;function d(t){var e,n,i,o,r,s={x:0,y:0,width:100,height:100,xywhUnit:"percent"};return t&&(r=(r=t.match(/^(pixel:|percent:)?([0-9]+),([0-9]+),([0-9]+),([0-9]+)/))||t.match(/^(pct:)(100|[1-9]?\d(?:\.\d+)?),(100|[1-9]?\d(?:\.\d+)?),(100|[1-9]?\d(?:\.\d+)?),(100|[1-9]?\d(?:\.\d+)?)/))&&(t="percent"===(o="percent:"!==r[1]&&"pct:"!==r[1]?o:"percent")?(e=parseFloat(r[2]),n=parseFloat(r[3]),i=parseFloat(r[4]),parseFloat(r[5])):(e=parseInt(r[2],10),n=parseInt(r[3],10),i=parseInt(r[4],10),parseInt(r[5],10)),s={x:e,y:n,width:i,height:t,xywhUnit:o}),s}function p(t,e,n,i){var o,r,s,a,l=n.x,u=n.y,c=n.width,n=n.height,l="percent"===i?(o=Math.min(Math.max(0,l),100),r=Math.max(Math.min(100,l+c),0),s=Math.min(Math.max(0,u),100),Math.max(Math.min(100,u+n),0)):(o=Math.min(Math.max(0,l),t),r=Math.max(Math.min(t,l+c),0),s=Math.min(Math.max(0,u),e),Math.max(Math.min(e,u+n),0));return r<o&&(a=o,o=r,r=a),l<s&&(a=s,s=l,l=a),"percent"===i?{x:o/100*t,y:s/100*e,width:(r-o)/100*t,height:(l-s)/100*e}:{x:o,y:s,width:r-o,height:l-s}}(e<r||e<s)&&(r=h.resized.width,s=h.resized.height,n={width:r,height:s,"max-width":r,"max-height":s}),Z&&jt.isPlainObject(Z)&&(jt.isNumeric(Z["max-width"])&&0<Z["max-width"]&&0<r?(l=Z["max-width"]/r)<1&&(a=l,n={width:r=Z["max-width"],height:s*=a,"max-width":r,"max-height":s}):jt.isNumeric(Z["max-height"])&&0<Z["max-height"]&&0<s&&(l=Z["max-height"]/s)<1&&(a=l,s=Z["max-height"],n={width:r*=a,height:s,"max-width":r,"max-height":s})),jt(U).css({width:r}),n&&Q.css(n);var f,c,v=new cv.Size(m.cols,m.rows),y=new cv.Rect(0,0,m.cols,m.rows),e=(bt&&(f=d(bt),h.ratio<1&&"percent"!==f.xywhUnit&&(f.x*=h.ratio,f.y*=h.ratio,f.width*=h.ratio,f.height*=h.ratio),0===(y=p(m.cols,m.rows,f,f.xywhUnit)).x)&&0===y.y&&0===y.width&0===y.height&&(y.width=m.cols,y.height=m.rows),new cv.Mat),l=(t.push(e),new cv.Mat);function _(t){var e=[];return e.push({x:0,y:0}),e.push({x:t.cols,y:0}),e.push({x:t.cols,y:t.rows}),e.push({x:0,y:t.rows}),e}t.push(l),c=function(t){try{var e,n=jt.isPlainObject(t)?t:JSON.parse(t);if(jt.isPlainObject(n)&&jt.isPlainObject(n.img1)&&jt.isPlainObject(n.img2)&&jt.isPlainObject(n.img1.size)&&jt.isPlainObject(n.img2.size)&&Number.isFinite(n.img1.size.w)&&Number.isFinite(n.img1.size.h)&&Number.isFinite(n.img2.size.w)&&Number.isFinite(n.img2.size.h)&&0<n.img1.size.w&&0<n.img1.size.h&&0<n.img2.size.w&&0<n.img2.size.h&&jt.isArray(n.img1.pts)&&jt.isArray(n.img2.pts)&&n.img1.pts.length===n.img2.pts.length&&3<n.img1.pts.length){for(;e<n.img1.pts.length;e++){var i=n.img1.pts[e],o=n.img2.pts[e];if(!(jt.isPlainObject(i)&&jt.isPlainObject(o)&&Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(o.x)&&Number.isFinite(o.y)))return!1}return n}}catch(t){}return!1}(_t),T=(c||"corners"===_t?function(){var t=[],e=[];if(c)for(var n=c.img1.size,i=c.img2.size,o=c.img1.pts,r=c.img2.pts,s=0;s<o.length;s++)t.push({x:o[s].x/n.w*m.cols,y:o[s].y/n.h*m.rows}),e.push({x:r[s].x/i.w*g.cols,y:r[s].y/i.h*g.rows});else"corners"===_t&&(t=_(m),e=_(g));var a=cv.matFromArray(4,1,cv.CV_32FC2,[t[0].x,t[0].y,t[1].x,t[1].y,t[2].x,t[2].y,t[3].x,t[3].y]),l=cv.matFromArray(4,1,cv.CV_32FC2,[e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),u=(bt||(u=cv.boundingRect(a),0===(y=p(m.cols,m.rows,u)).x&&0===y.y&&0===y.width&0===y.height&&(y.width=m.cols,y.height=m.rows)),cv.getPerspectiveTransform(l,a));return a.delete(),l.delete(),u}:function(){for(var t=[],e=new cv.Mat,n=(t.push(e),new cv.Mat),i=(t.push(n),new cv.Mat(y.height,y.width,cv.CV_8UC1,new cv.Scalar(255))),o=(t.push(i),cv.matFromArray(2,3,cv.CV_64FC1,[1,0,y.x,0,1,y.y])),i=(t.push(o),cv.warpAffine(i,e,o,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),new cv.AKAZE),r=(t.push(i),new cv.KeyPointVector),s=(t.push(r),new cv.KeyPointVector),o=(t.push(s),new cv.Mat),a=(t.push(o),new cv.Mat),l=(t.push(a),i.detectAndCompute(m,e,r,o,!1),i.detectAndCompute(g,n,s,a,!1),new cv.DMatchVectorVector),e=(t.push(l),new cv.BFMatcher(cv.NORM_HAMMING)),u=(t.push(e),e.knnMatch(o,a,l,2),[]),c=[],h=0;h<l.size();h++){var d=l.get(h).get(0),p=l.get(h).get(1);d.distance<.5*p.distance&&(p=r.get(d.queryIdx).pt,d=s.get(d.trainIdx).pt,u.push(p.x),u.push(p.y),c.push(d.x),c.push(d.y))}var f,i=cv.matFromArray(u.length/2,1,cv.CV_32FC2,u),n=(t.push(i),cv.matFromArray(c.length/2,1,cv.CV_32FC2,c));return t.push(n),4<=u.length/2&&4<=c.length/2?f=cv.findHomography(n,i,cv.RANSAC,3):(e=_(m),o=_(g),a=cv.matFromArray(4,1,cv.CV_32FC2,[e[0].x,e[0].y,e[1].x,e[1].y,e[2].x,e[2].y,e[3].x,e[3].y]),n=cv.matFromArray(4,1,cv.CV_32FC2,[o[0].x,o[0].y,o[1].x,o[1].y,o[2].x,o[2].y,o[3].x,o[3].y]),f=cv.getPerspectiveTransform(n,a),a.delete(),n.delete()),t.forEach(function(t){t.delete()}),f})(),P=new cv.Mat(g.rows,g.cols,cv.CV_8UC1,new cv.Scalar(255)),cv.warpPerspective(g,e,T,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),cv.warpPerspective(P,l,T,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),T.delete(),P.delete();var u,b,w,x,I,R,S,C,E,A,T=new cv.Mat,P=(t.push(T),new cv.Mat),O=(t.push(P),cv.GaussianBlur(e,P,new cv.Size(3,3),1),cv.addWeighted(e,1.5,P,-.5,0,T),new cv.Mat),k=(t.push(O),new cv.MatVector);function B(t,e,n,i,o){var r=!1;if(X&&!q){i.empty();for(var s=0;s<X.length;s++){var a=X[s];if(jt.isPlainObject(a)&&jt.isArray(a.body)&&jt.isPlainObject(a.target)&&jt.isPlainObject(a.target.selector)&&a.target.selector.value){var l=d(String(a.target.selector.value).replace(/^xywh=/i,""));if(h.ratio<1&&"percent"!==f.xywhUnit&&(l.x*=h.ratio,l.y*=h.ratio,l.width*=h.ratio,l.height*=h.ratio),0===(l=p(v.width,v.height,l,l.xywhUnit)).x&&0===l.y&&0===l.width&0===l.height&&(l.width=m.cols,l.height=m.rows),!(t<l.x*n||t>(l.x+l.width)*n||e<l.y*n||e>(l.y+l.height)*n)&&(r=!0,jt.isArray(a.body)))for(var u=0;u<a.body.length;u++){var c=a.body[u];jt.isPlainObject(c)&&c.value&&(c=o?jt("<div>").html(c.value):(c=(new DOMParser).parseFromString(c.value,"text/html"),jt("<div>").text(c.body.textContent)),i.append(c))}}}}return r}if(t.push(k),Y?(k.push_back(T),k.push_back(m)):(k.push_back(m),k.push_back(T)),cv.hconcat(k,O),cv.imshow(it[0].id,O),Y?(jt(U+" .images-compare-before").prepend(nt),cv.imshow(nt[0].id,T)):(jt(U+" .images-compare-before").prepend(et),cv.imshow(et[0].id,m)),K.off("load"),K.prependTo(U+" .images-compare-before"),i.remove(),jt(U+" .images-compare-before > img").hide(),Y?(jt(U+" .images-compare-after").prepend(et),cv.imshow(et[0].id,m)):(jt(U+" .images-compare-after").prepend(nt),cv.imshow(nt[0].id,T)),K.clone().prependTo(U+" .images-compare-after"),o.remove(),jt(U+" .images-compare-after > img").hide(),G?(mt.addClass("legend-gray"),gt.addClass("legend-gray"),ft.show(),cv.imshow(Ct[0].id,m),cv.imshow(Et[0].id,T),Ct.hide(),Et.hide(),ht.on("input change",function(){var t=parseFloat(this.value),e=[],n=cv.imread(Ct[0]),i=(e.push(n),cv.imread(Et[0])),o=(e.push(i),new cv.Mat);e.push(o),cv.addWeighted(n,1-t,i,t,0,o),cv.imshow(At[0].id,o),e.forEach(function(t){t.delete()})}),ht.val(.5),ht.change()):(k=!0,"nrbi"in $&&(k="1"===$.nrbi||"true"===$.nrbi.toLowerCase()),O=new cv.Mat,t.push(O),cv.addWeighted(m,.5,T,.5,0,P),cv.cvtColor(P,O,cv.COLOR_RGB2RGBA,0),i=new cv.Mat,t.push(i),o=new cv.Mat,t.push(o),u=new cv.Mat,t.push(u),x=new cv.Mat,t.push(x),A=new cv.Mat,t.push(A),b=new cv.Mat,t.push(b),cv.cvtColor(m,P,cv.COLOR_RGBA2GRAY,0),cv.cvtColor(e,i,cv.COLOR_RGBA2GRAY,0),cv.threshold(P,o,0,255,cv.THRESH_OTSU),cv.threshold(i,u,0,255,cv.THRESH_OTSU),k&&cv.bitwise_xor(o,u,b),0<o.rows*o.cols&&0<u.rows*u.cols&&(e=cv.countNonZero(o)/(o.rows*o.cols),w=cv.countNonZero(u)/(u.rows*u.cols),.5<=e&&.5<=w?(Y?(gt.addClass("legend-blue"),mt):(mt.addClass("legend-blue"),gt)).addClass("legend-red"):e<.5&&w<.5?(Y?(gt.addClass("legend-red"),mt):(mt.addClass("legend-red"),gt)).addClass("legend-blue"):(mt.addClass("legend-gray"),gt.addClass("legend-gray")),ft.show()),cv.subtract(P,i,o),cv.subtract(i,P,u),cv.absdiff(P,i,x),cv.medianBlur(o,P,3),cv.medianBlur(u,i,3),cv.medianBlur(x,A,3),cv.threshold(P,o,0,255,cv.THRESH_OTSU),cv.threshold(i,u,0,255,cv.THRESH_OTSU),cv.threshold(A,x,0,255,cv.THRESH_OTSU),k&&(cv.bitwise_and(o,b,o),cv.bitwise_and(u,b,u),cv.bitwise_and(x,b,x)),e=o.roi(y),t.push(e),w=u.roi(y),t.push(w),k=x.roi(y),t.push(k),b=cv.matFromArray(2,3,cv.CV_64FC1,[1,0,y.x,0,1,y.y]),t.push(b),cv.warpAffine(e,P,b,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),cv.warpAffine(w,i,b,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),cv.warpAffine(k,A,b,v,cv.INTER_LINEAR,cv.BORDER_CONSTANT),cv.bitwise_and(P,l,o),cv.bitwise_and(i,l,u),cv.bitwise_and(A,l,x),cv.medianBlur(o,P,3),cv.medianBlur(u,i,3),cv.medianBlur(x,A,3),0,e=cv.getStructuringElement(cv.MORPH_ELLIPSE,new cv.Size(3,3)),t.push(e),cv.morphologyEx(P,o,cv.MORPH_OPEN,e),cv.dilate(o,P,e,new cv.Point(-1,-1),3),cv.morphologyEx(i,u,cv.MORPH_OPEN,e),cv.dilate(u,i,e,new cv.Point(-1,-1),3),cv.morphologyEx(A,x,cv.MORPH_OPEN,e),cv.dilate(x,A,e,new cv.Point(-1,-1),3),cv.bitwise_and(A,P,o),cv.bitwise_and(A,i,u),cv.GaussianBlur(o,P,new cv.Size(3,3),1),cv.GaussianBlur(u,i,new cv.Size(3,3),1),w=new cv.MatVector,t.push(w),k=new cv.MatVector,t.push(k),e=new cv.Mat(m.rows,m.cols,cv.CV_8UC1,new cv.Scalar(0)),t.push(e),w.push_back(P),w.push_back(e),w.push_back(e),w.push_back(P),cv.merge(w,o),k.push_back(e),k.push_back(e),k.push_back(i),k.push_back(i),cv.merge(k,u),cv.addWeighted(o,1,u,1,0,x),cv.add(m,o,P),cv.add(T,u,i),cv.addWeighted(O,1,x,1,0,A),Y?(jt(U+" .images-compare-before").prepend(st),jt(U+" .images-compare-after").prepend(rt)):(jt(U+" .images-compare-before").prepend(rt),jt(U+" .images-compare-after").prepend(st)),cv.imshow(rt[0].id,P),cv.imshow(st[0].id,i),cv.imshow(at[0].id,A),cv.cvtColor(m,P,cv.COLOR_RGBA2GRAY,0),cv.cvtColor(T,i,cv.COLOR_RGBA2GRAY,0),cv.cvtColor(P,o,cv.COLOR_GRAY2RGB,0),cv.cvtColor(i,u,cv.COLOR_GRAY2RGB,0),w=new cv.Mat(m.rows,m.cols,cv.CV_8UC3,new cv.Scalar(0,0,255)),t.push(w),e=new cv.Mat(m.rows,m.cols,cv.CV_8UC3,new cv.Scalar(255,0,0)),t.push(e),cv.addWeighted(o,1,w,1,0,P),cv.addWeighted(u,1,e,1,0,i),cv.multiply(P,i,o,1/255),k=O.clone(),t.push(k),x=o.roi(y),t.push(x),cv.cvtColor(x,u,cv.COLOR_RGB2RGBA,0),cv.warpAffine(u,k,b,v,cv.INTER_LINEAR,cv.BORDER_TRANSPARENT),cv.imshow(lt[0].id,k),Q.prepend(St),cv.imshow(St[0].id,O),I=document.getElementById(et[0].id),R=document.getElementById(nt[0].id),S=document.getElementById(St[0].id),(C=S.getContext("2d")).clearRect(0,0,S.width,S.height),S.addEventListener("mousemove",function(t){var e,n,i,o;dt&&dt.prop("checked")&&(e=0<a?a:1,o=S.getBoundingClientRect(),n=t.clientX-o.left+-10*e,t=t.clientY-o.top+-10*e,i=25*e,C.clearRect(0,0,S.width,S.height),n+i<y.x*e||n-i>(y.x+y.width)*e||t+i<y.y*e||t-i>(y.y+y.height)*e||(o=xt.getValue()*o.width,o=Y?n<o?R:I:n<o?I:R,C.save(),C.beginPath(),C.arc(n/e,t/e,i/e,0,2*Math.PI,!0),C.closePath(),C.strokeStyle="rgba(128, 128, 128, 128)",C.stroke(),C.clip(),C.drawImage(o,(n-i)/e,(t-i)/e,2*i/e,2*i/e,(n-i)/e,(t-i)/e,2*i/e,2*i/e),C.restore()))}),S.addEventListener("mouseleave",function(){C.clearRect(0,0,S.width,S.height)})),X&&!q){cv.imshow(ot[0].id,m);var L=document.getElementById(ot[0].id),M=L.getContext("2d");for(M.clearRect(0,0,L.width,L.height),z=0;z<X.length;z++){var D=X[z];jt.isPlainObject(D)&&jt.isArray(D.body)&&jt.isPlainObject(D.target)&&jt.isPlainObject(D.target.selector)&&D.target.selector.value&&(D=d(String(D.target.selector.value).replace(/^xywh=/i,"")),h.ratio<1&&"percent"!==f.xywhUnit&&(D.x*=h.ratio,D.y*=h.ratio,D.width*=h.ratio,D.height*=h.ratio),0===(D=p(m.cols,m.rows,D,D.xywhUnit)).x&&0===D.y&&0===D.width&0===D.height&&(D.width=m.cols,D.height=m.rows),M.strokeStyle="#00BFFF",M.save(),M.beginPath(),M.strokeRect(D.x,D.y,D.width,D.height),M.restore())}var N=jt("<div>").addClass("annotation-tooltip").hide();Q.after(N),L.addEventListener("mousemove",function(t){var e=0<a?a:1,n=L.getBoundingClientRect(),i=t.clientX-n.left+0*e,t=t.clientY-n.top+0*e;B(i,t,e,N,!1)?(n=ot.offset(),N.css({left:i+n.left+15,top:t+n.top+15}),N.show()):N.hide()}),L.addEventListener("mouseleave",function(){N.hide()}),L.addEventListener("click",function(t){var e,n,i=0<a?a:1,o=L.getBoundingClientRect(),r=t.clientX-o.left,t=t.clientY-o.top,o=jt("<div>");vt.empty(),B(r,t,i,o,!0)?(i=jt("<div>").addClass("leaflet-popup-content-wrapper"),e=jt("<div>").addClass("leaflet-popup-content"),i.append(e),vt.append(i),i=jt("<div>").addClass("leaflet-popup-tip-container"),n=jt("<div>").addClass("leaflet-popup-tip"),i.append(n),vt.append(i),n=jt("<a>").addClass("leaflet-popup-close-button").attr({role:"button","aria-label":"Close popup",href:"#close"}).html('<span aria-hidden="true">&#215;</span>'),vt.append(n),n.on("click",function(t){t.preventDefault(),vt.hide()}),e.append(o),vt.show(),i=ot.offset(),vt.css({left:r+i.left-vt.outerWidth(!0)/2,top:t+i.top-vt.outerHeight(!0)})):vt.hide()})}function H(){return X=E?E.getAnnotations():X}q&&(cv.imshow(ot[0].id,m),(A=document.getElementById(ot[0].id)).getContext("2d").clearRect(0,0,A.width,A.height),E=Annotorious.init({image:ot.attr("id"),fragmentUnit:a<1?"percent":"pixel",locale:It}),ot.parent().addClass("annotation-annotorious-container").css({position:"absolute",width:r,height:s}),X&&E.setAnnotations(X),Mt.on("click",function(){var t=H();window.console&&console.log(JSON.stringify(t))})),n&&(jt(U+" canvas").css(n),it.css({width:2*n.width,height:n.height,"max-width":2*n["max-width"],"max-height":n["max-height"]})),t.forEach(function(t){t.delete()}),ut.show();var F;function W(t){jt(ct).val([t]),jt(ct+":checked").change()}jt(ct).change(function(){var e=parseInt(jt(this).val(),10),t=(jt(".compare-methods-selecter-container > label").css({"z-index":"auto"}),jt(".compare-methods-selecter-container > label:nth-of-type("+(e+1)+")").css({"z-index":1e3}),n=G?(t=[Q,wt,it],[null,kt,null]):(t=[Q,at,lt,it],[kt,null,null,null]),jt.each(t,function(t){t===e?jt.each(this,function(){jt(this).show()}):jt.each(this,function(){jt(this).hide()})}),jt.each(n,function(t){t===e?jt.each(this,function(){jt(this).css({visibility:"visible"})}):jt.each(this,function(){jt(this).css({visibility:"hidden"})})}),0===e),n=(t?(Q.off("imagesCompare:resized.vdiffjs"),Q.on("imagesCompare:resized.vdiffjs",function(){jt(U+" .images-compare-container").css({width:r,height:s,"max-width":r,"max-height":s}),jt(U+" .images-compare-after").css({width:r,height:s}),jt(U+" .images-compare-before").css({width:r,height:s}),F=xt.getValue(),xt.setValue(F)}),jt(window).trigger("resize"),Q.off("imagesCompare:changed.vdiffjs"),Q.on("imagesCompare:changed.vdiffjs",function(t){Nt(!0,t.ratio)}),Nt(!0,xt.getValue())):Nt(!1),G&&2===e||!G&&3===e);n?jt(U).css({width:2*r}):jt(U).css({width:r}),pt&&(pt.change(),t||n?pt.checkboxradio("disable"):pt.checkboxradio("enable")),tt=null,t=G?[nt,At,it]:[nt,at,lt,it],jt.each(t,function(t){t===e&&(tt=this)}),tt?Dt.attr("disabled",!1).removeClass("ui-state-disabled"):Dt.attr("disabled",!0).addClass("ui-state-disabled")}),W(Pt),dt&&(dt.change(function(){dt.prop("checked")?(et.hide(),nt.hide(),rt.show(),st.show()):(et.show(),nt.show(),rt.hide(),st.hide())}),dt.change()),pt&&(pt.change(function(){var t=jt(this).prop("checked"),e=parseInt(jt(ct+":checked").val(),10),n=0===e,e=G&&2===e||!G&&3===e;X&&(n||e?(ot.hide(),vt.hide()):t?ot.show():ot.hide()),q&&(!n&&!e&&t?(ot.show(),ot.parent().show()):(ot.hide(),ot.parent().hide()))}),pt.change()),Dt.on("click",function(){var t,e;tt&&(t="vdiffjs_"+(parseInt(jt(ct+":checked").val(),10)+1)+".png",(e=document.createElement("a")).href=tt[0].toDataURL("image/png"),e.download=t,document.body.appendChild(e),e.click(),document.body.removeChild(e))}),Lt.show();var V={};for(var z=0;z<Tt;z++)V[Ot[z]]=function(t){return function(){W(t)}}(z);return T=G?[Q,wt,it]:[Q,at,lt,it],X&&T.push(ot),T.forEach(function(t){t.haloContext({bindings:V})}),jt.isFunction(zt.doneCallback)&&zt.doneCallback(),jt.isFunction(zt.alwaysCallback)&&zt.alwaysCallback(),{getParameters:function(){var t=yt||{},e=H();return null!==e&&(t.annotations=e),t}}}return jt(U).append(vt),vt.hide(),jt.when.apply(jt,jt(U+" img").map(function(t,e){var n=jt.Deferred();return e.complete?n.resolve():(jt(e).on("load",function(){n.resolve()}),jt(e).on("error",function(){n.reject()})),n})).done(function(){g=v()}).fail(function(){_("ja"!==It?"Image could not be loaded.":"画像を読み込めませんでした。")}),{getParameters:function(){return g?g.getParameters():{}}}}function i(){var t={};jt.isPlainObject(zt)?t=jt.isPlainObject(zt.data)?zt.data:y(location.search)||{}:zt={},zt.id?t.img1&&t.img2?e=n(zt,t):_("ja"!==It?"Specify the images to compare.":"比較する画像を指定してください。"):_("ja"!==It?"Specify where to display.":"表示先を指定してください。")}},VDiffEditor=function(At){"use strict";var n,Tt=window.$,Pt=(window.console&&console.log("vdiff.js editor 1.5.1+20230317"),function(t){function e(t){return Tt.isPlainObject(t)&&t.lang?"ja"!==t.lang?"en":"ja":null}var n=e(i(location.search));n=n||e(t);n=n||("ja"!==String(window.navigator.language||window.navigator.userLanguage||"ja").substring(0,2)?"en":"ja");return n}(At)),t=window.navigator.userAgent.toLowerCase();if(-1!=t.indexOf("msie")||-1!=t.indexOf("trident"))c("ja"!==Pt?"Internet Explorer is not supported.":"Internet Explorerは未対応です。");else{if("object"==typeof WebAssembly)return"undefined"!=typeof cv&&cv.runtimeInitialized?Ot():Tt(window).on("opencvRuntimeInitialized",Ot),{getParameters:function(){return n?n.getParameters():{}}};c("ja"!==Pt?"WebAssembly is not supported by your browser.":"お使いのブラウザはWebAssembly未対応です。")}function i(t){t=t.substring(1);if(""===t)return null;for(var e=t.split("&"),n={},i=0;i<e.length;i++){var o,r=e[i].split("=");1<r.length&&(o=decodeURIComponent(r[0].replace(/\+/g," ")),r=decodeURIComponent(r[1].replace(/\+/g," ")),n[o]=r)}return n}function c(t){Tt.isPlainObject(At)&&(At.id&&Tt("#"+At.id).text(t),Tt.isFunction(At.failCallback)&&At.failCallback(),Tt.isFunction(At.alwaysCallback))&&At.alwaysCallback()}function o(t,et){var t=Tt.isPlainObject(t)?t:{},nt="#"+t.id,it=t.size,ot=t.viewerUrl,rt=t.layout,e=Tt.isPlainObject(et)?et:{},st=e.img1,at=e.img2,lt=e.img1_label,ut=e.img2_label,ct=e.corr_pts,ht=e.img1_roi_xywh,dt=!!e.mode,pt=("mode"in e&&"string"==typeof e.mode&&("false"!==e.mode&&"0"!==e.mode||(dt=!1)),!!e.show_img1_right);function n(t,e){t=t.toString();return 0===t.toLowerCase().indexOf("data:")||0===t.toLowerCase().indexOf("blob:")||e.no_ts?t:t+(-1!==t.indexOf("?")?"&":"?")+(new Date).getTime()}"show_img1_right"in e&&"string"==typeof e.mode&&("false"!==e.show_img1_right&&"0"!==e.show_img1_right||(pt=!1)),Tt(nt).addClass("vdiffjs-editor-container");var i=n(st,e),o=n(at,e);function r(t,e){var n="anonymous";if("crossOrigin"in e)switch(e.crossOrigin.toLowerCase()){case"use-credentials":n="use-credentials";break;case"false":n=void 0}e=Tt.isPlainObject(t)?t:{};return void 0!==n&&(e.crossOrigin=n),e}var s,ft=Tt("<img>").attr(r({src:i},e)),mt=Tt("<img>").attr(r({src:o},e)),gt=Tt("<div>").append(ft).append(mt),vt=(Tt(nt).append(gt),gt.hide(),nt.slice(1)+"-"),yt=vt+"canvas",_t=Tt("<canvas>").attr({id:yt+"_dissolve"}).addClass("preview-dissolve"),bt=Tt("<span>").addClass("preview-header-link").attr({id:vt+"link"}),i=Tt("<div>").addClass("preview-header").text("ja"!==Pt?"Preview":"プレビュー").append(bt),wt=Tt("<div>").addClass("preview-container").append(i).append(_t),o=("horizontal"===rt&&(Tt(nt).addClass("horizontal"),wt.resizable({handles:"e"})),Tt("<div>").addClass("edit-header").text("ja"!==Pt?"Edit the corresponding points (drag the red circle or move it by arrow keys)":"対応点を修正（赤丸をドラッグまたは矢印キーで移動）")),e=Tt("<div>").attr({id:vt+"leaflet1"}).addClass("edit-leaflet"),i=Tt("<div>").attr({id:vt+"leaflet2"}).addClass("edit-leaflet"),a=Tt("<tr>"),e=(pt?a.append(Tt("<td>").addClass("edit-leaflet-left").append(i)).append(Tt("<td>").addClass("edit-leaflet-right").append(e)):a.append(Tt("<td>").addClass("edit-leaflet-left").append(e)).append(Tt("<td>").addClass("edit-leaflet-right").append(i)),Tt("<tr>").addClass("edit-legend")),i=Tt("<div>").addClass("edit-legend-left-label"),l=Tt("<div>").addClass("edit-legend-right-label"),i=(pt?(i.text(ut||("ja"!==Pt?"Image 2":"画像2")),l.text(lt||("ja"!==Pt?"Image 1":"画像1"))):(i.text(lt||("ja"!==Pt?"Image 1":"画像1")),l.text(ut||("ja"!==Pt?"Image 2":"画像2"))),e.append(Tt("<td>").addClass("edit-legend-left").append(i)).append(Tt("<td>").addClass("edit-legend-right").append(l)),Tt("<table>").addClass("edit-leaflet-container").append(a).append(e)),l=Tt("<button>").attr({id:vt+"save_param",type:"button"}).addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==Pt?"Save the corresponding points":"対応点を保存"}).html(Tt("<i>").addClass("fas fa-save")),a=Tt("<button>").attr({id:vt+"delete_param",type:"button"}).addClass("ui-button ui-widget ui-corner-all edit-buttons-delete-param").attr({title:"ja"!==Pt?"Delete the corresponding points":"対応点を削除"}).html(Tt("<i>").addClass("fas fa-trash-alt")),xt=Tt("<button>").attr({id:vt+"corr_pts_corners",type:"button"}).addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==Pt?"Set the corners as the corresponding points":"対応点を四隅に設定"}).html(Tt("<i>").addClass("fas fa-vector-square")),St=Tt("<button>").attr({id:vt+"corr_pts_auto",type:"button"}).addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==Pt?"Estimate the correspondence points":"対応点を自動推定"}).html(Tt("<i>").addClass("fas fa-magic")),e=Tt("<div>").addClass("left-block"),Ct=(t.showSaveParametersButton&&e.append(l),e.append(xt).append(St),t.showDeleteParametersButton&&e.append(a),Tt("<button>").attr({id:vt+"toggle_layout",type:"button"}).addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==Pt?"Toggle layout":"縦横レイアウト切り替え"}).html(Tt("<i>").addClass("fas fa-retweet"))),l=Tt("<a>").addClass("ui-button ui-widget ui-corner-all").attr({title:"ja"!==Pt?"Help about vdiff.js editor":"vdiff.js editorヘルプ",href:"http://codh.rois.ac.jp/software/vdiffjs/editor.html",target:"_blank"}).html(Tt("<i>").addClass("fas fa-question")),t=Tt("<div>").addClass("right-block").append(Ct).append(l),Et=Tt("<div>").addClass("edit-buttons-container clearfix").append(e).append(t).hide(),a=Tt("<div>").addClass("edit-container").append(o).append(i).append(Et);function u(){var t=[],e=it&&Tt.isPlainObject(it)&&Tt.isNumeric(it["max-size"])?it["max-size"]:500;function I(t,e){var n=1;if(t.naturalWidth>t.naturalHeight){if(t.naturalWidth>e)return{css:{width:e},ratio:n=e/t.naturalWidth,resized:{width:e,height:t.naturalHeight*n}}}else if(t.naturalHeight>e)return{css:{height:e},ratio:n=e/t.naturalHeight,resized:{width:t.naturalWidth*n,height:e}};return{css:{},ratio:n,resized:{width:t.naturalWidth*n,height:t.naturalHeight*n}}}var s=I(ft[0],e=e<=0?500:e),a=I(mt[0],e),e=(ft.css(s.css),mt.css(a.css),Tt("<div>").css({width:ft[0].naturalWidth,height:ft[0].naturalHeight,padding:0})),n=Tt("<div>").css({width:mt[0].naturalWidth,height:mt[0].naturalHeight,padding:0}),i=(Tt(nt).append(e).append(n),ft.appendTo(e),mt.appendTo(n),gt.remove(),cv.imread(ft[0])),o=(t.push(i),cv.imread(mt[0])),l=(t.push(o),e.hide(),n.hide(),Tt("<canvas>").attr({id:yt+"_1_resized"})),R=Tt("<canvas>").attr({id:yt+"_2_resized"}),r=Tt("<div>").append(l).append(R),m=(Tt(nt).append(r),cv.imshow(l[0].id,i),cv.imshow(R[0].id,o),r.hide(),{width:ft[0].width,height:ft[0].height}),g={width:mt[0].width,height:mt[0].height};e.remove(),n.remove();var u,c,h,d,p,f,v,r=new cv.Size(i.cols,i.rows),e=new cv.Rect(0,0,i.cols,i.rows),y=(ht&&(n={x:0,y:0,width:100,height:100,xywhUnit:"percent"},(C=ht)&&(v=(v=C.match(/^(pixel:|percent:)?([0-9]+),([0-9]+),([0-9]+),([0-9]+)/))||C.match(/^(pct:)(100|[1-9]?\d(?:\.\d+)?),(100|[1-9]?\d(?:\.\d+)?),(100|[1-9]?\d(?:\.\d+)?),(100|[1-9]?\d(?:\.\d+)?)/))&&(C="percent"===(E="percent:"!==v[1]&&"pct:"!==v[1]?E:"percent")?(d=parseFloat(v[2]),p=parseFloat(v[3]),f=parseFloat(v[4]),parseFloat(v[5])):(d=parseInt(v[2],10),p=parseInt(v[3],10),f=parseInt(v[4],10),parseInt(v[5],10)),n={x:d,y:p,width:f,height:C,xywhUnit:E}),v=n,s.ratio<1&&"percent"!==v.xywhUnit&&(v.x*=s.ratio,v.y*=s.ratio,v.width*=s.ratio,v.height*=s.ratio),d=i.cols,p=i.rows,C=(f=v).xywhUnit,E=f.x,n=f.y,x=f.width,f=f.height,E="percent"===C?(u=Math.min(Math.max(0,E),100),c=Math.max(Math.min(100,E+x),0),h=Math.min(Math.max(0,n),100),Math.max(Math.min(100,n+f),0)):(u=Math.min(Math.max(0,E),d),c=Math.max(Math.min(d,E+x),0),h=Math.min(Math.max(0,n),p),Math.max(Math.min(p,n+f),0)),c<u&&(S=u,u=c,c=S),E<h&&(S=h,h=E,E=S),0===(e="percent"===C?{x:u/100*d,y:h/100*p,width:(c-u)/100*d,height:(E-h)/100*p}:{x:u,y:h,width:c-u,height:E-h}).x)&&0===e.y&&0===e.width&0===e.height&&(e.width=i.cols,e.height=i.rows),[]),_=[];function b(t){var e=[];return e.push({x:0,y:0}),e.push({x:t.width,y:0}),e.push({x:t.width,y:t.height}),e.push({x:0,y:t.height}),e}if((x=function(t){try{var e,n=Tt.isPlainObject(t)?t:JSON.parse(t);if(Tt.isPlainObject(n)&&Tt.isPlainObject(n.img1)&&Tt.isPlainObject(n.img2)&&Tt.isPlainObject(n.img1.size)&&Tt.isPlainObject(n.img2.size)&&Number.isFinite(n.img1.size.w)&&Number.isFinite(n.img1.size.h)&&Number.isFinite(n.img2.size.w)&&Number.isFinite(n.img2.size.h)&&0<n.img1.size.w&&0<n.img1.size.h&&0<n.img2.size.w&&0<n.img2.size.h&&Tt.isArray(n.img1.pts)&&Tt.isArray(n.img2.pts)&&n.img1.pts.length===n.img2.pts.length&&3<n.img1.pts.length){for(;e<n.img1.pts.length;e++){var i=n.img1.pts[e],o=n.img2.pts[e];if(!(Tt.isPlainObject(i)&&Tt.isPlainObject(o)&&Number.isFinite(i.x)&&Number.isFinite(i.y)&&Number.isFinite(o.x)&&Number.isFinite(o.y)))return!1}return n}}catch(t){}return!1}(ct))||"corners"===ct)if(x){var B=x.img1.size,H=x.img2.size,F=x.img1.pts,W=x.img2.pts;y=[],_=[];for(var w=0;w<F.length;w++)y.push({x:F[w].x/B.w*m.width,y:F[w].y/B.h*m.height}),_.push({x:W[w].x/H.w*g.width,y:W[w].y/H.h*g.height})}else"corners"===ct&&(y=b(m),_=b(g));else{for(var x=[],n=new cv.Mat,S=(x.push(n),new cv.Mat),C=(x.push(S),new cv.Mat(e.height,e.width,cv.CV_8UC1,new cv.Scalar(255))),E=(x.push(C),cv.matFromArray(2,3,cv.CV_64FC1,[1,0,e.x,0,1,e.y])),C=(x.push(E),cv.warpAffine(C,n,E,r,cv.INTER_LINEAR,cv.BORDER_CONSTANT),new cv.AKAZE),V=(x.push(C),new cv.KeyPointVector),U=(x.push(V),new cv.KeyPointVector),E=(x.push(U),new cv.Mat),r=(x.push(E),new cv.Mat),A=(x.push(r),C.detectAndCompute(i,n,V,E,!1),C.detectAndCompute(o,S,U,r,!1),new cv.DMatchVectorVector),n=(x.push(A),new cv.BFMatcher(cv.NORM_HAMMING)),T=(x.push(n),n.knnMatch(E,r,A,2),[]),P=[],O=s.ratio||1,Z=a.ratio||1,k=0;k<A.size();k++){var M=A.get(k).get(0),D=A.get(k).get(1);M.distance<.5*D.distance&&(D=V.get(M.queryIdx).pt,M=U.get(M.trainIdx).pt,T.push(D.x/O),T.push(D.y/O),P.push(M.x/Z),P.push(M.y/Z))}if(C=cv.matFromArray(T.length/2,1,cv.CV_32FC2,T),x.push(C),S=cv.matFromArray(P.length/2,1,cv.CV_32FC2,P),x.push(S),4<=T.length/2&&4<=P.length/2){n=cv.findHomography(S,C,cv.RANSAC,3),x.push(n);var E={x:e.x/O,y:e.y/O,width:e.width/O,height:e.height/O},q=cv.matFromArray(4,1,cv.CV_32FC2,[E.x,E.y,E.x+E.width,E.y,E.x+E.width,E.y+E.height,E.x,E.y+E.height]),r=(x.push(q),new cv.Mat),N=(x.push(r),cv.invert(n,r),new cv.Mat);x.push(N),cv.perspectiveTransform(q,N,r),y=[],_=[];for(var z=0;z<N.rows;z++){var j=q.floatPtr(z,0),j=(y.push({x:j[0],y:j[1]}),N.floatPtr(z,0));_.push({x:j[0],y:j[1]})}}else y=b(m),_=b(g);x.forEach(function(t){t.delete()})}var e=new cv.Mat,E=(t.push(e),new cv.Mat),$=(t.push(E),cv.resize(i,e,new cv.Size(1,1)),cv.cvtColor(e,E,cv.COLOR_RGB2HSV,0),E.ucharPtr(0,0)[1]),G=(cv.resize(o,e,new cv.Size(1,1)),cv.cvtColor(e,E,cv.COLOR_RGB2HSV,0),E.ucharPtr(0,0)[1]);function Y(){var t=[],e=s.ratio||1,n=a.ratio||1,e=cv.matFromArray(4,1,cv.CV_32FC2,[y[0].x*e,y[0].y*e,y[1].x*e,y[1].y*e,y[2].x*e,y[2].y*e,y[3].x*e,y[3].y*e]),n=cv.matFromArray(4,1,cv.CV_32FC2,[_[0].x*n,_[0].y*n,_[1].x*n,_[1].y*n,_[2].x*n,_[2].y*n,_[3].x*n,_[3].y*n]),n=(t.push(e),t.push(n),cv.getPerspectiveTransform(n,e)),e=(t.push(n),cv.imread(l[0])),i=(t.push(e),cv.imread(R[0])),o=(t.push(i),new cv.Mat),r=(t.push(o),new cv.Size(e.cols,e.rows)),i=(cv.warpPerspective(i,o,n,r,cv.INTER_LINEAR,cv.BORDER_CONSTANT),new cv.Mat),n=(t.push(i),new cv.Mat),r=(t.push(n),cv.GaussianBlur(o,n,new cv.Size(3,3),1),cv.addWeighted(o,1.5,n,-.5,0,i),new cv.Mat);t.push(r),cv.addWeighted(e,.5,i,.5,0,r),cv.imshow(_t[0].id,r),t.forEach(function(t){t.delete()})}function X(){var t=et||{};return t.img1=st,t.img2=at,lt&&(t.img1_label=lt),ut&&(t.img2_label=ut),t.corr_pts={img1:{size:{w:m.width,h:m.height},pts:y},img2:{size:{w:g.width,h:g.height},pts:_}},t.img1_roi_xywh&&(t.img1_roi_xywh=void 0),dt&&(t.mode=dt),pt&&(t.show_img1_right=!0),t}function K(){var t;ot&&((t=X()).corr_pts=JSON.stringify(t.corr_pts),t=ot+(-1<String(ot).indexOf("?")?"&":"?")+Tt.param(t,!0),t=Tt("<a>").attr({href:t,target:"_blank"}).text("ja"!==Pt?"Check with vdiff.js":"画像比較ツールで確認").prop("outerHTML"),bt.html(t="ja"!==Pt?" ("+t+")":"（"+t+"）"))}function J(t){for(var e,n,i={crs:L.CRS.Simple,boxZoom:!1,center:[0,0],zoom:0,fitBounds:!0,keyboard:!1},o=L.map(vt+"leaflet"+t,i),r=1===t?(s=m.height,a=m.width,e=st,n=$,y):(s=g.height,a=g.width,e=at,n=G,_),i=o.getSize(),t=0!==a?Math.log(i.x/a)*Math.LOG2E:0,i=0!==s?Math.log(i.y/s)*Math.LOG2E:0,t=Math.floor(Math.min(t,i)),i=(o.setMinZoom(t<0?t:0),o.setZoom(t),o.attributionControl&&o.attributionControl.setPrefix(""),o.options.crs.pointToLatLng(L.point(0,s),0)),t=o.options.crs.pointToLatLng(L.point(a,0),0),s=L.latLngBounds(i,t),a=L.imageOverlay(e,s),l=(o.addLayer(a),o.fitBounds(a.getBounds()),[]),u=0;u<4;u++)l.push([-r[u].y,r[u].x]);var c=L.polygon(l,{color:n<3?"#3388ff":"white",weight:1,fill:!1}).addTo(o);function h(t){var e,n=c.getLatLngs();Tt.isArray(n)&&0<n.length&&Tt.isArray(n[0])&&4===n[0].length&&(n[0][t.target.options.index]=t.latlng,c.setLatLngs(n),n=t.latlng.lng,e=-t.latlng.lat,r[t.target.options.index]={x:n,y:e},Y(),K())}function d(t){var e=t.target.getLatLng(),n=o.getZoom(),i=1/Math.pow(2,n);switch(t.originalEvent.keyCode){case 37:e.lng-=i;break;case 39:e.lng+=i;break;case 40:e.lat-=i;break;case 38:e.lat+=i;break;default:return}t.target.setLatLng(e),t.latlng=e,h(t),t.originalEvent.preventDefault()}for(var p=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA/klEQVQokZ2TS04CQRiEv8xJBCO44jqgyzkAIS45DpG4BT2FPMIRWI0JjwOAmpSb+rHTTsjETjqd1F/1vxuSIygEj4I3wYfg0++r4EFQUHcEt4KNQL5bwcpvYGtBu064N2EiuMvsHcHU9r2glaYaEYe1af06GZm3EhS4Rgkm14SJg8hggJujPNUr4q75c9zNbQNRT1D6HgQVgrPgvYF4nHT9S3D6b+RjRI6aOw1rvjd/hjdHgueaSGNBL8NfzO/HnNcGRgmpNFYm2JOx5WVVBS3Bzoapx3ERO9WIuBPc5LW0vTnR0YPg280JbPFHmDgoBAPBXFB5jJVgJujnv+oHKqDTdpNjxD4AAAAASUVORK5CYII=","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABAklEQVQokZ2TSWpCQRiEP95JohLjSvA0GpcuXAbJRshxJOJWk1s44BHUxQs4HMAMUG6qTdN5yCMNTUP9Vf/cEB1BJugK3gUfgi+/b4JHQUbREdQEa4F8N4Kl34CtBNUi4cGEkeA+sdcFY9sPgkqcaoj4VJjWr5OBeUtBhmuUYHRLGDkIGXRwc5SmekP8YP4Md/Mo6Pu2SjjYCnIEn4LvqKMvJcRzwfm/kXchcqi5XrLmhvlTvDkSvCakpmAoaCb4xPx2mPPKwCAi9Yz1IuzZ2OK6qoKKYG/D2OO4ip1qiLgX3KW1VL05oetHwY/gFGHzP8LIQSboCGaC3GPMBVNBO/1VFxTb04ydFqHtAAAAAElFTkSuQmCC","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAABAElEQVQokZ2TQWoCQRBFH3OSaFCzEnIaTZYusgySTcDjSCRbTW6hkVxBFxMwuYDGwMumWppxIEMamqb/1P9V9bsGsiUUwq3wKnwI33G+CDdCQd0SLoV3wdifwk+cCVsL7TpiCpoKHWEU95HQFWaZaCsvNWW8zwRP5AwbB/YmFESPCtNKNX3hUehX8FTBkDBHoVNrxrk3vYhfEG5+CXexrxsIbIQS4SAcM0cnDchLYf/fzNuUOfXcbdjzVcTPiclReGpIfo74QXrndQDjP4gPEbc6jarQEnbxYSb0akpNGXfCRVW1HZOTXN/EfZthyzNiJlAIQ2EhlPGMpTAXBtW/6hexadOM3oTRGQAAAABJRU5ErkJggg==","data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA8AAAAPCAYAAAA71pVKAAAA/klEQVQokaWTS0oDQRRFD70SE0niKOBqEjPMwGEITgSXEwxOE12FJiFLMA5aiLgAf3CcvApFp8EGC4qibt/7PrdeQ7aEQhgJD8Kr8BXnvXAhFNQt4VTYCsZ+E37iTNhGaNcJE2kmdIRx3MdCV5hnQVt5qSnjJAt4EGfYNLC1UBA9Kswq1fSFa6FfwVMFQ8IchU6tGcfe9IK/JNx8biA6Fy5jvwslwqfw2EB8k7n+LXz8O3Pquduw57PgL4jJUbhtKL4L/iC98yaA6R/Cq+CtDqMqtIR9fJgLvZpSU8a9cFKN2o7JSY7u4v6SYU9HwixAIQyFpVDGM5bCQhhU/6pf67DTisCdVBcAAAAASUVORK5CYII="],u=0;u<4;u++){var f={icon:L.icon({iconUrl:p[u],iconSize:[15,15],iconAnchor:[8,8],className:"edit-leaflet-marker"}),draggable:!0,index:u};L.marker(l[u],f).on("drag",h).on("keydown",d).addTo(o)}return o}t.forEach(function(t){t.delete()}),Y(),K();var Q=J(1),tt=J(2);return xt.on("click",function(){Tt(nt).empty(),Ot({corr_pts:"corners"})}),St.on("click",function(){Tt(nt).empty(),Ot({corr_pts:"auto"})}),Ct.on("click",function(){"horizontal"===(rt="horizontal"===rt?"vertical":"horizontal")?(Tt(nt).addClass("horizontal"),wt.resizable({handles:"e"})):(Tt(nt).removeClass("horizontal"),wt.resizable("destroy")),Q&&Q.invalidateSize(!0),tt&&tt.invalidateSize(!0)}),Et.show(),Tt.isFunction(At.doneCallback)&&At.doneCallback(),Tt.isFunction(At.alwaysCallback)&&At.alwaysCallback(),{getParameters:X}}return Tt(nt).append(wt).append(a),Tt.when.apply(Tt,Tt(nt+" img").map(function(t,e){var n=Tt.Deferred();return e.complete?n.resolve():(Tt(e).on("load",function(){n.resolve()}),Tt(e).on("error",function(){n.reject()})),n})).done(function(){s=u()}).fail(function(){c("ja"!==Pt?"Image could not be loaded.":"画像を読み込めませんでした。")}),{getParameters:function(){return s?s.getParameters():{}}}}function Ot(t){var e={};Tt.isPlainObject(At)?e=Tt.isPlainObject(At.data)?At.data:i(location.search)||{}:At={},Tt.isPlainObject(t)&&t.corr_pts&&(e.corr_pts=t.corr_pts),At.id?e.img1&&e.img2?n=o(At,e):c("ja"!==Pt?"Specify the images to compare.":"比較する画像を指定してください。"):c("ja"!==Pt?"Specify where to display.":"表示先を指定してください。")}};
/*
 * vdiff.js - JavaScript-based visual differencing tool
 * http://codh.rois.ac.jp/software/vdiffjs/
 *
 * Copyright 2021 Center for Open Data in the Humanities, Research Organization of Information and Systems
 * Released under the MIT license
 *
 * Core contributor: Jun HOMMA (@2SC1815J)
 *
 * Licenses of open source libraries, see acknowledgements.md
 */